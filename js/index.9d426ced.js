(function(e){function t(t){for(var n,s,r=t[0],c=t[1],h=t[2],l=0,d=[];l<r.length;l++)s=r[l],a[s]&&d.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,h||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,s=1;s<i.length;s++){var r=i[s];0!==a[r]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=i[0]))}return e}var n={},s={index:0},a={index:0},o=[];function r(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"5cd4b684","chunk-04ba02e7":"9ce0d4ed","chunk-399e2613":"495458c9","chunk-84e17dd0":"6e916017","chunk-bcd97db4":"9107d33f","chunk-d63807ee":"a421248c"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(e){var t=[],i={"chunk-04ba02e7":1,"chunk-84e17dd0":1};s[e]?t.push(s[e]):0!==s[e]&&i[e]&&t.push(s[e]=new Promise(function(t,i){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-04ba02e7":"258c9bfa","chunk-399e2613":"31d6cfe0","chunk-84e17dd0":"8b9b55af","chunk-bcd97db4":"31d6cfe0","chunk-d63807ee":"31d6cfe0"}[e]+".css",a=c.p+n,o=document.getElementsByTagName("link"),r=0;r<o.length;r++){var h=o[r],l=h.getAttribute("data-href")||h.getAttribute("href");if("stylesheet"===h.rel&&(l===n||l===a))return t()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){h=d[r],l=h.getAttribute("data-href");if(l===n||l===a)return t()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=t,u.onerror=function(t){var n=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.request=n,delete s[e],u.parentNode.removeChild(u),i(o)},u.href=a;var g=document.getElementsByTagName("head")[0];g.appendChild(u)}).then(function(){s[e]=0}));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,i){n=a[e]=[t,i]});t.push(n[2]=o);var h,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=r(e),h=function(t){l.onerror=l.onload=null,clearTimeout(d);var i=a[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+s+")");o.type=n,o.request=s,i[1](o)}a[e]=void 0}};var d=setTimeout(function(){h({type:"timeout",target:l})},12e4);l.onerror=l.onload=h,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(i,n,function(t){return e[t]}.bind(null,n));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw console.error(e),e};var h=window["webpackJsonp"]=window["webpackJsonp"]||[],l=h.push.bind(h);h.push=t,h=h.slice();for(var d=0;d<h.length;d++)t(h[d]);var u=l;o.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("c31f")},"000c":function(e,t,i){"use strict";i.d(t,"a",function(){return r});i("ac6a"),i("7f7f");var n=i("d225"),s=i("b0b4"),a=i("af70"),o=i("995b"),r=function(){function e(t,i,s){if(Object(n["a"])(this,e),!t)throw"ORYX.Core.StencilSet.ComplexPropertyItem(construct): Parameter jsonItem is not defined.";if(!i)throw"ORYX.Core.StencilSet.ComplexPropertyItem(construct): Parameter namespace is not defined.";if(!s)throw"ORYX.Core.StencilSet.ComplexPropertyItem(construct): Parameter property is not defined.";if(this._jsonItem=t,this._namespace=i,this._property=s,this._items=new Hash,this._complexItems=new Hash,!t.name)throw"ORYX.Core.StencilSet.ComplexPropertyItem(construct): Name is not defined.";if(!t.type)throw"ORYX.Core.StencilSet.ComplexPropertyItem(construct): Type is not defined.";if(t.type=t.type.toLowerCase(),t.type===a["a"].TYPE_CHOICE){if(!(t.items&&t.items instanceof Array))throw"ORYX.Core.StencilSet.Property(construct): No property items defined.";t.items.each(function(e){this._items[e.value]=new o["a"](e,i,this)}.bind(this))}else if(t.type===a["a"].TYPE_COMPLEX){if(!(t.complexItems&&t.complexItems instanceof Array))throw"ORYX.Core.StencilSet.Property(construct): No property items defined.";t.complexItems.each(function(t){this._complexItems[t.id]=new e(t,i,this)}.bind(this))}}return Object(s["a"])(e,[{key:"equals",value:function(e){return this.property().equals(e.property())&&this.name()===e.name()}},{key:"namespace",value:function(){return this._namespace}},{key:"property",value:function(){return this._property}},{key:"name",value:function(){return this._jsonItem.name}},{key:"id",value:function(){return this._jsonItem.id}},{key:"type",value:function(){return this._jsonItem.type}},{key:"optional",value:function(){return this._jsonItem.optional}},{key:"width",value:function(){return this._jsonItem.width}},{key:"value",value:function(){return this._jsonItem.value}},{key:"items",value:function(){return this._items.values()}},{key:"complexItems",value:function(){return this._complexItems.values()}},{key:"disable",value:function(){return this._jsonItem.disable}}]),e}()},"0130":function(e,t,i){"use strict";var n=i("f499"),s=i.n(n),a=(i("7f7f"),i("7514"),i("6b54"),i("c5f6"),i("4917"),i("3b2b"),i("a481"),i("af70")),o=i("a791"),r={getParamFromUrl:function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",i=new RegExp(t),n=i.exec(window.location.href);return null==n?null:n[1]},adjustLightness:function(){return arguments[0]},adjustGradient:function(e,t){if(a["a"].DISABLE_GRADIENT&&e){var i=t.getAttributeNS(null,"stop-color")||"#ffffff";$A(e.getElementsByTagName("stop")).each(function(e){e!=t&&e.setAttributeNS(null,"stop-color",i)})}},graft:function(e,t,i,n){var s;if(n=n||t&&t.ownerDocument||document,void 0===i)throw"Can't graft an undefined value";if(i.constructor==String)s=n.createTextNode(i);else for(var a=0;a<i.length;a++){if(0===a&&i[a].constructor==String){var o=i[a].match(/^([a-z][a-z0-9]*)\.([^\s\.]+)$/i);if(o){s=n.createElementNS(e,o[1]),s.setAttributeNS(null,"class",o[2]);continue}if(o=i[a].match(/^([a-z][a-z0-9]*)$/i),o){s=n.createElementNS(e,o[1]);continue}s=n.createElementNS(e,"span"),s.setAttribute(null,"class","namelessFromLOL")}if(void 0===i[a])throw"Can't graft an undefined value in a list!";if(i[a].constructor==String||i[a].constructor==Array)this.graft(e,s,i[a],n);else if(i[a].constructor==Number)this.graft(e,s,i[a].toString(),n);else if(i[a].constructor==Object)for(var r in i[a])s.setAttributeNS(null,r,i[a][r])}return t&&t.appendChild&&t.appendChild(s),s},provideId:function(){for(var e=[],t="0123456789ABCDEF",i=0;i<36;i++)e[i]=Math.floor(16*Math.random());e[14]=4,e[19]=3&e[19]|8;for(var n=0;n<36;n++)e[n]=t[e[n]];return e[8]=e[13]=e[18]=e[23]="-","sid-"+e.join("")},SVGClassElementsAreAvailable:!0,checkClassType:function(e,t){return this.SVGClassElementsAreAvailable?e instanceof t:e==t},setMissingClasses:function(){try{SVGElement}catch(e){this.SVGClassElementsAreAvailable=!1;document.createElementNS("http://www.w3.org/2000/svg","svg").toString(),document.createElementNS("http://www.w3.org/2000/svg","g").toString(),document.createElementNS("http://www.w3.org/2000/svg","path").toString(),document.createElementNS("http://www.w3.org/2000/svg","text").toString(),document.createElementNS("http://www.w3.org/2000/svg","rect").toString(),document.createElementNS("http://www.w3.org/2000/svg","image").toString(),document.createElementNS("http://www.w3.org/2000/svg","circle").toString(),document.createElementNS("http://www.w3.org/2000/svg","ellipse").toString(),document.createElementNS("http://www.w3.org/2000/svg","line").toString(),document.createElementNS("http://www.w3.org/2000/svg","polyline").toString(),document.createElementNS("http://www.w3.org/2000/svg","polygon").toString()}},availablePlugins:[],_loadPlugins:function(e){this.availablePlugins.length=0;var t=e,i=[],n=$A(t.getElementsByTagName("properties"));n.each(function(e){var t=$A(e.childNodes);t.each(function(e){var t=new Hash,n=$A(e.attributes);n.each(function(e){t.set(e.nodeName,e.nodeValue)}),n.length>0&&i.push(t)})});var s=t.getElementsByTagName("plugin"),r=this;$A(s).each(function(e){var t=new Hash;if($A(e.attributes).each(function(e){t.set(e.nodeName,e.nodeValue)}),t.get("name"))if(t.get("source")){var n=e.getElementsByTagName("property"),s=[];$A(n).each(function(e){var t=new Hash,i=$A(e.attributes);i.each(function(e){t.set(e.nodeName,e.nodeValue)}),i.length>0&&s.push(t)}),s=s.concat(i),t.set("properties",s);var c,h=e.getElementsByTagName("requires");$A(h).each(function(e){var t=$A(e.attributes).find(function(e){return"namespace"==e.name});t&&t.nodeValue&&(c||(c={namespaces:[]}),c.namespaces.push(t.nodeValue))}),c&&t.set("requires",c);var l,d=e.getElementsByTagName("notUsesIn");$A(d).each(function(e){var t=$A(e.attributes).find(function(e){return"namespace"==e.name});t&&t.nodeValue&&(l||(l={namespaces:[]}),l.namespaces.push(t.nodeValue))}),l&&t.set("notUsesIn",l);var u=a["a"].PATH+a["a"].PLUGINS_FOLDER+t.get("source");o["a"].debug("Requireing '%0'",u),r.availablePlugins.push(t)}else o["a"].error("Plugin with name '%0' doesn't provide a source attribute.",t.get("name"));else o["a"].error("A plugin is not providing a name. Ingnoring this plugin.")}),console.log(44,r.availablePlugins)},JSONHelper:{eachChild:function(e,t,i){if(this.childShapes){var n=[];this.childShapes.each(function(s){s.eachChild instanceof Function||jQuery.extend(s,this.JSONHelper);var a=e(s,this);a&&n.push(a),t&&s.eachChild(e,t,i)}.bind(this)),i&&(this.childShapes=n)}},getShape:function(){return null},getChildShapes:function(e){var t=this.childShapes;return e&&this.eachChild(function(i){i.getChildShapes instanceof Function||jQuery.extend(i,this.JSONHelper),t=t.concat(i.getChildShapes(e))},!0),t},serialize:function(){return s()(this)}},ifIE10:function(){var e=navigator.userAgent,t=-1!==navigator.appVersion.indexOf("MSIE 10")||-1!==e.indexOf("Trident")&&-1!==e.indexOf("rv:11");return t},IE10AndBelow:function(){if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var e=navigator.userAgent;if(e.indexOf("MSIE")>=0)return!0}return!1},IEZoomBelow10:function(e){if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var t=navigator.userAgent;if(t.indexOf("MSIE")>=0){var i=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);if(100!==i)return e=i/100,e}}return e},getTranslation:function(e,t){var i="en_us",n=e[t+"_"+i];return n||(n=e[t+"_"+i.substr(0,2)],n||e[t])}};t["a"]=r},"02a5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACOSURBVDiNxZOxDQMxDAPJwDMlTQb4ESyt4TGCX8Nqvs8CqbwU0zidAzhwgCegRuCxICRKwoouSzSABADufpe0A7hOco1kqbW+EgB0+BERxwzt7ltnbpCEnLMk4Zf5MMsdnB+QRkszGx5HRHAqYGT8pvM7+FtAc/dtFureBvQSSRZJu5k9JzMayQIAXH3nN1THWgoy/KC8AAAAAElFTkSuQmCC"},"031d":function(e,t,i){},"04d5":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADGSURBVDiNjZNBEoMgDAAXuPZVetIHgP7G3zDwgPbUvqrXDL2ow1iD5gaT3SQTMKUUtJjneQGIMS5ajr2AO6DbRLcFK9CLyCgiI9Brkj9BBQ8552/O+SsigyaxLTiEUEIIpSWxGnyspEnsHbglMdM0LUAnIuPWtiYASCkZ7/3DOfcEPuoa74YppagjbN2klMx2t1Z/Ae8Y42Jhf2lv59zLe//Qqh1hqLZwJTmD9xHqOBtHg08FRwmABquCWrIeT+GmoJI0v/MP+SK6UFLKcIEAAAAASUVORK5CYII="},"075e":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Editor});var core_js_modules_es6_string_starts_with__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("f559"),core_js_modules_es6_string_starts_with__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_string_starts_with__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("3b2b"),core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_constructor__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_3__),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("308d"),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("6bb5"),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4e2b"),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("f499"),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_string_ends_with__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("aef6"),core_js_modules_es6_string_ends_with__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_string_ends_with__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("386d"),core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_regexp_search__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_13__),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("d225"),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("b0b4"),_Log__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("a791"),_CONFIG__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("af70"),_Editor__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("075e"),_Utils__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("0130"),_Plugins__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("40dd"),_core_Edge__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("9059"),_core_Node__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("aca4"),_core_Shape__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("19ce"),_core_Canvas__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("c19a"),_core_StencilSet__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("0f48"),_core_Command__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("ffea"),_core_Controls_Docker__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("eb23"),Plugins=_Plugins__WEBPACK_IMPORTED_MODULE_20__["a"],Editor=function(){function Editor(e){Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_14__["a"])(this,Editor),this.DOMEventListeners=new Hash,this.selection=[],this.zoomLevel=1,this._eventsQueue=[],this.loadedPlugins=[],this.pluginsData=[];var t=e;this.id=t.modelId,e.model&&(t=e.model),this.id||(this.id=t.id,this.id||(this.id=_Utils__WEBPACK_IMPORTED_MODULE_19__["a"].provideId())),this.fullscreen=!1!==e.fullscreen,this._initEventListener(),this._createCanvas(t.stencil?t.stencil.id:null,t.properties),this._generateGUI();var i=!1,n=!1,s=function(){i&&n&&this._finishedLoading()}.bind(this);this.loadPlugins(),i=!0,s(),window.setTimeout(function(){this.loadSerialized(t,!0),this.getCanvas().update(),n=!0,s(),this.handleEvents({type:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_EDITOR_INIT_COMPLETED})}.bind(this),200),this.Cookie={callbacks:[],onChange:function(e,t){this.callbacks.push(e),this.start(t)},start:function(e){if(!this.pe){var t=document.cookie;this.pe=new PeriodicalExecuter(function(){t!=document.cookie&&(t=document.cookie,this.callbacks.each(function(e){e(this.getParams())}.bind(this)))}.bind(this),(e||1e4)/1e3)}},stop:function(){this.pe&&(this.pe.stop(),this.pe=null)},getParams:function(){var e={},t=document.cookie;return t.split("; ").each(function(t){e[t.split("=")[0]]=t.split("=")[1]}),e},toString:function(){return document.cookie}}}return Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_15__["a"])(Editor,[{key:"_finishedLoading",value:function(){this.handleEvents({type:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_LOADED})}},{key:"_initEventListener",value:function(){document.documentElement.addEventListener(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_KEYDOWN,this.catchKeyDownEvents.bind(this),!1),document.documentElement.addEventListener(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_KEYUP,this.catchKeyUpEvents.bind(this),!1),this._keydownEnabled=!0,this._keyupEnabled=!0,this.DOMEventListeners.set(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEDOWN,[]),this.DOMEventListeners.set(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEUP,[]),this.DOMEventListeners.set(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEOVER,[]),this.DOMEventListeners.set(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEOUT,[]),this.DOMEventListeners.set(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_SELECTION_CHANGED,[]),this.DOMEventListeners.set(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEMOVE,[])}},{key:"_generateGUI",value:function(){_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].WINDOW_HEIGHT;var e=this.getCanvas().rootNode.parentNode;jQuery("#canvasSection").append(e),e.parentNode&&(e.parentNode.setAttributeNS(null,"align","center"),e.setAttributeNS(null,"align","left"),this.getCanvas().setSize({width:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].CustomConfigs.CANVAS_WIDTH,height:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].CustomConfigs.CANVAS_HEIGHT}))}},{key:"getAvailablePlugins",value:function(){var e=_Utils__WEBPACK_IMPORTED_MODULE_19__["a"].availablePlugins.clone();return e.each(function(e){this.loadedPlugins.find(function(e){return e.type==this.name}.bind(e))?e.engaged=!0:e.engaged=!1}.bind(this)),e}},{key:"loadScript",value:function(e,t){var i=document.createElement("script");i.type="text/javascript",i.readyState?i.onreadystatechange=function(){"loaded"!=i.readyState&&"complete"!=i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()},i.src=e,document.getElementsByTagName("head")[0].appendChild(i)}},{key:"activatePluginByName",value:function activatePluginByName(name,callback,loadTry){var match=this.getAvailablePlugins().find(function(e){return e.name==name});if(!match||match.engaged&&"false"!==match.engaged)callback(!1,match?"NOTFOUND":"YETACTIVATED");else{var loadedStencilSetsNamespaces=this.getStencilSets().keys(),facade=this._getPluginFacade(),newPlugin,me=this;if(_Log__WEBPACK_IMPORTED_MODULE_16__["a"].debug("Initializing plugin '%0'",match.name),match.requires&&match.requires.namespaces&&!match.requires.namespaces.any(function(e){return loadedStencilSetsNamespaces.indexOf(e)>=0}))callback(!1,"REQUIRESTENCILSET"),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].info("Plugin need a stencilset which is not loaded'",match.name);else if(match.notUsesIn&&match.notUsesIn.namespaces&&match.notUsesIn.namespaces.any(function(e){return loadedStencilSetsNamespaces.indexOf(e)>=0}))callback(!1,"NOTUSEINSTENCILSET"),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].info("Plugin need a stencilset which is not loaded'",match.name);else try{var className=eval(match.name),_newPlugin=new className(facade,match);_newPlugin.type=match.name,_newPlugin.registryChanged&&_newPlugin.registryChanged(me.pluginsData),_newPlugin.onSelectionChanged&&me.registerOnEvent(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_SELECTION_CHANGED,_newPlugin.onSelectionChanged.bind(_newPlugin)),this.loadedPlugins.push(_newPlugin),this.loadedPlugins.each(function(e){e.registryChanged&&e.registryChanged(this.pluginsData)}.bind(me)),callback(!0)}catch(e){if(_Log__WEBPACK_IMPORTED_MODULE_16__["a"].warn("Plugin %0 is not available",match.name),loadTry)return void callback(!1,"INITFAILED");this.loadScript("plugins/scripts/"+match.source,this.activatePluginByName.bind(this,match.name,callback,!0))}}}},{key:"loadPlugins",value:function loadPlugins(){var me=this,newPlugins=[],loadedStencilSetsNamespaces=this.getStencilSets().keys(),facade=this._getPluginFacade();Plugins.availablePlugins.each(function(value){_Log__WEBPACK_IMPORTED_MODULE_16__["a"].debug("Initializing plugin '%0'",value.get("name"));try{var className=eval(value.get("name"));if(className){var plugin=new className(facade,value);plugin.type=value.get("name"),newPlugins.push(plugin),plugin.engaged=!0}}catch(e){_Log__WEBPACK_IMPORTED_MODULE_16__["a"].warn("Plugin %0 is not available %1",value.get("name"),e)}}),newPlugins.each(function(e){e.registryChanged&&e.registryChanged(me.pluginsData),e.onSelectionChanged&&me.registerOnEvent(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_SELECTION_CHANGED,e.onSelectionChanged.bind(e))}),this.loadedPlugins=newPlugins,this.registerPluginsOnKeyEvents(),this.setSelection()}},{key:"_createCanvas",value:function(e,t){e?-1===e.search(/^http/)&&(e=this.getStencilSets().values()[0].namespace()+e):e=this.getStencilSets().values()[0].findRootStencilName();var i=_core_StencilSet__WEBPACK_IMPORTED_MODULE_25__["a"].stencil(e);i||_Log__WEBPACK_IMPORTED_MODULE_16__["a"].fatal("初始化失败, 因为类型为 %0 的模具不是加载的模具集的一部分。",e);var n=_Utils__WEBPACK_IMPORTED_MODULE_19__["a"].graft("http://www.w3.org/1999/xhtml",null,["div"]);if(n.addClassName("ORYX_Editor"),this._canvas=new _core_Canvas__WEBPACK_IMPORTED_MODULE_24__["a"]({width:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].CustomConfigs.CANVAS_WIDTH,height:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].CustomConfigs.CANVAS_HEIGHT,eventHandlerCallback:this.handleEvents.bind(this),id:this.id,parentNode:n},i,this._getPluginFacade()),t){var s=[];for(var a in t)s.push({prefix:"oryx",name:a,value:t[a]});this._canvas.deserialize(s)}}},{key:"_getPluginFacade",value:function(){return this._pluginFacade||(this._pluginFacade={activatePluginByName:this.activatePluginByName.bind(this),getAvailablePlugins:this.getAvailablePlugins.bind(this),offer:this.offer.bind(this),getStencilSets:this.getStencilSets.bind(this),getStencilSetExtensionDefinition:function(){return Object.clone(this.ss_extensions_def||{})}.bind(this),getRules:this.getRules.bind(this),loadStencilSet:this.loadStencilSet.bind(this),createShape:this.createShape.bind(this),deleteShape:this.deleteShape.bind(this),getSelection:this.getSelection.bind(this),setSelection:this.setSelection.bind(this),updateSelection:this.updateSelection.bind(this),getCanvas:this.getCanvas.bind(this),importJSON:this.importJSON.bind(this),getJSON:this.getJSON.bind(this),getSerializedJSON:this.getSerializedJSON.bind(this),executeCommands:this.executeCommands.bind(this),isExecutingCommands:this.isExecutingCommands.bind(this),registerOnEvent:this.registerOnEvent.bind(this),unregisterOnEvent:this.unregisterOnEvent.bind(this),raiseEvent:this.handleEvents.bind(this),enableEvent:this.enableEvent.bind(this),disableEvent:this.disableEvent.bind(this),eventCoordinates:this.eventCoordinates.bind(this),eventCoordinatesXY:this.eventCoordinatesXY.bind(this),getModelMetaData:this.getModelMetaData.bind(this)}),this._pluginFacade}},{key:"isExecutingCommands",value:function(){return!!this.commandExecuting}},{key:"executeCommands",value:function(e){if(this.commandStack||(this.commandStack=[]),this.commandStackExecuted||(this.commandStackExecuted=[]),this.commandStack=[].concat(this.commandStack).concat(e),!this.commandExecuting){this.commandExecuting=!0;while(this.commandStack.length>0){var t=this.commandStack.shift();t.execute(),this.commandStackExecuted.push(t)}this.handleEvents({type:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_EXECUTE_COMMANDS,commands:this.commandStackExecuted}),delete this.commandStack,delete this.commandStackExecuted,delete this.commandExecuting,this.updateSelection()}}},{key:"getJSON",value:function(){var e=this.getCanvas().toJSON();return e.ssextensions=this.getStencilSets().values()[0].extensions().keys().findAll(function(e){return!e.endsWith("/meta#")}),e}},{key:"getSerializedJSON",value:function(){return E_myself_flowable_edit_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_7___default()(this.getJSON())}},{key:"importJSON",value:function(e,t){try{e=this.renewResourceIds(e)}catch(a){throw a}if(e.stencilset.namespace&&e.stencilset.namespace!==this.getCanvas().getStencil().stencilSet().namespace()){var i="The stencil set of the imported file ({0}) does not match to the loaded stencil set ({1}).";return alert(String.format(i,e.stencilset.namespace,this.getCanvas().getStencil().stencilSet().namespace())),null}var n=function(e){function t(e,i,n,s){var a;return Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_14__["a"])(this,t),a=Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__["a"])(this,Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__["a"])(t).call(this)),a.jsonObject=e,a.noSelection=n,a.facade=s,a.shapes,a.connections=[],a.parents=new Hash,a.selection=a.facade.getSelection(),a.loadSerialized=i,a}return Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__["a"])(t,e),Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_15__["a"])(t,[{key:"execute",value:function(){this.shapes?(this.shapes.each(function(e){this.parents[e.id].add(e)}.bind(this)),this.connections.each(function(e){e[0].setDockedShape(e[1]),e[0].setReferencePoint(e[2]),e[0].update()})):(this.shapes=this.loadSerialized(this.jsonObject),this.shapes.each(function(e){if(e.getDockers){var t=e.getDockers();t&&(t.length>0&&this.connections.push([t.first(),t.first().getDockedShape(),t.first().referencePoint]),t.length>1&&this.connections.push([t.last(),t.last().getDockedShape(),t.last().referencePoint]))}this.parents[e.id]=e.parent}.bind(this))),this.facade.getCanvas().update(),this.noSelection?this.facade.updateSelection():this.facade.setSelection(this.shapes),this.facade.getCanvas().updateSize()}},{key:"rollback",value:function(){var e=this.facade.getSelection();this.shapes.each(function(t){e=e.without(t),this.facade.deleteShape(t)}.bind(this)),this.facade.getCanvas().update(),this.facade.setSelection(e)}}]),t}(_core_Command__WEBPACK_IMPORTED_MODULE_26__["a"]),s=new n(e,this.loadSerialized.bind(this),t,this._getPluginFacade());return this.executeCommands([s]),s.shapes.clone()}},{key:"renewResourceIds",value:function(e){var t;if("String"===Object.prototype.toString.call(e))try{t=e,e=JSON.parse(e)}catch(s){throw new SyntaxError(s.message)}else t=E_myself_flowable_edit_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_7___default()(e);var i=function e(t){return t?t.map(function(t){return e(t.childShapes).concat(t.resourceId)}).flatten():[]},n=i(e.childShapes);return n.each(function(e){var i=_Utils__WEBPACK_IMPORTED_MODULE_19__["a"].provideId();t=t.replace(new RegExp(e,"g"),i)}),JSON.parse(t)}},{key:"loadSerialized",value:function(e,t){this.getCanvas();if(this.loadSSExtensions(e.ssextensions),!0===t){var i=this.getExtensionForMetaData();i&&this.loadSSExtension(i)}var n=this.getCanvas().addShapeObjects(e.childShapes,this.handleEvents.bind(this));if(e.properties)for(var s in e.properties){var a=e.properties[s],o=this.getCanvas().getStencil().property("oryx-"+s);"string"===typeof a||o&&o.isList()||(a=E_myself_flowable_edit_node_modules_babel_runtime_corejs2_core_js_json_stringify__WEBPACK_IMPORTED_MODULE_7___default()(a)),this.getCanvas().setProperty("oryx-"+s,a)}return this.getCanvas().updateSize(),this.selection=[null],this.setSelection([]),n}},{key:"getExtensionForMetaData",value:function(){if(!this.ss_extensions_def||!(this.ss_extensions_def.extensions instanceof Array))return null;var e=this.getStencilSets(),t=this.ss_extensions_def.extensions.find(function(t){return!!e[t["extends"]]&&t.namespace.endsWith("/meta#")});return t&&t.namespace||null}},{key:"loadSSExtensions",value:function(e){e&&e.each(function(e){this.loadSSExtension(e)}.bind(this))}},{key:"loadSSExtension",value:function(e){if(this.ss_extensions_def){var t=this.ss_extensions_def.extensions.find(function(t){return t.namespace==e});if(!t)return;var i=this.getStencilSets()[t["extends"]];if(!i)return;(t["definition"]||"").startsWith("/")?i.addExtension(t["definition"]):i.addExtension(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].SS_EXTENSIONS_FOLDER+t["definition"]),this.getRules().initializeRules(i),this._getPluginFacade().raiseEvent({type:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_STENCIL_SET_LOADED})}}},{key:"disableEvent",value:function(e){if(e==_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_KEYDOWN&&(this._keydownEnabled=!1),e==_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_KEYUP&&(this._keyupEnabled=!1),this.DOMEventListeners.keys().member(e)){var t=this.DOMEventListeners.unset(e);this.DOMEventListeners.set("disable_"+e,t)}}},{key:"enableEvent",value:function(e){if(e==_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_KEYDOWN&&(this._keydownEnabled=!0),e==_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_KEYUP&&(this._keyupEnabled=!0),this.DOMEventListeners.keys().member("disable_"+e)){var t=this.DOMEventListeners.unset("disable_"+e);this.DOMEventListeners.set(e,t)}}},{key:"registerOnEvent",value:function(e,t){this.DOMEventListeners.keys().member(e)||this.DOMEventListeners.set(e,[]),this.DOMEventListeners.get(e).push(t)}},{key:"unregisterOnEvent",value:function(e,t){this.DOMEventListeners.keys().member(e)&&this.DOMEventListeners.set(e,this.DOMEventListeners.get(e).without(t))}},{key:"getSelection",value:function(){return this.selection||[]}},{key:"getStencilSets",value:function(){return _core_StencilSet__WEBPACK_IMPORTED_MODULE_25__["a"].stencilSets(this.id)}},{key:"getRules",value:function(){return _core_StencilSet__WEBPACK_IMPORTED_MODULE_25__["a"].rules(this.id)}},{key:"loadStencilSet",value:function(e){try{_core_StencilSet__WEBPACK_IMPORTED_MODULE_25__["a"].loadStencilSet(e,this.modelMetaData,this.id),this.handleEvents({type:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_STENCIL_SET_LOADED})}catch(t){_Log__WEBPACK_IMPORTED_MODULE_16__["a"].warn("Requesting stencil set file failed. ("+t+")")}}},{key:"offer",value:function(e){this.pluginsData.member(e)||this.pluginsData.push(e)}},{key:"registerPluginsOnKeyEvents",value:function(){this.pluginsData.each(function(e){e.keyCodes&&e.keyCodes.each(function(t){var i="key.event";i+="."+t.keyAction,t.metaKeys&&(t.metaKeys.indexOf(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_META_CTRL)>-1&&(i+="."+_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_META_CTRL),t.metaKeys.indexOf(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_ALT)>-1&&(i+="."+_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_ALT),t.metaKeys.indexOf(_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_SHIFT)>-1&&(i+="."+_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_SHIFT)),t.keyCode&&(i+="."+t.keyCode),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].debug("Register Plugin on Key Event: %0",i),!0===e.toggle&&e.buttonInstance?this.registerOnEvent(i,function(){e.buttonInstance.toggle(!e.buttonInstance.pressed),e.functionality.call(e,e.buttonInstance,e.buttonInstance.pressed)}):this.registerOnEvent(i,e.functionality)}.bind(this))}.bind(this))}},{key:"isEqual",value:function(e,t){return e===t||e.length===t.length&&e.all(function(e){return t.include(e)})}},{key:"isDirty",value:function(e){return e.any(function(e){return e.isPropertyChanged()})}},{key:"setSelection",value:function(e,t,i){e||(e=[]),e instanceof Array||(e=[e]),e=e.findAll(function(e){return e&&e instanceof _core_Shape__WEBPACK_IMPORTED_MODULE_23__["a"]}),e[0]instanceof _core_Canvas__WEBPACK_IMPORTED_MODULE_24__["a"]&&(e=[]),(i||!this.isEqual(this.selection,e)||this.isDirty(e))&&(this.selection=e,this._subSelection=t,this.handleEvents({type:_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_SELECTION_CHANGED,elements:e,subSelection:t,force:!!i}))}},{key:"updateSelection",value:function(){this.setSelection(this.selection,this._subSelection,!0)}},{key:"getCanvas",value:function(){return this._canvas}},{key:"createShape",value:function(e){if(console.log(12,e),!e||!e.type||!e.namespace)throw"To create a new shape you have to give an argument with type and namespace";var t;if(e&&e.serialize&&e.serialize instanceof Array){var i=e.serialize.find(function(e){return e.prefix+"-"+e.name=="oryx-type"}),n=_core_StencilSet__WEBPACK_IMPORTED_MODULE_25__["a"].stencil(i.value);return t="node"==n.type()?new _core_Node__WEBPACK_IMPORTED_MODULE_22__["a"]({eventHandlerCallback:this.handleEvents.bind(this)},n,this._getPluginFacade()):new _core_Edge__WEBPACK_IMPORTED_MODULE_21__["a"]({eventHandlerCallback:this.handleEvents.bind(this)},n,this._getPluginFacade()),this.getCanvas().add(t),t.deserialize(e.serialize),t}var s=this.getCanvas(),a=e.type,o=_core_StencilSet__WEBPACK_IMPORTED_MODULE_25__["a"].stencilSet(e.namespace);t="node"==o.stencil(a).type()?new _core_Node__WEBPACK_IMPORTED_MODULE_22__["a"]({eventHandlerCallback:this.handleEvents.bind(this)},o.stencil(a),this._getPluginFacade()):new _core_Edge__WEBPACK_IMPORTED_MODULE_21__["a"]({eventHandlerCallback:this.handleEvents.bind(this)},o.stencil(a),this._getPluginFacade()),e.template&&(t._jsonStencil.properties=e.template._jsonStencil.properties,t.postProcessProperties()),e.parent&&t instanceof _core_Node__WEBPACK_IMPORTED_MODULE_22__["a"]?e.parent.add(t):s.add(t);var r,c=e.position?e.position:{x:100,y:200};if(e.connectingType&&e.connectedShape&&!(t instanceof _core_Edge__WEBPACK_IMPORTED_MODULE_21__["a"])){r=new _core_Edge__WEBPACK_IMPORTED_MODULE_21__["a"]({eventHandlerCallback:this.handleEvents.bind(this)},o.stencil(e.connectingType),this._getPluginFacade()),r.dockers.first().setDockedShape(e.connectedShape);var h=e.connectedShape.getDefaultMagnet(),l=h?h.bounds.center():e.connectedShape.bounds.midPoint();r.dockers.first().setReferencePoint(l),r.dockers.last().setDockedShape(t),r.dockers.last().setReferencePoint(t.getDefaultMagnet().bounds.center()),s.add(r)}if(t instanceof _core_Edge__WEBPACK_IMPORTED_MODULE_21__["a"]&&e.connectedShape){t.dockers.first().setDockedShape(e.connectedShape),e.connectedShape instanceof _core_Node__WEBPACK_IMPORTED_MODULE_22__["a"]?(t.dockers.first().setReferencePoint(e.connectedShape.getDefaultMagnet().bounds.center()),t.dockers.last().bounds.centerMoveTo(c)):t.dockers.first().setReferencePoint(e.connectedShape.bounds.midPoint());var d=t.dockers.first(),u=t.dockers.last();if(d.getDockedShape()&&u.getDockedShape()){var g=d.getAbsoluteReferencePoint(),A=(u.getAbsoluteReferencePoint(),t.createDocker());A.bounds.centerMoveTo({x:g.x+(endPont.x-g.x)/2,y:g.y+(endPont.y-g.y)/2})}}else{var p=t.bounds;t instanceof _core_Node__WEBPACK_IMPORTED_MODULE_22__["a"]&&1==t.dockers.length&&(p=t.dockers.first().bounds),p.centerMoveTo(c);var f=p.upperLeft();p.moveBy(-Math.min(f.x,0),-Math.min(f.y,0));var E=p.lowerRight();p.moveBy(-Math.max(E.x-s.bounds.width(),0),-Math.max(E.y-s.bounds.height(),0));var v=t.getStencil().idWithoutNs();if("V-Pool"===v){var _={a:{x:p.a.x,y:0},b:{x:p.b.x,y:s.bounds.height()}};t.bounds.set(_)}else if("V-Lane"===v){var m={a:{x:p.a.x,y:30},b:{x:p.b.x,y:s.bounds.height()}};t.bounds.set(m)}else if("Pool"===v){var S={a:{x:0,y:p.a.y},b:{x:s.bounds.width(),y:p.b.y}};t.bounds.set(S)}}return this.handleEvents({type:"newshape_addin_canvas",shape:t}),t instanceof _core_Edge__WEBPACK_IMPORTED_MODULE_21__["a"]&&t._update(!1),t instanceof _core_Edge__WEBPACK_IMPORTED_MODULE_21__["a"]||e.dontUpdateSelection||this.setSelection([t]),r&&r.alignDockers,t.alignDockers&&t.alignDockers(),t}},{key:"deleteShape",value:function(e){e&&e.parent&&(e.parent.remove(e),e.getOutgoingShapes().each(function(t){var i=t.getDockers().first();i&&i.getDockedShape()==e&&i.setDockedShape(void 0)}),e.getIncomingShapes().each(function(t){var i=t.getDockers().last();i&&i.getDockedShape()==e&&i.setDockedShape(void 0)}),e.getDockers().each(function(e){e.setDockedShape(void 0)}))}},{key:"getModelMetaData",value:function(){return this.modelMetaData}},{key:"_executeEventImmediately",value:function(e){this.DOMEventListeners.keys().member(e.event.type)&&this.DOMEventListeners.get(e.event.type).each(function(t){t(e.event,e.arg)}.bind(this))}},{key:"_executeEvents",value:function(){this._queueRunning=!0;while(this._eventsQueue.length>0){var e=this._eventsQueue.shift();this._executeEventImmediately(e)}this._queueRunning=!1}},{key:"handleEvents",value:function(e,t){switch(_Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Dispatching event type %0 on %1",e.type,t),e.type){case _CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEDOWN:this._handleMouseDown(e,t);break;case _CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEMOVE:this._handleMouseMove(e,t);break;case _CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEUP:this._handleMouseUp(e,t);break;case _CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEOVER:this._handleMouseHover(e,t);break;case _CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].EVENT_MOUSEOUT:this._handleMouseOut(e,t);break}return e.forceExecution?this._executeEventImmediately({event:e,arg:t}):this._eventsQueue.push({event:e,arg:t}),this._queueRunning||this._executeEvents(),!1}},{key:"isValidEvent",value:function(e){try{var t=["INPUT","TEXTAREA"].include(e.target.tagName.toUpperCase()),i=e.target.className.include("x-grid3-focus")&&!e.target.className.include("x-grid3-focus-canvas");return!t&&!i}catch(e){return!1}}},{key:"catchKeyUpEvents",value:function(e){if(this._keyupEnabled&&(e||(e=window.event),this.isValidEvent(e))){var t=this.createKeyCombEvent(e,_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].KEY_ACTION_UP);_Log__WEBPACK_IMPORTED_MODULE_16__["a"].debug("Key Event to handle: %0",t),this.handleEvents({type:t,event:e})}}},{key:"catchKeyDownEvents",value:function(e){if(this._keydownEnabled&&(e||(e=window.event),this.isValidEvent(e))){var t=this.createKeyCombEvent(e,_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].KEY_ACTION_DOWN);_Log__WEBPACK_IMPORTED_MODULE_16__["a"].debug("Key Event to handle: %0",t),this.handleEvents({type:t,event:e})}}},{key:"createKeyCombEvent",value:function(e,t){var i=e.which||e.keyCode,n="key.event";return t&&(n+="."+t),(e.ctrlKey||e.metaKey)&&(n+="."+_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_META_CTRL),e.altKey&&(n+="."+_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_ALT),e.shiftKey&&(n+="."+_CONFIG__WEBPACK_IMPORTED_MODULE_17__["a"].META_KEY_SHIFT),n+"."+i}},{key:"_handleMouseDown",value:function(e,t){var i=this.getCanvas();i.focus();var n=e.currentTarget,s=t,a=null!==s&&void 0!==s&&s.isSelectable,o=null!==s&&void 0!==s&&s.isMovable,r=e.shiftKey||e.ctrlKey,c=0===this.selection.length,h=this.selection.member(s);if(a&&c)this.setSelection([s]),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Rule #1 applied for mouse down on %0",n.id);else if(!a||c||r||h)if(a&&r&&!h){var l=this.selection.clone();l.push(s),this.setSelection(l),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Rule #4 applied for mouse down on %0",n.id)}else if(a&&h&&r){var d=this.selection.clone();this.setSelection(d.without(s)),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Rule #6 applied for mouse down on %0",s.id)}else{if(!a&&!o)return this.setSelection([]),void _Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Rule #2 applied for mouse down on %0",n.id);a||!o||s instanceof _core_Controls_Docker__WEBPACK_IMPORTED_MODULE_27__["a"]?a&&h&&!r&&(this._subSelection=this._subSelection!=s?s:void 0,this.setSelection(this.selection,this._subSelection),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Rule #8 applied for mouse down on %0",n.id)):_Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Rule #7 applied for mouse down on %0",n.id)}else this.setSelection([s]),_Log__WEBPACK_IMPORTED_MODULE_16__["a"].trace("Rule #3 applied for mouse down on %0",n.id)}},{key:"_handleMouseMove",value:function(e,t){}},{key:"_handleMouseUp",value:function(e,t){this.getCanvas(),this.eventCoordinates(e)}},{key:"_handleMouseHover",value:function(e,t){}},{key:"_handleMouseOut",value:function(e,t){}},{key:"eventCoordinates",value:function(e){var t=this.getCanvas(),i=t.node.ownerSVGElement.createSVGPoint();i.x=e.clientX,i.y=e.clientY;var n=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var s=navigator.userAgent;if(s.indexOf("MSIE")>=0){var a=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==a&&(n=a/100)}}1!==n&&(i.x=i.x*n,i.y=i.y*n);var o=t.node.getScreenCTM();return i.matrixTransform(o.inverse())}},{key:"eventCoordinatesXY",value:function(e,t){var i=this.getCanvas(),n=i.node.ownerSVGElement.createSVGPoint();n.x=e,n.y=t;var s=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var a=navigator.userAgent;if(a.indexOf("MSIE")>=0){var o=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==o&&(s=o/100)}}1!==s&&(n.x=n.x*s,n.y=n.y*s);var r=i.node.getScreenCTM();return n.matrixTransform(r.inverse())}},{key:"createByUrl",value:function(e){new Ajax.Request(e,{method:"GET",onSuccess:function(e){var t=JSON.parse(e.responseText);new _Editor__WEBPACK_IMPORTED_MODULE_18__["a"](t)}.bind(this)})}},{key:"resizeFix",value:function(){_Editor__WEBPACK_IMPORTED_MODULE_18__["a"]._resizeFixTimeout||(_Editor__WEBPACK_IMPORTED_MODULE_18__["a"]._resizeFixTimeout=window.setTimeout(function(){window.resizeBy(1,1),window.resizeBy(-1,-1),_Editor__WEBPACK_IMPORTED_MODULE_18__["a"]._resizefixTimeout=null},100))}}]),Editor}()},"0856":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEtSURBVDiNjZOxasMwFEWvn9BgyD85OFNCySijtVAC/YeCof9QCIWuJhpDIZND/E8BD+ZJHSoHVbbSaNOT7uG++6TMOYfU0lrXANA0TZ26Q/+ISwDlCHoY4AUrZt4w8wbAKgWZAALx2hhzNcZcmXmdgmRhBqN4GIadEOINQOGPOmZ+l1LuAbRhJpQQXwD0RLQloi2AXghxGYZhFzvJnHN/bGdZ9gmgPxwOz6HVqqq+AOTOuRchxGl0QmPaY88ACiL6mIT1WyuCTEqtdZ0c46OLfCBnIcRJKbUA0FlrX+OLvtYppRa+hXPTNPVtCjMhfo+tePETMy/jSdxa8IVWSrln5iWA3Fp7tNYeAeRzYiB6B6GTIFQEttv4X0wAMQQAUuIkIIT47az4LiCA3P3OPzCf0rmw0lvwAAAAAElFTkSuQmCC"},"0f48":function(e,t,i){"use strict";i("28a5");var n=i("8f42"),s=i("aeae"),a=i("995b"),o=i("000c"),r=(i("55dd"),i("ac6a"),i("7514"),i("d225")),c=i("b0b4"),h=i("9059"),l=i("19ce"),d=function(){function e(){Object(r["a"])(this,e),this._stencilSets=[],this._stencils=[],this._containerStencils=[],this._cachedConnectSET=new Hash,this._cachedConnectSE=new Hash,this._cachedConnectTE=new Hash,this._cachedCardSE=new Hash,this._cachedCardTE=new Hash,this._cachedContainPC=new Hash,this._cachedMorphRS=new Hash,this._connectionRules=new Hash,this._cardinalityRules=new Hash,this._containmentRules=new Hash,this._morphingRules=new Hash,this._layoutRules=new Hash}return Object(c["a"])(e,[{key:"initializeRules",value:function(e){var t=this._stencilSets.find(function(t){return t.namespace()==e.namespace()});if(t){var i=this._stencilSets.clone();return i=i.without(t),i.push(e),this._stencilSets=[],this._stencils=[],this._containerStencils=[],this._cachedConnectSET=new Hash,this._cachedConnectSE=new Hash,this._cachedConnectTE=new Hash,this._cachedCardSE=new Hash,this._cachedCardTE=new Hash,this._cachedContainPC=new Hash,this._cachedMorphRS=new Hash,this._connectionRules=new Hash,this._cardinalityRules=new Hash,this._containmentRules=new Hash,this._morphingRules=new Hash,this._layoutRules=new Hash,void i.each(function(e){this.initializeRules(e)}.bind(this))}this._stencilSets.push(e);var n=new Hash(e.jsonRules()),s=e.namespace(),a=e.stencils();e.extensions().values().each(function(e){e.rules&&(e.rules.connectionRules&&(n.connectionRules=n.connectionRules.concat(e.rules.connectionRules)),e.rules.cardinalityRules&&(n.cardinalityRules=n.cardinalityRules.concat(e.rules.cardinalityRules)),e.rules.containmentRules&&(n.containmentRules=n.containmentRules.concat(e.rules.containmentRules)),e.rules.morphingRules&&(n.morphingRules=n.morphingRules.concat(e.rules.morphingRules))),e.stencils&&(a=a.concat(e.stencils))}),this._stencils=this._stencils.concat(e.stencils());var o=this._connectionRules;n.get("connectionRules")&&n.get("connectionRules").each(function(e){this._isRoleOfOtherNamespace(e.role)?o.get(e.role)||o.set(e.role,new Hash):o.get(s+e.role)||o.set(s+e.role,new Hash),e.connects.each(function(t){var i,n,a=[];t.to&&(t.to instanceof Array||(t.to=[t.to]),t.to.each(function(e){this._isRoleOfOtherNamespace(e)?a.push(e):a.push(s+e)}.bind(this))),i=this._isRoleOfOtherNamespace(e.role)?e.role:s+e.role,n=this._isRoleOfOtherNamespace(t.from)?t.from:s+t.from,o.get(i).get(n)?o.get(i).set(n,o.get(i).get(n).concat(a)):o.get(i).set(n,a)}.bind(this))}.bind(this));var r=this._cardinalityRules;n.get("cardinalityRules")&&n.get("cardinalityRules").each(function(e){var t;if(t=this._isRoleOfOtherNamespace(e.role)?e.role:s+e.role,!r.get(t))for(var i in r.set(t,{}),e)r.get(t)[i]=e[i];var n=new Hash;e.outgoingEdges&&e.outgoingEdges.each(function(e){this._isRoleOfOtherNamespace(e.role)?n.set(e.role,e):n.set(s+e.role,e)}.bind(this)),r.get(t).outgoingEdges=n;var a=new Hash;e.incomingEdges&&e.incomingEdges.each(function(e){this._isRoleOfOtherNamespace(e.role)?a.set(e.role,e):a.set(s+e.role,e)}.bind(this)),r.get(t).incomingEdges=a}.bind(this));var c=this._containmentRules;n.get("containmentRules")&&n.get("containmentRules").each(function(e){var t;this._isRoleOfOtherNamespace(e.role)?t=e.role:(this._containerStencils.push(s+e.role),t=s+e.role),c.get(t)||c.set(t,[]),(e.contains||[]).each(function(e){this._isRoleOfOtherNamespace(e)?c.get(t).push(e):c.get(t).push(s+e)}.bind(this))}.bind(this));var h=this._morphingRules;n.get("morphingRules")&&n.get("morphingRules").each(function(e){var t;t=this._isRoleOfOtherNamespace(e.role)?e.role:s+e.role,h.get(t)||h.set(t,[]),e.preserveBounds||(e.preserveBounds=!1),e.baseMorphs.each(function(e){var i=this._getStencilById(s+e);i&&h.get(t).push(i)}.bind(this))}.bind(this));var l=this._layoutRules;if(n.get("layoutRules")){var d=function(e){return{edgeRole:e.edgeRole||void 0,t:e["t"]||1,r:e["r"]||1,b:e["b"]||1,l:e["l"]||1}};n.get("layoutRules").each(function(e){var t;t=this._isRoleOfOtherNamespace(e.role)?e.role:s+e.role,l.get(t)||l.set(t,{}),e["in"]&&(l.get(t)["in"]=d(e["in"])),e["ins"]&&(l.get(t)["ins"]=(e["ins"]||[]).map(function(e){return d(e)})),e["out"]&&(l.get(t)["out"]=d(e["out"])),e["outs"]&&(l.get(t)["outs"]=(e["outs"]||[]).map(function(e){return d(e)}))}.bind(this))}}},{key:"_getStencilById",value:function(e){return this._stencils.find(function(t){return t.id()==e})}},{key:"_cacheConnect",value:function(e){var t=this._canConnect(e);if(e.sourceStencil&&e.targetStencil){var i=this._cachedConnectSET[e.sourceStencil.id()];i||(i=new Hash,this._cachedConnectSET[e.sourceStencil.id()]=i);var n=i[e.edgeStencil.id()];n||(n=new Hash,i[e.edgeStencil.id()]=n),n[e.targetStencil.id()]=t}else if(e.sourceStencil){var s=this._cachedConnectSE[e.sourceStencil.id()];s||(s=new Hash,this._cachedConnectSE[e.sourceStencil.id()]=s),s[e.edgeStencil.id()]=t}else{var a=this._cachedConnectTE[e.targetStencil.id()];a||(a=new Hash,this._cachedConnectTE[e.targetStencil.id()]=a),a[e.edgeStencil.id()]=t}return t}},{key:"_cacheCard",value:function(e){if(e.sourceStencil){var t=this._cachedCardSE[e.sourceStencil.id()];t||(t=new Hash,this._cachedCardSE[e.sourceStencil.id()]=t);var i=this._getMaximumNumberOfOutgoingEdge(e);void 0==i&&(i=-1),t[e.edgeStencil.id()]=i}if(e.targetStencil){var n=this._cachedCardTE[e.targetStencil.id()];n||(n=new Hash,this._cachedCardTE[e.targetStencil.id()]=n);var s=this._getMaximumNumberOfIncomingEdge(e);void 0==s&&(s=-1),n[e.edgeStencil.id()]=s}}},{key:"_cacheContain",value:function(e){var t=[this._canContain(e),this._getMaximumOccurrence(e.containingStencil,e.containedStencil)];void 0==t[1]&&(t[1]=-1);var i=this._cachedContainPC[e.containingStencil.id()];return i||(i=new Hash,this._cachedContainPC[e.containingStencil.id()]=i),i[e.containedStencil.id()]=t,t}},{key:"_cacheMorph",value:function(e){var t=this._cachedMorphRS[e];return t||(t=[],this._morphingRules.keys().include(e)&&(t=this._stencils.select(function(t){return t.roles().include(e)})),this._cachedMorphRS[e]=t),t}},{key:"outgoingEdgeStencils",value:function(e){if(!e.sourceShape&&!e.sourceStencil)return[];e.sourceShape&&(e.sourceStencil=e.sourceShape.getStencil());var t=[];return this._stencils.each(function(i){if("edge"===i.type()){var n=Object.clone(e);n.edgeStencil=i,this.canConnect(n)&&t.push(i)}}.bind(this)),t}},{key:"incomingEdgeStencils",value:function(e){if(!e.targetShape&&!e.targetStencil)return[];e.targetShape&&(e.targetStencil=e.targetShape.getStencil());var t=[];return this._stencils.each(function(i){if("edge"===i.type()){var n=Object.clone(e);n.edgeStencil=i,this.canConnect(n)&&t.push(i)}}.bind(this)),t}},{key:"sourceStencils",value:function(e){if(!e||!e.edgeShape&&!e.edgeStencil)return[];e.targetShape&&(e.targetStencil=e.targetShape.getStencil()),e.edgeShape&&(e.edgeStencil=e.edgeShape.getStencil());var t=[];return this._stencils.each(function(i){var n=Object.clone(e);n.sourceStencil=i,this.canConnect(n)&&t.push(i)}.bind(this)),t}},{key:"targetStencils",value:function(e){if(!e||!e.edgeShape&&!e.edgeStencil)return[];e.sourceShape&&(e.sourceStencil=e.sourceShape.getStencil()),e.edgeShape&&(e.edgeStencil=e.edgeShape.getStencil());var t=[];return this._stencils.each(function(i){var n=Object.clone(e);n.targetStencil=i,this.canConnect(n)&&t.push(i)}.bind(this)),t}},{key:"canConnect",value:function(e){if(!e||!e.sourceShape&&!e.sourceStencil&&!e.targetShape&&!e.targetStencil||!e.edgeShape&&!e.edgeStencil)return!1;var t;if(e.sourceShape&&(e.sourceStencil=e.sourceShape.getStencil()),e.targetShape&&(e.targetStencil=e.targetShape.getStencil()),e.edgeShape&&(e.edgeStencil=e.edgeShape.getStencil()),e.sourceStencil&&e.targetStencil){var i=this._cachedConnectSET[e.sourceStencil.id()];if(i){var n=i[e.edgeStencil.id()];if(n){var s=n[e.targetStencil.id()];t=void 0==s?this._cacheConnect(e):s}else t=this._cacheConnect(e)}else t=this._cacheConnect(e)}else if(e.sourceStencil){var a=this._cachedConnectSE[e.sourceStencil.id()];if(a){var o=a[e.edgeStencil.id()];t=void 0==o?this._cacheConnect(e):o}else t=this._cacheConnect(e)}else{var r=this._cachedConnectTE[e.targetStencil.id()];if(r){var c=r[e.edgeStencil.id()];t=void 0==c?this._cacheConnect(e):c}else t=this._cacheConnect(e)}if(t){if(e.sourceShape){var h=this._cachedCardSE[e.sourceStencil.id()];h||(this._cacheCard(e),h=this._cachedCardSE[e.sourceStencil.id()]);var l=h[e.edgeStencil.id()];void 0==l&&this._cacheCard(e),l=h[e.edgeStencil.id()],-1!=l&&(t=e.sourceShape.getOutgoingShapes().all(function(t){return!!(t.getStencil().id()!==e.edgeStencil.id()||e.edgeShape&&t===e.edgeShape)||(l--,l>0)}))}if(e.targetShape){var d=this._cachedCardTE[e.targetStencil.id()];d||(this._cacheCard(e),d=this._cachedCardTE[e.targetStencil.id()]);var u=d[e.edgeStencil.id()];void 0==u&&this._cacheCard(e),u=d[e.edgeStencil.id()],-1!=u&&(t=e.targetShape.getIncomingShapes().all(function(t){return!!(t.getStencil().id()!==e.edgeStencil.id()||e.edgeShape&&t===e.edgeShape)||(u--,u>0)}))}}return t}},{key:"_canConnect",value:function(e){if(!e||!e.sourceShape&&!e.sourceStencil&&!e.targetShape&&!e.targetStencil||!e.edgeShape&&!e.edgeStencil)return!1;var t;e.sourceShape&&(e.sourceStencil=e.sourceShape.getStencil()),e.targetShape&&(e.targetStencil=e.targetShape.getStencil()),e.edgeShape&&(e.edgeStencil=e.edgeShape.getStencil());var i=this._getConnectionRulesOfEdgeStencil(e.edgeStencil);return t=0!==i.keys().length&&(e.sourceStencil?e.sourceStencil.roles().any(function(t){var n=i.get(t);return!!n&&(!e.targetStencil||n.any(function(t){return e.targetStencil.roles().member(t)}))}):i.values().any(function(t){return e.targetStencil.roles().any(function(e){return t.member(e)})})),t}},{key:"isContainer",value:function(e){return this._containerStencils.member(e.getStencil().id())}},{key:"canContain",value:function(e){if(!e||!e.containingStencil&&!e.containingShape||!e.containedStencil&&!e.containedShape)return!1;if(e.containedShape&&(e.containedStencil=e.containedShape.getStencil()),e.containingShape&&(e.containingStencil=e.containingShape.getStencil()),"edge"==e.containedStencil.type())return!1;var t,i=this._cachedContainPC[e.containingStencil.id()];if(i?(t=i[e.containedStencil.id()],t||(t=this._cacheContain(e))):t=this._cacheContain(e),t[0]){if(-1==t[1])return!0;if(e.containingShape){var n=t[1];return e.containingShape.getChildShapes(!1).all(function(t){return t.getStencil().id()!==e.containedStencil.id()||(n--,n>0)})}return!0}return!1}},{key:"_canContain",value:function(e){return!(!e||!e.containingStencil&&!e.containingShape||!e.containedStencil&&!e.containedShape)&&(e.containedShape&&(e.containedStencil=e.containedShape.getStencil()),e.containingShape&&(e.containingStencil=e.containingShape.getStencil()),t=e.containingStencil.roles().any(function(t){var i=this._containmentRules.get(t);return!!i&&i.any(function(t){return e.containedStencil.roles().member(t)})}.bind(this)),t);var t}},{key:"morphStencils",value:function(e){if(!e.stencil&&!e.shape)return[];e.shape&&(e.stencil=e.shape.getStencil());var t=[];e.stencil.roles().each(function(e){this._cacheMorph(e).each(function(e){t.push(e)})}.bind(this));var i=this.baseMorphs();return t=t.uniq().sort(function(e,t){return i.include(e)&&!i.include(t)?-1:i.include(t)&&!i.include(e)?1:0}),t}},{key:"baseMorphs",value:function(){var e=[];return this._morphingRules.each(function(t){t.value.each(function(t){e.push(t)})}),e}},{key:"containsMorphingRules",value:function(){return this._stencilSets.any(function(e){return!!e.jsonRules().morphingRules})}},{key:"connectMorph",value:function(e){if(!e||!e.sourceShape&&!e.sourceStencil&&!e.targetShape&&!e.targetStencil)return!1;e.sourceShape&&(e.sourceStencil=e.sourceShape.getStencil()),e.targetShape&&(e.targetStencil=e.targetShape.getStencil());var t=this.incomingEdgeStencils(e),i=this.outgoingEdgeStencils(e),n=t.select(function(e){return i.member(e)}),s=this.baseMorphs().select(function(e){return n.member(e)});return s.size()>0?s[0]:n.size()>0?n[0]:null}},{key:"showInShapeMenu",value:function(e){return this._stencilSets.any(function(t){return t.jsonRules().morphingRules.any(function(i){return e.roles().include(t.namespace()+i.role)&&!1!==i.showInShapeMenu})})}},{key:"preserveBounds",value:function(e){return this._stencilSets.any(function(t){return t.jsonRules().morphingRules.any(function(i){return e.roles().include(t.namespace()+i.role)&&i.preserveBounds})})}},{key:"getLayoutingRules",value:function(e,t){if(e&&e instanceof l["a"]){var i={in:{},out:{}},n=function(e,n){e&&e[n]&&["t","r","b","l"].each(function(t){i[n][t]=Math.max(e[n][t],i[n][t]||0)}),e&&e[n+"s"]instanceof Array&&["t","r","b","l"].each(function(s){var a,o=e[n+"s"].find(function(e){return!e.edgeRole});t instanceof h["a"]&&(a=e[n+"s"].find(function(e){return this._hasRole(t,e.edgeRole)}.bind(this))),i[n][s]=Math.max(a?a[s]:o[s],i[n][s]||0)}.bind(this))}.bind(this);return e.getStencil().roles().each(function(e){this._layoutRules[e]&&(n(this._layoutRules[e],"in"),n(this._layoutRules[e],"out"))}.bind(this)),["in","out"].each(function(e){["t","r","b","l"].each(function(t){i[e][t]=void 0!==i[e][t]?i[e][t]:1})}),i}}},{key:"_hasRole",value:function(e,t){if(e instanceof l["a"]&&t){var i=e.getStencil().roles().any(function(e){return e==t});return i||e.getStencil().id()==e.getStencil().namespace()+t}}},{key:"_stencilsWithRole",value:function(e){return this._stencils.findAll(function(t){return!!t.roles().member(e)})}},{key:"_edgesWithRole",value:function(e){return this._stencils.findAll(function(t){return!(!t.roles().member(e)||"edge"!==t.type())})}},{key:"_nodesWithRole",value:function(e){return this._stencils.findAll(function(t){return!(!t.roles().member(e)||"node"!==t.type())})}},{key:"_getMaximumOccurrence",value:function(e,t){var i;return t.roles().each(function(e){var t=this._cardinalityRules.get(e);t&&t.maximumOccurrence&&(i=i?Math.min(i,t.maximumOccurrence):t.maximumOccurrence)}.bind(this)),i}},{key:"_getMaximumNumberOfOutgoingEdge",value:function(e){return!!(e&&e.sourceStencil&&e.edgeStencil)&&(e.sourceStencil.roles().each(function(i){var n=this._cardinalityRules.get(i);n&&n.outgoingEdges&&e.edgeStencil.roles().each(function(e){var i=n.outgoingEdges[e];i&&i.maximum&&(t=t?Math.min(t,i.maximum):i.maximum)})}.bind(this)),t);var t}},{key:"_getMaximumNumberOfIncomingEdge",value:function(e){return!!(e&&e.targetStencil&&e.edgeStencil)&&(e.targetStencil.roles().each(function(i){var n=this._cardinalityRules[i];n&&n.incomingEdges&&e.edgeStencil.roles().each(function(e){var i=n.incomingEdges[e];i&&i.maximum&&(t=t?Math.min(t,i.maximum):i.maximum)})}.bind(this)),t);var t}},{key:"_getConnectionRulesOfEdgeStencil",value:function(e){var t=new Hash;return e.roles().each(function(e){this._connectionRules.get(e)&&this._connectionRules.get(e).each(function(e){t.get(e.key)?t.set(e.key,t.get([e.key]).concat(e.value)):t.set(e.key,e.value)})}.bind(this)),t}},{key:"_isRoleOfOtherNamespace",value:function(e){return e.indexOf("#")>0}},{key:"toString",value:function(){return"Rules"}}]),e}(),u=(i("7f7f"),i("aef6"),i("a791")),g=function(){function e(t,i){Object(r["a"])(this,e),this._extensions=new Hash,this._baseUrl=t,this._jsonObject={},this._stencils=new Hash,this._availableStencils=new Hash,this._init(i)}return Object(c["a"])(e,[{key:"findRootStencilName",value:function(){var e=this._stencils.values().find(function(e){return e._jsonStencil.mayBeRoot});return e||(u["a"].warn("Did not find any stencil that may be root. Taking a guess."),e=this._stencils.values()[0]),e.id()}},{key:"equals",value:function(e){return this.namespace()===e.namespace()}},{key:"stencils",value:function(e,t,i){if(e&&t){var n=this._availableStencils.values(),s=[e],a=[],o=[],r=function(){var e=s.pop();a.push(e);for(var i=n.findAll(function(i){var n={containingStencil:e,containedStencil:i};return t.canContain(n)}),r=0;r<i.size();r++)a.member(i[r])||s.push(i[r]);o=o.concat(i).uniq()};while(s.size()>0)r();o=o.sortBy(function(e){return n.indexOf(e)}),i&&(o=o.sortBy(function(e){return e.groups().first()}));var c=n.findAll(function(e){return"edge"==e.type()});return o=o.concat(c),o}return i?this._availableStencils.values().sortBy(function(e){return e.groups().first()}):this._availableStencils.values()}},{key:"nodes",value:function(){return this._availableStencils.values().findAll(function(e){return"node"===e.type()})}},{key:"edges",value:function(){return this._availableStencils.values().findAll(function(e){return"edge"===e.type()})}},{key:"stencil",value:function(e){return this._stencils.get(e)}},{key:"title",value:function(){return this._jsonObject.title}},{key:"description",value:function(){return this._jsonObject.description}},{key:"namespace",value:function(){return this._jsonObject?this._jsonObject.namespace:null}},{key:"jsonRules",value:function(){return this._jsonObject?this._jsonObject.rules:null}},{key:"source",value:function(){return this._source}},{key:"extensions",value:function(){return this._extensions}},{key:"addExtension",value:function(e){new Ajax.Request(e,{method:"GET",asynchronous:!1,onSuccess:function(e){this.addExtensionDirectly(e.responseText)}.bind(this),onFailure:function(e){u["a"].debug("Loading stencil set extension file failed. The request returned an error."+e)}.bind(this),onException:function(e){u["a"].debug("Loading stencil set extension file failed. The request returned an error."+e)}.bind(this)})}},{key:"addExtensionDirectly",value:function(e){try{var t=e;if(t["extends"].endsWith("#")||(t["extends"]+="#"),t["extends"]==this.namespace()){this._extensions.set(t.namespace,t);var i=this._stencils.keys().size();if(t.stencils&&$A(t.stencils).each(function(e){i++;var t=new n["a"](e,this.namespace(),this._baseUrl,this,void 0,i);this._stencils.set(t.id(),t),this._availableStencils.set(t.id(),t)}.bind(this)),t.properties){var s=this._stencils.values();s.each(function(e){var i=e.roles();t.properties.each(function(n){n.roles.any(function(s){return s=t["extends"]+s,!!i.member(s)&&(n.properties.each(function(i){e.addProperty(i,t.namespace)}),!0)})})}.bind(this))}t.removeproperties&&t.removeproperties.each(function(e){var i=this.stencil(t["extends"]+e.stencil);i&&e.properties.each(function(e){i.removeProperty(e)})}.bind(this)),t.removestencils&&$A(t.removestencils).each(function(e){delete this._availableStencils[t["extends"]+e]}.bind(this))}}catch(a){u["a"].debug("StencilSet.addExtension: Something went wrong when initialising the stencil set extension. "+a)}}},{key:"removeExtension",value:function(e){var t=this._extensions[e];if(t){if(t.stencils&&$A(t.stencils).each(function(e){var t=new n["a"](e,this.namespace(),this._baseUrl,this);this._stencils.unset(t.id()),this._availableStencils.unset(t.id())}.bind(this)),t.properties){var i=this._stencils.values();i.each(function(e){var i=e.roles();t.properties.each(function(n){n.roles.any(function(s){return s=t["extends"]+s,!!i.member(s)&&(n.properties.each(function(t){e.removeProperty(t.id)}),!0)})})}.bind(this))}t.removeproperties&&t.removeproperties.each(function(e){var i=this.stencil(t["extends"]+e.stencil);if(i){var n=$A(this._jsonObject.stencils).find(function(e){return e.id==i.id()});e.properties.each(function(e){var t=$A(n.properties).find(function(t){return t.id==e});i.addProperty(t,this.namespace())}.bind(this))}}.bind(this)),t.removestencils&&$A(t.removestencils).each(function(e){var i=t["extends"]+e;this._availableStencils.set(i,this._stencils.get(i))}.bind(this))}delete this._extensions[e]}},{key:"__handleStencilset",value:function(e){if(this._jsonObject=e,!this._jsonObject)throw"Error evaluating stencilset. It may be corrupt.";if(!this._jsonObject.namespace||""===this._jsonObject.namespace)throw"Namespace definition missing in stencilset.";if(!(this._jsonObject.stencils instanceof Array))throw"Stencilset corrupt.";this._jsonObject.namespace.endsWith("#")||(this._jsonObject.namespace=this._jsonObject.namespace+"#"),this._jsonObject.title||(this._jsonObject.title=""),this._jsonObject.description||(this._jsonObject.description="")}},{key:"_init",value:function(e){this.__handleStencilset(e);var t=new Hash;this._jsonObject.propertyPackages&&$A(this._jsonObject.propertyPackages).each(function(e){t.set(e.name,e.properties)}.bind(this));var i=0;$A(this._jsonObject.stencils).each(function(e){i++;var s=new n["a"](e,this.namespace(),this._baseUrl,this,t,i);this._stencils.set(s.id(),s),this._availableStencils.set(s.id(),s)}.bind(this))}},{key:"_cancelInit",value:function(e){this.errornous=!0}},{key:"toString",value:function(){return"StencilSet "+this.title()+" ("+this.namespace()+")"}}]),e}(),A=i("1795"),p={Stencil:n["a"],Property:s["a"],PropertyItem:a["a"],ComplexPropertyItem:o["a"],Rules:d,StencilSet:g,Index:A["a"],_stencilSetsByNamespace:new Hash,_stencilSetsByUrl:new Hash,_StencilSetNSByEditorInstance:new Hash,_rulesByEditorInstance:new Hash,stencilSet:function(e){u["a"].trace("Getting stencil set %0",e);var t=e.split("#",1);return 1===t.length?(u["a"].trace("Getting stencil set %0",t[0]),this._stencilSetsByNamespace.get(t[0]+"#")):void 0},stencilSets:function(e){var t=this._StencilSetNSByEditorInstance.get(e),i=new Hash,n=this;return t&&t.each(function(e){var t=n.stencilSet(e);i.set(t.namespace(),t)}),i},stencil:function(e){u["a"].trace("Getting stencil for %0",e);var t=this.stencilSet(e);return t?t.stencil(e):void u["a"].trace("Cannot fild stencil for %0",e)},rules:function(e){return this._rulesByEditorInstance.get(e)||this._rulesByEditorInstance.set(e,new d),this._rulesByEditorInstance.get(e)},loadStencilSet:function(e,t,i){var n=t.namespace();if(this._stencilSetsByNamespace.set(n,t),this._stencilSetsByUrl.set(e,t),this._StencilSetNSByEditorInstance.get(i)?this._StencilSetNSByEditorInstance.get(i).push(n):this._StencilSetNSByEditorInstance.set(i,[n]),this._rulesByEditorInstance.get(i))this._rulesByEditorInstance.get(i).initializeRules(t);else{var s=new d;s.initializeRules(t),this._rulesByEditorInstance.set(i,s)}}};t["a"]=p},"12c9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGiSURBVDiNrZOxbhNBEIb//+QmBR1PkCIvYLtxKvqkgCDd3rmxKICO0FhCBClCQkoFoYMoitL4vJZAKXBPZSMU/AIpeIJ0NBTgj8Lr6CRiIQQjrXb23/lnZmdmDaguIYQN26WkZlqSNJM0A6oY40XdPlsqtl2W5a7tCbAGHEtqSWoBx8Ca7Umy8RUPkG3neT62fSPLst5gMPiqa6Tb7a7P5/NT4NtoNNoCMKCyLHeBV9eRVontx1VVHTrP8w3bE0k300UE3q4gPQBCOl4Cmw3bJXBiuy/pCOjZ/lxV1WGdnLK8I+lI0v3EKTItKj1NEc6AHeCgLMt+jdwHDoAd22cJnkpqZZKats+XxjHGse1tYL8oir2iKPaAfdvbMcZx7TnnkpqNP9TqWdp/rjJoaDEg7WVrQwhbtt9Jem77oyQBt4APIYS7WZb9SFjb9qyhxZR1Enjbdg94EmN8WQv0KYTw3fZ74DRhHUlffmujpJGkNysyfigpT/olsPnvg/RfRjl5dFEUj4CnwImk6bK9QFtSx/Y92y+Gw+FrEvHKwVL+9jv/AlqzAw70R2T4AAAAAElFTkSuQmCC"},1795:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return _Index});var core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7f7f"),core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_function_name__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_ends_with__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("aef6"),core_js_modules_es6_string_ends_with__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_ends_with__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_3__),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("d225"),E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("b0b4"),_Utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("0130"),_Log__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("a791"),_Stencil__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("8f42"),_Index=function(){function _Index(e,t){Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_4__["a"])(this,_Index),this._extensions=new Hash,this._baseUrl=e,this._jsonObject={},this._stencils=new Hash,this._availableStencils=new Hash,this._init(t)}return Object(E_myself_flowable_edit_node_modules_babel_runtime_corejs2_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_5__["a"])(_Index,[{key:"findRootStencilName",value:function(){var e=this._stencils.values().find(function(e){return e._jsonStencil.mayBeRoot});return e||(_Log__WEBPACK_IMPORTED_MODULE_7__["a"].warn("Did not find any stencil that may be root. Taking a guess."),e=this._stencils.values()[0]),e.id()}},{key:"equals",value:function(e){return this.namespace()===e.namespace()}},{key:"stencils",value:function(e,t,i){if(e&&t){var n=this._availableStencils.values(),s=[e],a=[],o=[],r=function(){var e=s.pop();a.push(e);for(var i=n.findAll(function(i){var n={containingStencil:e,containedStencil:i};return t.canContain(n)}),r=0;r<i.size();r++)a.member(i[r])||s.push(i[r]);o=o.concat(i).uniq()};while(s.size()>0)r();o=o.sortBy(function(e){return n.indexOf(e)}),i&&(o=o.sortBy(function(e){return e.groups().first()}));var c=n.findAll(function(e){return"edge"==e.type()});return o=o.concat(c),o}return i?this._availableStencils.values().sortBy(function(e){return e.groups().first()}):this._availableStencils.values()}},{key:"nodes",value:function(){return this._availableStencils.values().findAll(function(e){return"node"===e.type()})}},{key:"edges",value:function(){return this._availableStencils.values().findAll(function(e){return"edge"===e.type()})}},{key:"stencil",value:function(e){return this._stencils.get(e)}},{key:"title",value:function(){return _Utils__WEBPACK_IMPORTED_MODULE_6__["a"].getTranslation(this._jsonObject,"title")}},{key:"description",value:function(){return _Utils__WEBPACK_IMPORTED_MODULE_6__["a"].getTranslation(this._jsonObject,"description")}},{key:"namespace",value:function(){return this._jsonObject?this._jsonObject.namespace:null}},{key:"jsonRules",value:function(){return this._jsonObject?this._jsonObject.rules:null}},{key:"source",value:function(){return this._source}},{key:"extensions",value:function(){return this._extensions}},{key:"addExtension",value:function(e){new Ajax.Request(e,{method:"GET",asynchronous:!1,onSuccess:function(e){this.addExtensionDirectly(e.responseText)}.bind(this),onFailure:function(e){_Log__WEBPACK_IMPORTED_MODULE_7__["a"].debug("Loading stencil set extension file failed. The request returned an error."+e)}.bind(this),onException:function(e){_Log__WEBPACK_IMPORTED_MODULE_7__["a"].debug("Loading stencil set extension file failed. The request returned an error."+e)}.bind(this)})}},{key:"addExtensionDirectly",value:function addExtensionDirectly(str){try{if(eval("var jsonExtension = "+str),jsonExtension["extends"].endsWith("#")||(jsonExtension["extends"]+="#"),jsonExtension["extends"]==this.namespace()){this._extensions.set(jsonExtension.namespace,jsonExtension);var defaultPosition=this._stencils.keys().size();if(jsonExtension.stencils&&$A(jsonExtension.stencils).each(function(e){defaultPosition++;var t=new _Stencil__WEBPACK_IMPORTED_MODULE_8__["a"](e,this.namespace(),this._baseUrl,this,void 0,defaultPosition);this._stencils.set(t.id(),t),this._availableStencils.set(t.id(),t)}.bind(this)),jsonExtension.properties){var stencils=this._stencils.values();stencils.each(function(e){var t=e.roles();jsonExtension.properties.each(function(i){i.roles.any(function(n){return n=jsonExtension["extends"]+n,!!t.member(n)&&(i.properties.each(function(t){e.addProperty(t,jsonExtension.namespace)}),!0)})})}.bind(this))}jsonExtension.removeproperties&&jsonExtension.removeproperties.each(function(e){var t=this.stencil(jsonExtension["extends"]+e.stencil);t&&e.properties.each(function(e){t.removeProperty(e)})}.bind(this)),jsonExtension.removestencils&&$A(jsonExtension.removestencils).each(function(e){delete this._availableStencils[jsonExtension["extends"]+e]}.bind(this))}}catch(e){_Log__WEBPACK_IMPORTED_MODULE_7__["a"].debug("StencilSet.addExtension: Something went wrong when initialising the stencil set extension. "+e)}}},{key:"removeExtension",value:function(e){var t=this._extensions[e];if(t){if(t.stencils&&$A(t.stencils).each(function(e){var t=new _Stencil__WEBPACK_IMPORTED_MODULE_8__["a"](e,this.namespace(),this._baseUrl,this);this._stencils.unset(t.id()),this._availableStencils.unset(t.id())}.bind(this)),t.properties){var i=this._stencils.values();i.each(function(e){var i=e.roles();t.properties.each(function(n){n.roles.any(function(s){return s=t["extends"]+s,!!i.member(s)&&(n.properties.each(function(t){e.removeProperty(t.id)}),!0)})})}.bind(this))}t.removeproperties&&t.removeproperties.each(function(e){var i=this.stencil(t["extends"]+e.stencil);if(i){var n=$A(this._jsonObject.stencils).find(function(e){return e.id==i.id()});e.properties.each(function(e){var t=$A(n.properties).find(function(t){return t.id==e});i.addProperty(t,this.namespace())}.bind(this))}}.bind(this)),t.removestencils&&$A(t.removestencils).each(function(e){var i=t["extends"]+e;this._availableStencils.set(i,this._stencils.get(i))}.bind(this))}delete this._extensions[e]}},{key:"__handleStencilset",value:function(e){if(this._jsonObject=e,!this._jsonObject)throw"Error evaluating stencilset. It may be corrupt.";if(!this._jsonObject.namespace||""===this._jsonObject.namespace)throw"Namespace definition missing in stencilset.";if(!(this._jsonObject.stencils instanceof Array))throw"Stencilset corrupt.";this._jsonObject.namespace.endsWith("#")||(this._jsonObject.namespace+="#"),this._jsonObject.title||(this._jsonObject.title=""),this._jsonObject.description||(this._jsonObject.description="")}},{key:"_init",value:function(e){this.__handleStencilset(e);var t=new Hash;this._jsonObject.propertyPackages&&$A(this._jsonObject.propertyPackages).each(function(e){t.set(e.name,e.properties)}.bind(this));var i=0;$A(this._jsonObject.stencils).each(function(e){i++;var n=new _Stencil__WEBPACK_IMPORTED_MODULE_8__["a"](e,this.namespace(),this._baseUrl,this,t,i);this._stencils.set(n.id(),n),this._availableStencils.set(n.id(),n)}.bind(this))}},{key:"_cancelInit",value:function(e){this.errornous=!0}},{key:"toString",value:function(){return"StencilSet "+this.title()+" ("+this.namespace()+")"}}]),_Index}()},"19ce":function(e,t,i){"use strict";i.d(t,"a",function(){return m});var n=i("59ad"),s=i.n(n),a=(i("a481"),i("28a5"),i("7f7f"),i("6762"),i("2fdb"),i("aef6"),i("ac6a"),i("6c7b"),i("7514"),i("d225")),o=i("b0b4"),r=i("308d"),c=i("013f"),h=i("6bb5"),l=i("2a88"),d=i("4e2b"),u=i("d5b2"),g=i("4346"),A=i("c19a"),p=i("c5e4"),f=i("6f1d"),E=i("0130"),v=i("a791"),_=i("af70"),m=function(e){function t(e,i,n){var s;return Object(a["a"])(this,t),s=Object(r["a"])(this,Object(h["a"])(t).apply(this,arguments)),s.facade=n,s.dockers=[],s.magnets=[],s._defaultMagnet,s.incoming=[],s.outgoing=[],s.nodes=[],s._dockerChangedCallback=s._dockerChanged.bind(Object(c["a"])(s)),s._labels=new Hash,s.node=E["a"].graft("http://www.w3.org/2000/svg",null,["g",{id:"svg-"+s.resourceId},["g",{class:"stencils"},["g",{class:"me"}],["g",{class:"children",style:"overflow:hidden"}],["g",{class:"edge"}]],["g",{class:"controls"},["g",{class:"dockers"}],["g",{class:"magnets"}]],["g",{class:"helper"}]]),s}return Object(d["a"])(t,e),Object(o["a"])(t,[{key:"update",value:function(){}},{key:"_update",value:function(){}},{key:"refresh",value:function(){if(Object(l["a"])(Object(h["a"])(t.prototype),"refresh",this).call(this),this.node.ownerDocument){this.propertiesChanged.each(function(e){if(e.value){var t=this.properties.get(e.key),i=this.getStencil().property(e.key);if(void 0!=i)if(this.propertiesChanged.set(e.key,!1),i.type()==_["a"].TYPE_CHOICE){i.refToView().each(function(e){if(""!==e){var n=this._labels.get(this.id+e);n&&i.item(t)&&n.text(i.item(t).title())}}.bind(this));var n=new Hash;i.items().each(function(e){e.refToView().each(function(i){if(""!=i){var s=this.node.ownerDocument.getElementById(this.id+i);s&&(n.get(s.id)&&t!=e.value()||(s.setAttributeNS(null,"display",t==e.value()?"inherit":"none"),n.set(s.id,s)),E["a"].checkClassType(s,SVGImageElement)&&s.setAttributeNS("http://www.w3.org/1999/xlink","href",s.getAttributeNS("http://www.w3.org/1999/xlink","href")))}}.bind(this))}.bind(this))}else i.refToView().each(function(e){if(""!==e){var n=this.id+e;if(i.type()!==_["a"].TYPE_FLOWABLE_MULTIINSTANCE){if("cancelactivity"===i.type()){var s=this.node.ownerDocument.getElementById(this.id+"frame"),a=this.node.ownerDocument.getElementById(this.id+"frame2");"true"===t?(s.setAttributeNS(null,"display","inherit"),a.setAttributeNS(null,"display","inherit")):(s.setAttributeNS(null,"display","none"),a.setAttributeNS(null,"display","none"))}else if("select"===i.type()){if("important_sign"===e){var o=this.node.ownerDocument.getElementById(this.id+"important_sign");o&&("Parallel"===t?(o.setAttributeNS(null,"display","inherit"),o.setAttributeNS(null,"fill","red")):"Sequential"===t?(o.setAttributeNS(null,"display","inherit"),o.setAttributeNS(null,"fill","orange")):o.setAttributeNS(null,"display","none"))}return}var r=this.node.ownerDocument.getElementById(n);if(!r||!r.ownerSVGElement){if(i.type()!==_["a"].TYPE_URL&&i.type()!==_["a"].TYPE_DIAGRAM_LINK)return;var c=this.node.ownerDocument.getElementsByTagNameNS("http://www.w3.org/2000/svg","a");if(r=$A(c).find(function(e){return e.getAttributeNS(null,"id")===n}),!r)return}if(i.complexAttributeToView()){var h=this._labels.get(n);if(h)try{var l=t.evalJSON(),d=l[i.complexAttributeToView()];h.text(d||t)}catch(m){h.text(t)}}else switch(i.type()){case _["a"].TYPE_BOOLEAN:"string"==typeof t&&(t="true"===t),r.setAttributeNS(null,"display",t!==i.inverseBoolean()?"inherit":"none");break;case _["a"].TYPE_COLOR:i.fill()&&("stop"===r.tagName.toLowerCase()?(t&&(i.lightness()&&1!==i.lightness()&&(t=E["a"].adjustLightness(t,i.lightness())),r.setAttributeNS(null,"stop-color",t),"radialgradient"===r.parentNode.tagName.toLowerCase()&&E["a"].adjustGradient(r.parentNode,r)),"radialgradient"===r.parentNode.tagName.toLowerCase()&&$A(r.parentNode.getElementsByTagName("stop")).each(function(e){e.setAttributeNS(null,"stop-opacity",t?e.getAttributeNS(_["a"].NAMESPACE_ORYX,"default-stop-opacity")||1:0)}.bind(this))):r.setAttributeNS(null,"fill",t)),i.stroke()&&r.setAttributeNS(null,"stroke",t);break;case _["a"].TYPE_STRING:case _["a"].TYPE_EXPRESSION:case _["a"].TYPE_DATASOURCE:case _["a"].TYPE_INTEGER:var u=this._labels.get(n);u&&u.text(t);break;case _["a"].TYPE_FLOAT:if(i.fillOpacity()&&r.setAttributeNS(null,"fill-opacity",t),i.strokeOpacity()&&r.setAttributeNS(null,"stroke-opacity",t),!i.fillOpacity()&&!i.strokeOpacity()){var g=this._labels.get(n);g&&g.text(t)}break;case _["a"].TYPE_SUB_PROCESS_LINK:if("subprocesslink"==e){var A=r.getAttributeNodeNS("","onclick"),p=r.getAttributeNodeNS("","style");A&&(t&&t.id?(p&&(p.textContent="cursor:pointer;"),A.textContent="FLOWABLE.TOOLBAR.ACTIONS.navigateToProcess("+t.id+");return false;"):(p&&(p.textContent="cursor:default;"),A.textContent="return false;"))}break;case _["a"].TYPE_URL:break}}else if("multiinstance"===e){var f=this.node.ownerDocument.getElementById(this.id+"parallel");f&&("Parallel"===t?f.setAttributeNS(null,"display","inherit"):f.setAttributeNS(null,"display","none"));var v=this.node.ownerDocument.getElementById(this.id+"sequential");v&&("Sequential"===t?v.setAttributeNS(null,"display","inherit"):v.setAttributeNS(null,"display","none"))}}}.bind(this))}}.bind(this)),this._labels.values().each(function(e){e.update()})}this.facade.raiseEvent({type:"shape_refreshed",option:this})}},{key:"layout",value:function(){var e=this.getStencil().layout();e&&e.each(function(e){e.shape=this,e.forceExecution=!0,this._delegateEvent(e)}.bind(this))}},{key:"getLabels",value:function(){return this._labels.values()}},{key:"getLabel",value:function(e){return e&&(this._labels.find(function(t){return t.key.endsWith(e)})||{}).value||null}},{key:"hideLabels",value:function(){this.getLabels().invoke("hide")}},{key:"showLabels",value:function(){var e=this.getLabels();e.invoke("show"),e.each(function(e){e.update()})}},{key:"setOpacity",value:function(e,t){e=Math.max(Math.min("number"==typeof e?e:1,1),0),1!==e?(e=String(e),this.node.setAttributeNS(null,"fill-opacity",e),this.node.setAttributeNS(null,"stroke-opacity",e)):(this.node.removeAttributeNS(null,"fill-opacity"),this.node.removeAttributeNS(null,"stroke-opacity"))}},{key:"getDockers",value:function(){return this.dockers}},{key:"getMagnets",value:function(){return this.magnets}},{key:"getDefaultMagnet",value:function(){return this._defaultMagnet?this._defaultMagnet:this.magnets.length>0?this.magnets[0]:void 0}},{key:"getParentShape",value:function(){return this.parent}},{key:"getIncomingShapes",value:function(e){return e&&this.incoming.each(e),this.incoming}},{key:"getIncomingNodes",value:function(e){return this.incoming.select(function(t){var i=t.getInstanceofType().includes("Node");return i&&e&&e(t),i})}},{key:"getOutgoingShapes",value:function(e){return e&&this.outgoing.each(e),this.outgoing}},{key:"getOutgoingNodes",value:function(e){return this.outgoing.select(function(t){var i=t.getInstanceofType().includes("Node");return i&&e&&e(t),i})}},{key:"getAllDockedShapes",value:function(e){var t=this.incoming.concat(this.outgoing);return e&&t.each(e),t}},{key:"getCanvas",value:function(){return this.parent instanceof A["a"]?this.parent:this.parent instanceof t?this.parent.getCanvas():void 0}},{key:"getChildNodes",value:function(e,i){if(e||i){var n=[];return this.nodes.each(function(s){s.isVisible&&(i&&i(s),n.push(s),e&&s instanceof t&&(n=n.concat(s.getChildNodes(e,i))))}),n}return this.nodes.clone()}},{key:"add",value:function(e,t,i){if(e instanceof g["a"]&&!e.getInstanceofType().includes("Edge"))if(this.children.member(e))v["a"].warn("add: ORYX.Core.UIObject is already a child of this object.");else{var n;e.parent&&e.parent.remove(e,!0),void 0!=t?this.children.splice(t,0,e):this.children.push(e),e.parent=this;var s=e.getInstanceofType();if(s.includes("Node"))n=this.node.childNodes[0].childNodes[1],this.nodes.push(e);else if(e instanceof p["a"].Control){var a=this.node.childNodes[1];e instanceof p["a"].Docker?(n=a.childNodes[0],this.dockers.length>=2?this.dockers.splice(void 0!==t?Math.min(t,this.dockers.length-1):this.dockers.length-1,0,e):this.dockers.push(e)):e instanceof p["a"].Magnet?(n=a.childNodes[1],this.magnets.push(e)):n=a}else n=this.node;void 0!=t&&t<n.childNodes.length?e.node=n.insertBefore(e.node,n.childNodes[t]):e.node=n.appendChild(e.node),this._changed(),this.eventHandlerCallback&&!0!==i&&this.eventHandlerCallback({type:_["a"].EVENT_SHAPEADDED,shape:e})}else v["a"].warn("add: Parameter is not of type ORYX.Core.UIObject.")}},{key:"remove",value:function(e,i){if(this.children.member(e)){var n=e.parent;if(this.children=this.children.without(e),e.parent=void 0,e instanceof t){var s=e.getInstanceofType();s.includes("Edge")?(e.removeMarkers(),e.node=this.node.childNodes[0].childNodes[2].removeChild(e.node)):(e.node=this.node.childNodes[0].childNodes[1].removeChild(e.node),this.nodes=this.nodes.without(e))}else e instanceof p["a"].Control&&(e instanceof p["a"].Docker?(e.node=this.node.childNodes[1].childNodes[0].removeChild(e.node),this.dockers=this.dockers.without(e)):e instanceof p["a"].Magnet?(e.node=this.node.childNodes[1].childNodes[1].removeChild(e.node),this.magnets=this.magnets.without(e)):e.node=this.node.childNodes[1].removeChild(e.node));this.eventHandlerCallback&&!0!==i&&this.eventHandlerCallback({type:_["a"].EVENT_SHAPEREMOVED,shape:e,parent:n}),this._changed()}else v["a"].warn("remove: ORYX.Core.UIObject is not a child of this object.")}},{key:"getIntersectionPoint",value:function(){var e,t,i,n,s,a,o,r;switch(arguments.length){case 2:e=arguments[0].x,t=arguments[0].y,i=arguments[1].x,n=arguments[1].y;break;case 4:e=arguments[0],t=arguments[1],i=arguments[2],n=arguments[3];break;default:throw"getIntersectionPoints needs two or four arguments"}var c=this.absoluteBounds();if(this.isPointIncluded(e,t,c)?(s=e,a=t):(o=e,r=t),this.isPointIncluded(i,n,c)?(s=i,a=n):(o=i,r=n),s&&a&&o&&r){var h,l;while(1){var d=Math.min(s,o)+(Math.max(s,o)-Math.min(s,o))/2,u=Math.min(a,r)+(Math.max(a,r)-Math.min(a,r))/2;this.isPointIncluded(d,u,c)?(s=d,a=u):(o=d,r=u);var g=Math.sqrt(Math.pow(s-o,2)+Math.pow(a-r,2));if(h=s+(o-s)/g,l=a+(r-a)/g,!this.isPointIncluded(h,l,c))break}return{x:h,y:l}}}},{key:"isPointIncluded",value:function(){return!1}},{key:"containsNode",value:function(e){var t=this.node.firstChild.firstChild;while(e){if(e==t)return!0;e=e.parentNode}return!1}},{key:"isPointOverOffset",value:function(){return this.isPointIncluded.apply(this,arguments)}},{key:"_dockerChanged",value:function(){}},{key:"createDocker",value:function(e,t){var i=new p["a"].Docker({eventHandlerCallback:this.eventHandlerCallback});return i.bounds.registerCallback(this._dockerChangedCallback),t&&i.bounds.centerMoveTo(t),this.add(i,e),i}},{key:"serialize",value:function(){var e=Object(l["a"])(Object(h["a"])(t.prototype),"serialize",this).call(this);return e.push({name:"bounds",prefix:"oryx",value:this.bounds.serializeForERDF(),type:"literal"}),this.getOutgoingShapes().each(function(t){e.push({name:"outgoing",prefix:"raziel",value:"#"+f["a"].__stripHashes(t.resourceId),type:"resource"})}.bind(this)),e.push({name:"parent",prefix:"raziel",value:"#"+f["a"].__stripHashes(this.parent.resourceId),type:"resource"}),e}},{key:"deserialize",value:function(e,i){Object(l["a"])(Object(h["a"])(t.prototype),"deserialize",this).call(this,e,i);var n=e.find(function(e){return"oryx-bounds"===e.prefix+"-"+e.name});if(n){var a=n.value.replace(/,/g," ").split(" ").without(""),o=this.getInstanceofType();o.includes("Edge")?(this.dockers.first().isChanged||this.dockers.first().bounds.centerMoveTo(s()(a[0]),s()(a[1])),this.dockers.last().isChanged||this.dockers.last().bounds.centerMoveTo(s()(a[2]),s()(a[3]))):this.bounds.set(s()(a[0]),s()(a[1]),s()(a[2]),s()(a[3]))}i&&i.labels instanceof Array&&i.labels.each(function(e){var t=this.getLabel(e.ref);t&&t.deserialize(e,this)}.bind(this))}},{key:"toJSON",value:function(){var e=Object(l["a"])(Object(h["a"])(t.prototype),"toJSON",this).call(this),i=[],n=this.id;return this._labels.each(function(e){var t=e.value.serialize();t&&(t.ref=e.key.replace(n,""),i.push(t))}),i.length>0&&(e.labels=i),e}},{key:"_init",value:function(e){this._adjustIds(e,0)}},{key:"_adjustIds",value:function(e,t){if(e instanceof Element){var i=e.getAttributeNS(null,"id");i&&""!==i?e.setAttributeNS(null,"id",this.id+i):(e.setAttributeNS(null,"id",this.id+"_"+this.id+"_"+t),t++);var n=e.getAttributeNS(null,"fill");if(n&&n.include("url(#")&&(n=n.replace(/url\(#/g,"url(#"+this.id),e.setAttributeNS(null,"fill",n)),e.hasChildNodes())for(var s=0;s<e.childNodes.length;s++)t=this._adjustIds(e.childNodes[s],t)}return t}},{key:"toString",value:function(){return"ORYX.Core.Shape "+this.getId()}},{key:"getInstanceofType",value:function(){return"Shape"}}]),t}(u["a"])},"1e60":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACtSURBVDiN3VPLDcIwDH1GHOgCHDoA28SWGIFF+EhswRLJPGzRQ3uI9DhAqiqQqNAbT7L0rDhPz44jJLEE69KBmR1I3gAIAIjI2Xt/yutWlctHEdmFECTGuCW5N7M3AUktqGoPYPOF+yGE0IDkGM45TvNSTOs+tvByU+XVGWStlHhVYDb+WGCYwZ/I3rdT1ba2A6raOue6lOd/4UryrqpNxXUP4JKScZV/xeIhPgDQV4uNISNl9gAAAABJRU5ErkJggg=="},"1e68":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACXSURBVDiN3ZPBDcMwDAPJwjO1nw6QEWyt0QE6QdaQV+gAfXkp9hMDRRDHafwrAX0M8SwCEiVhRAEAzOwuaQZwPegrJB/u/g4AIGkm+XT31xG3mU3LhzdIQoxRkvBLVc/lVPAv/QEgrB9SSs3FyDmzC2g1tsC7Efam6QKquQdpAmqMrThbgGJmUwuy1tJbAICSho6Jo+f8AdOMbQxHjdBVAAAAAElFTkSuQmCC"},"20a9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGPSURBVDiNpZO9bhNBFIW/u8ZoaBCuUQTiT8pbIJHgRLHSxfZ63KyAp+A9UtBstd6RUwJSfhQpbwEFRVK4ThfGWLND4RmzNjiKxJFW2nv33J9zZke89/wP7q37kGWZstZeAyilWnme23/xknrQ6/W20jTdALDWdgAFqOl0ugOgtX6itW7XayRK0Fq3q6r6CvwCzoE20Ay8GXACvAHuJ0myVxTFyaqE76H4AdBZ2bRZy/0M3GUJRVFchckRE+BjeCa1/Hng/pEQDOsAozBt4px7PR6PfwB0u90XjUbjAngc5AyUUl/yPLdJMOwaOKppPozFAOH9sCbnKJ5QlCB1wd77pXhdbtHAOdeqqmqbuYmIyIcsyx5F0nA4fCgi70M4Aw6UUq2FBxH9fv9YROI5X4rIpzD5HfAs5I/LstxdMhEgTdOnwDfmP89tsMBmWZaXCwlh7ZfMDbrx3n8Oq0bMQu4GaHrvXy15ADAajc6SJNlzzm0aY/aBQa3BwBiz75x7LiJvjTGnf0lYxV0v09oGd8Vv1suvbQxAOuoAAAAASUVORK5CYII="},2328:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAI3SURBVDiNdZNPiI5RFMZ/54pJmh0hu4lpym6+YaHIykSzpHnv9w4xFixkKNmMkFJYYNiQv9H3npmNmprMQinDzBRmpaaJKKWYshAp/3ofi++O3o27ubdzn+e559zzHJNEdWVZ1m5mDaAFWJ7CM8CMpGJ4ePh1FR8WDmZm9Xr9iJlNA13AWmAH0CXppqSlZjaZMPaPJwkzs97e3jEzawVGgd3APPDB3fcvgPM8byvL8q6kFkl9IyMjbwJAjHHAzFo7Ojq2AjVgHDgK9MUYOxcEGo3GuxDCHjOrhRDOAIQsy9olDYYQ9s7NzQFsAx66+yxwDbhUrbksy6vAIqA7y7L2YGZ1SbcbjcY7YGO6nE7408D6GOPOlOkuoAeYl3TDzGJIKU8lwnbgEbA6xngI+AqcBC7EGFcBV9LfPE2crgDUzOxFRWAcuAVcBfYA14HvwHPgPfAGmEic2r82xhhXAJ3AmrSfAE6lkgaAn8Dh1OKJBV6gaZANQDfwGTiWgOeBX8ABd3/s7uuAxcAP4FXizASaLtuU0l8JPHH3wt3/pPoHY4zL0oObgUl3LxPnZZBUmFl/EvgCHKx0bQT4lDIC2AJM5HneZmb9ktwkUa/XL0o6amb9RVHcqQgQY+wB7tO09lsz2yHpnJk9KIricgAoy/IZ8FHSvjzP26oC7j4GzAL3gCWSzkv65u5DkGYBmsMUYxyQNCjpNjBVae9e4Czw28yOu/uQEtH+M851mgarpfAM0A6MuvvxKv4vcuLvYtMimB8AAAAASUVORK5CYII="},"270f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAMdJREFUeNpi/P//PwMlgImBQsACIqKiomyALukFMs2I1HeKkZGxeNmyZUfABkA1dy9fvnwNMbqBFnpA9ZiDNDNERET8B9GkYJgeisOAOoGIDlQUFF2AlDEQ37vz4P5qJHFBIP89XgOAikKB1Cok/j0g1QnEII3lQGxCyAtKQOwKtIkRSIdBxWZCDT1L0AtAjZ1IbJDzVwNdYQzlnyUqDLAYepZmsQAz4BQodRGrCar2FNwLoHQNSpqRkZHbSckLYL2UZmeAAAMA4FN1yCrxB9oAAAAASUVORK5CYII="},2935:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAFUSURBVDjLrZM/SAJxGIZdWwuDlnCplkAEm1zkaIiGFFpyMIwGK5KGoK2lphDKkMDg3LLUSIJsSKhIi+684CokOtTiMizCGuzEU5K3vOEgKvtBDe/2Pc8H3x8NAM1fQlx4H9M3pcOWp6TXWmM8A7j0629v1nraiAVC0IrrwATKIgs5xyG5QiE+Z4iQdoeU2oAsnqCSO1NSTu+D9VhqRLD8nIB8F0Q2MgmJDyipCzjvYJkIfpN2UBLG8MpP4dxvQ3ZzGuyyBQ2H+AnOOCBd9aL6soh81A5hyYSGWyCFvxUcerqI4S+CvYVOFPMHxLAq8I3qdHVY5LbBhJzEsCrwutpRFBlUHy6wO2tEYtWAzLELPN2P03kjfj3luqDycV2F8AgefWbEnVqEHa2IznSD6BdsVDNStB0lfh0FPoQjdx8RrAqGzC0YprSgxzsUMOY2bf37N/6Ud1Vc9yYcH50CAAAAAElFTkSuQmCC"},"2c9b":function(e,t){e.exports="data:image/png;base64,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"},"2ef9":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABLSURBVDiN7ZOxDcAwDMPoIkfKF/pMdUrmNs4YAQa8iNDCsE0nAyAzf1OqKgCwjSTb5utJ8uw8rf1wARdwBjDms+PDWrDE2Eh0dX4BeZA7CahpiqQAAAAASUVORK5CYII="},3644:function(e,t){e.exports="data:image/png;base64,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"},"3bfb":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFLSURBVDiNjZM9agMxEIXfSIUZ8AF8CJ9iTQI2mHSLnSJF6hxiD5E6RSBZ0DYOCzEk2Bfa1sZqZidFtKCsV3YEKvTzvpl5GpGqIjXW63UBAGVZFqk75oo4A5B1oH8DgmAmIgsRWQCYpSBngEg8d84dnHMHEZmnICYlbprGd/tN0/gUhDoTYzGAJyK6OZ1OSwBg5lpVvwE8W2u3AHadsaYvrqrqSERTABkz18xcA8iIaFpV1bGfCa1WqwJAJiIL59wBAPI8t8aYV1W9BwAiem/b9sE5J+F8bK39BLAffAXv/UhVJ91aVSfe+9HQXRNq2Vtrt3mej4mImHmD3x54CzNj5g0RUYi+BbAvy7IYNNEYc6eqt6r6GEp4IaKvtm0/+iZS3Mr9HohTjSLv4tb+40E42HXlXBOfZTCUCQCkxElADAnLQfFFQAS5+J1/AFhv2s5fwbLfAAAAAElFTkSuQmCC"},"3dac":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAG6SURBVDiNpVMxixNBFP6+2YgEDCmsrrU4thRSHOQsUocrzsJsZiNExD6CpdUW6ZVrQ0gCm52kUvAnmJMTYyukCFjZiCB2QuazuF1ZJHcg98HAe/Pe92Z473uUhDK63e4hyRhAIz8AsAawljR3zm3K+aYwSDKO4+ckV5KqkkYADgAcSBpJqpJc5Tn8y5MEkoyi6B3JmjHmSZqmW+xBr9e7572fSPq1WCxOJMkAgLV2QLIWhmHrKjIApGm6DcOwRbJmrR0AAKMoOiS5MsYcXUcGgDiOHwP4TnLjvb+QdFwhGUsaX0fudDrVIAjOALQkdZxz2263OyZpK3mnR3teewDglaRbQRDcAfB5t9s1lsvlzzzlHMCzCoAGyRMALBeQdAbgfu5+zbLsUTlO8g2AbwZX43fJrrbb7dv7kgwuBXL6b4DkCwAfSa4BfKnX6x/6/f7d0g9PAawruFRZE8DbcoH5fP4ewFHhW2sfzmazH9PptLhqAvj0X2MskAvqQtKxcc5tSA6995MkSa7rCQAgSRLjvZ+QHDrnNjeWMottJElr7UDSS0ljAOf5qIqGNUk+JTnMsuy1ciJvus5/AKMw7BIT3RiXAAAAAElFTkSuQmCC"},"3eef":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJoSURBVDiNlVNNSFRRGD3nGx/oYqQicFr0s3qOYJE4MWSLnL2LEvI5s0poF4JBIdSiFv1Aq6BoIaLhYnyD4CJE2gRtFMwEF2k2i1AimVoqYTDz7mnzRkarRQc+uFy+c+7lO+ejJDRicHDQJ1kA0B0XAKwAWJFUDMOw3Nhv9QNJFgqFEZILklokjQPIAMhIGpfUQnIh7uEBAZIMgmBOUr+ZZcMwHG1qavpSqVR+mNkegM0wDEfNLCupPwiCuboIJaFQKIxI6k+n071ra2tpMwtJrprZVBRF30iOATgq6VpHR8fnjY2NdyRni8XiMwZB4JNcMLNsFEVHALwl+bJSqdxPpVLvJW3t7OwMtra2PiJ5Q9LlRCKx65xbknTJSBYkTfi+v0lyjOSt6enpe6lUKg+gi+SVZDKZCcPwNoA7JMd839+UNEEyb/GkF9fX1y8CaG9ubg6HhoaaATzcH5TZUwDwPK8IoLNcLmcALALIGIBuksskzwGYn5yc/LW3tzcM4FSDWz35fP7q1NTUTwDzkrpILgPotoZXqpK2BwYGjgG4i0Mg+SSXyzUBqEiq1e8TnZ2dvZK+k1wDIDMLSOYOCwA4nkwmtwF4URS9IXmW5AmLU9bT3t7+sVqtLgC4+RcyAEDSA8/zXszMzHwC0APgwwEbnXOOZPpfAgBQq9VWPM9L1m38I0jlcvlMFEXPAZwEsBTzsgC+JhKJYd/3Nw8ESdJ+lEkmzex6tVrdMrMLJM/HX191zi17nnfaOfdK0m6pVOqTJIsbVCqV+kjOOueWzOwxgDYAr+NqM7PHzrklkrN1MhDvQiP+d51/A+QbNf6ycvA4AAAAAElFTkSuQmCC"},"40dd":function(e,t,i){"use strict";i("7f7f");var n=i("a4bb"),s=i.n(n),a=i("2d7d"),o=i.n(a),r=(i("ac6a"),i("308d")),c=i("6bb5"),h=i("4e2b"),l=(i("28a5"),i("f559"),i("d225")),d=i("b0b4"),u=i("ffea"),g=i("af70"),A=i("a791"),p=i("075e"),f=(i("c5f6"),i("4917"),i("6b54"),i("a481"),i("6f1d")),E=i("c19a"),v={started:!1,callbacks:[],alreadyLoaded:[],PATH:"",load:function(){v.kick()},kick:function(){v.started||(v.started=!0,v.callbacks.each(function(e){window.setTimeout(e,1)}))},register:function(e){v.started?window.setTimeout(e,1):v.callbacks.push(e)},require:function(e){return!v.alreadyLoaded.member(e)&&v.include(e)},include:function(e){var t=document.getElementsByTagNameNS(g["a"].XMLNS.XHTML,"head")[0],i=document.createElementNS(g["a"].XMLNS.XHTML,"script");return i.setAttributeNS(g["a"].XMLNS.XHTML,"type","text/javascript"),i.src=v.PATH+e,t.appendChild(i),v.alreadyLoaded.push(e),!0}},_="processdata",m=!0,S=!1,b=!1,O=!0,y="resource",T=1,C=2,N=4,I=8,R=16,P={__corrupt:!1,__latelyCreatedResource:void 0,__listeners:$H(),__token:1,addListener:function(e,t){if(!(e instanceof Function))throw"Resource event listener is not a function!";if(!t)throw"Invalid mask for resource event listener registration.";var i={listener:e,mask:t},n=P.__token++;return P.__listeners[n]=i,n},removeListener:function(e){return P.__listners.remove(e)},__Event:function(e,t){this.action=e,this.resourceId=t},__dispatchEvent:function(e){P.__listeners.values().each(function(t){if(e.action&t.mask)return t.listener(e)})},getResource:function(e){e=f["a"].__stripHashes(e);var t=k.query(new f["a"].Resource("#"+e),{prefix:"raziel",name:"entry"},void 0);if(1==t.length&&t[0].object.isResource()){var i=t[0].object.value;return new P.__Resource(e,i)}throw"Resource with id "+e+" not recognized as such. "+(t.length>1?" There is more than one raziel:entry URL.":" There is no raziel:entry URL.")},__createResource:function(e){var t=k.query(new f["a"].Resource(""),{prefix:"raziel",name:"collection"},void 0);if(1==t.length&&t[0].object.isResource()){var i=t[0].object.value,n=void 0,s=e||'<div xmlns="http://www.w3.org/1999/xhtml"></div>';return P.__request("POST",i,s,function(){var e=this.responseXML,t=e.childNodes[0],i=t.getAttribute("id");$$("."+_)[0]||k.graft(g["a"].XMLNS.XHTML,document.getElementsByTagNameNS(g["a"].XMLNS.XHTML,"body").item(0),["div",{class:_,style:"display:none;"}]),$$("."+_)[0].appendChild(t.cloneNode(!0)),k.__synclocal(),n=new P.getResource(i),P.__resourceActionSucceeded(this,T,void 0)},function(){P.__resourceActionFailed(this,T,void 0)},!1),n}throw"Could not create resource! raziel:collection URL is missing!"},__Resource:function(e,t){this.__id=e,this.__url=t,this.id=function(){return this.__id},this.url=function(){return this.__url},this.reload=function(){var e=this.__url,t=this.__id;P.__request("GET",e,null,function(){P.__resourceActionSucceeded(this,I,t)},function(){P.__resourceActionFailed(this,RESURCE_RELOADED,t)},O)},this.save=function(e){var t=this.__url,i=this.__id,n=k.serialize($(i));P.__request("PUT",t,n,function(){P.__resourceActionSucceeded(this,e?N|R:N,i)},function(){P.__resourceActionFailed(this,e?N|R:RESOURCE.SAVED,i)},O)},this.remove=function(){var e=this.__url,t=this.__id;P.__request("DELETE",e,null,function(){P.__resourceActionSucceeded(this,C,t)},function(){P.__resourceActionFailed(this,C,t)},O)}},request:function(e,t){var i={method:"get",asynchronous:!0,parameters:{}};Object.extend(i,t||{});var n=Hash.toQueryString(i.parameters);return n&&(e+=(e.include("?")?"&":"?")+n),P.__request(i.method,e,i.data,i.onSuccess instanceof Function?function(){i.onSuccess(this)}:void 0,i.onFailure instanceof Function?function(){i.onFailure(this)}:void 0,i.asynchronous&&O,i.headers)},__request:function(e,t,i,n,s,a,o){var r=Try.these(function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")});if(!r){if(!this.__corrupt)throw"This browser does not provide any AJAX functionality. You will not be able to use the software provided with the page you are viewing. Please consider installing appropriate extensions.";return this.__corrupt=!0,!1}n instanceof Function&&(r.onload=n),s instanceof Function&&(r.onerror=s);var c=$H(o);c.keys().each(function(e){r.setRequestHeader(e,c[e])});try{S&&alert(e+" "+t+"\n"+b?i:""),r.open(e,t,!!a),r.send(i)}catch(h){return!1}return!0},__resourceActionSucceeded:function(e,t,i){var n,s,a,o=e.status;e.responseText;if(S&&alert(o+" "+url+"\n"+b?data:""),o>=300)throw"The server responded with an error: "+o+"\n"+(b?+data:"If you need additional information here, including the data sent by the server, consider setting SHOW_EXTENDED_DEBUG_INFORMATION to true.");switch(t){case C:n=e.responseXML,s=n.childNodes[0],i=s.getAttribute("id"),a=document.getElementById(i),a.parentNode.removeChild(a);break;case T:break;case N|R:k.__synclocal();case N:break;case I:n=e.responseXML,s=n.childNodes[0],i=s.getAttribute("id"),a=document.getElementById(i),a.parentNode.removeChild(a),$$(_)[0]||k.graft(g["a"].XMLNS.XHTML,document.getElementsByTagNameNS(g["a"].XMLNS.XHTML,"body").item(0),["div",{class:_,style:"display:none;"}]),$$(_)[0].appendChild(s.cloneNode(!0)),k.__synclocal();break;default:k.__synclocal()}P.__dispatchEvent(new P.__Event(t,i))},__resourceActionFailed:function(e,t,i){throw"Fatal: Resource action failed. There is something horribly wrong with either the server, the transport protocol or your online status. Sure you're online?"}},k={init:function(){f["a"].init(k._registerTriple),k.__synclocal()},_triples:[],_registerTriple:function(e){k._triples.push(e)},__synclocal:function(){k._triples=[],f["a"].run()},__synchronizeShape:function(e){var t=P.getResource(e.resourceId),i=e.serialize();return i.each(function(t){var i="resource"==t.type,n=new f["a"].Triple(new f["a"].Resource(e.resourceId),{prefix:t.prefix,name:t.name},i?new f["a"].Resource(t.value):new f["a"].Literal(t.value));k.setObject(n)}),t},__storeShape:function(e){var t=k.__synchronizeShape(e);t.save()},__forceExistance:function(e){if($(e.resourceId)){var t=$(e.resourceId),i=$A(t.childNodes);i.each(function(e){t.removeChild(e)})}else $$("."+_)[0]||k.graft(g["a"].XMLNS.XHTML,document.getElementsByTagNameNS(g["a"].XMLNS.XHTML,"body").item(0),["div",{class:_,style:"display:none;"}]),k.graft(g["a"].XMLNS.XHTML,$$("."+_)[0],["div",{id:e.resourceId,class:e instanceof E["a"]?"-oryx-canvas":void 0}])},__persistShape:function(e){var t=e.serialize(),i=new f["a"].Resource(e.resourceId);k.removeTriples(k.query(i,void 0,void 0)),t.each(function(e){var t="resource"==e.type?new f["a"].Resource(e.value):new f["a"].Literal(e.value);k.addTriple(new f["a"].Triple(i,{prefix:e.prefix,name:e.name},t))})},__persistDOM:function(e){var t=e.getCanvas().getChildShapes(!0),i="";return t.each(function(e){k.__forceExistance(e)}),k.__renderCanvas(e),i+=k.serialize($(f["a"].__stripHashes(e.getCanvas().resourceId)),!0),t.each(function(e){k.__persistShape(e),i+=k.serialize($(f["a"].__stripHashes(e.resourceId)),!0)}),i},__renderCanvas:function(e){var t=e.getCanvas(),i=e.getStencilSets(),n=t.getChildShapes(!0);k.__forceExistance(t),k.__persistShape(t);var s=new f["a"].Resource(t.resourceId);k.removeTriples(k.query(s,void 0,void 0)),k.addTriple(new f["a"].Triple(s,{prefix:"oryx",name:"mode"},new f["a"].Literal("writable"))),k.addTriple(new f["a"].Triple(s,{prefix:"oryx",name:"mode"},new f["a"].Literal("fullscreen"))),i.values().each(function(e){k.addTriple(new f["a"].Triple(s,{prefix:"oryx",name:"stencilset"},new f["a"].Resource(e.source().replace(/&/g,"%26")))),k.addTriple(new f["a"].Triple(s,{prefix:"oryx",name:"ssnamespace"},new f["a"].Resource(e.namespace()))),e.extensions().keys().each(function(e){k.addTriple(new f["a"].Triple(s,{prefix:"oryx",name:"ssextension"},new f["a"].Literal(e)))})}),n.each(function(e){k.addTriple(new f["a"].Triple(s,{prefix:"oryx",name:"render"},new f["a"].Resource("#"+e.resourceId)))})},__counter:0,__provideId:function(){while($(y+k.__counter))k.__counter++;return y+k.__counter},serializeDOM:function(e){return k.__persistDOM(e)},syncGlobal:function(e){return k.__syncglobal(e)},__syncglobal:function(e){var t=e.getCanvas(),i=t.getChildShapes(!0);i.select(function(e){return!$(e.resourceId)}).each(function(e){if(m){var t=e.properties["raziel-type"],i='<div xmlns="http://www.w3.org/1999/xhtml"><span class="raziel-type">'+t+"</span></div>",n=P.__createResource(i);e.resourceId=n.id()}else{n=P.__createResource();e.resourceId=n.id()}}),i.each(function(e){k.__storeShape(e)})},serialize:function(e,t){if(e.nodeType==e.ELEMENT_NODE){var i=$A(e.childNodes),n=$A(e.attributes),s=new String(e.getAttribute("class")),a=s.split(" ").member("transient");if(a)return"";var o="<"+e.nodeName;return t||(o+=' xmlns="'+(e.namespaceURI?e.namespaceURI:g["a"].XMLNS.XHTML)+'" xmlns:oryx="http://oryx-editor.org"'),n.each(function(e){o+=" "+e.nodeName+'="'+e.nodeValue+'"'}),0==i.length?o+="/>":(o+=">",i.each(function(e){o+=k.serialize(e,!0)}),o+="</"+e.nodeName+">"),o}if(e.nodeType==e.TEXT_NODE)return e.nodeValue},addTriple:function(e){if(!e.subject.type==f["a"].LITERAL)throw"Cannot add the triple "+e.toString()+" because the subject is not a resource.";var t=f["a"].__stripHashes(e.subject.value),i=$(t);if(!i)throw"Cannot add the triple "+e.toString()+' because the subject "'+t+'" is not in the document.';return e.object.type==f["a"].LITERAL?k.graft(g["a"].XMLNS.XHTML,i,["span",{class:e.predicate.prefix+"-"+e.predicate.name},e.object.value.escapeHTML()]):k.graft(g["a"].XMLNS.XHTML,i,["a",{rel:e.predicate.prefix+"-"+e.predicate.name,href:e.object.value}]),!0},removeTriples:function(e){var t=e.select(function(e){return k.__removeTriple(e)});return t},removeTriple:function(e){var t=k.__removeTriple(e);return t},__removeTriple:function(e){if(!e.subject.type==f["a"].LITERAL)throw"Cannot remove the triple "+e.toString()+" because the subject is not a resource.";var t=f["a"].__stripHashes(e.subject.value),i=$(t);if(!i)throw"Cannot remove the triple "+e.toString()+" because the subject is not in the document.";if(e.object.type==f["a"].LITERAL){var n=k.__removeTripleRecursively(e,i);return n}},__removeTripleRecursively:function(e,t){if(t.nodeType!=t.ELEMENT_NODE)return!1;var i=new String(t.getAttribute("class")),n=$A(t.childNodes);if(i.include(e.predicate.prefix+"-"+e.predicate.name)){var s=t.textContent;return e.object.type==f["a"].LITERAL&&e.object.value==s&&t.parentNode.removeChild(t),!0}return n.each(function(t){k.__removeTripleRecursively(e,t)}),!1},graft:function(e,t,i,n){var s;if(n=n||t&&t.ownerDocument||document,void 0===i)echo("Can't graft an undefined value");else if(i.constructor==String)s=n.createTextNode(i);else for(var a=0;a<i.length;a++){if(0===a&&i[a].constructor==String){var o=i[a].match(/^([a-z][a-z0-9]*)\.([^\s\.]+)$/i);if(o){s=n.createElementNS(e,o[1]),s.setAttributeNS(null,"class",o[2]);continue}if(o=i[a].match(/^([a-z][a-z0-9]*)$/i),o){s=n.createElementNS(e,o[1]);continue}s=n.createElementNS(e,"span"),s.setAttribute(null,"class","namelessFromLOL")}if(void 0===i[a])echo("Can't graft an undefined value in a list!");else if(i[a].constructor==String||i[a].constructor==Array)this.graft(e,s,i[a],n);else if(i[a].constructor==Number)this.graft(e,s,i[a].toString(),n);else if(i[a].constructor==Object)for(var r in i[a])s.setAttributeNS(null,r,i[a][r]);else{if(i[a].constructor!=Boolean)throw"Object "+i[a]+" is inscrutable as an graft arglet.";this.graft(e,s,i[a]?"true":"false",n)}}return t&&t.appendChild(s),Element.extend(s)},setObject:function(e){var t=k.query(e.subject,e.predicate,void 0);return k.removeTriples(t),k.addTriple(e),!0},query:function(e,t,i){return k._triples.select(function(n){var s=!e||n.subject.type==e.type&&n.subject.value==e.value;return t&&(s=s&&(!t.prefix||n.predicate.prefix==t.prefix),s=s&&(!t.name||n.predicate.name==t.name)),s=s&&(!i||n.object.type==i.type&&n.object.value==i.value),s})}};Event.observe(window,"load",v.load),v.register(k.init);var L=i("aca4"),D=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.facade.registerOnEvent(g["a"].EVENT_LOADED,this.onLoaded.bind(this))}return Object(d["a"])(e,[{key:"onLoaded",value:function(){}},{key:"onSelectionChanged",value:function(){}},{key:"showOverlay",value:function(e,t,i,n){e instanceof Array||(e=[e]),e=e.map(function(e){var t=e;return"string"==typeof e&&(t=this.facade.getCanvas().getChildShapeByResourceId(e),t=t||this.facade.getCanvas().getChildById(e,!0)),t}.bind(this)).compact(),this.overlayID||(this.overlayID=this.type+p["a"].provideId()),this.facade.raiseEvent({type:g["a"].EVENT_OVERLAY_SHOW,id:this.overlayID,shapes:e,attributes:t,node:i,nodePosition:n||"NW"})}},{key:"hideOverlay",value:function(){this.facade.raiseEvent({type:g["a"].EVENT_OVERLAY_HIDE,id:this.overlayID})}},{key:"doTransform",value:function(e,t){if(!t||!e)return"";var i,n=new DOMParser,s=n.parseFromString(e,"text/xml"),a=t;new Ajax.Request(a,{asynchronous:!1,method:"get",onSuccess:function(e){i=e.responseText}.bind(this),onFailure:function(e){A["a"].error("XSL load failed"+e)}.bind(this)});var o=new XSLTProcessor,r=new DOMParser,c=r.parseFromString(i,"text/xml");o.importStylesheet(c);try{var h=o.transformToFragment(s,document),l=(new XMLSerializer).serializeToString(h);return l=l.startsWith("<?xml")?l:'<?xml version="1.0" encoding="UTF-8"?>'+l,l}catch(d){return-1}}},{key:"openXMLWindow",value:function(e){window.open("data:application/xml,"+encodeURIComponent(e),"_blank","resizable=yes,width=600,height=600,toolbar=0,scrollbars=yes")}},{key:"openDownloadWindow",value:function(e,t){var i=window.open("");if(null!=i){i.document.open(),i.document.write("<html><body>");var n=i.document.createElement("form");i.document.body.appendChild(n);var s=function(e,t){var i=document.createElement("input");return i.name=e,i.type="hidden",i.value=t,i};n.appendChild(s("download",t)),n.appendChild(s("file",e)),n.method="POST",i.document.write("</body></html>"),i.document.close(),n.action=g["a"].PATH+"/download",n.submit()}}},{key:"getSerializedDOM",value:function(){var e=k.serializeDOM(this.facade);return e='<?xml version="1.0" encoding="utf-8"?><html xmlns="http://www.w3.org/1999/xhtml" xmlns:b3mn="http://b3mn.org/2007/b3mn" xmlns:ext="http://b3mn.org/2007/ext" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:atom="http://b3mn.org/2007/atom+xhtml"><head profile="http://purl.org/NET/erdf/profile"><link rel="schema.dc" href="http://purl.org/dc/elements/1.1/" /><link rel="schema.dcTerms" href="http://purl.org/dc/terms/ " /><link rel="schema.b3mn" href="http://b3mn.org" /><link rel="schema.oryx" href="http://oryx-editor.org/" /><link rel="schema.raziel" href="http://raziel.org/" /><base href="'+location.href.split("?")[0]+'" /></head><body>'+e+"</body></html>",e}},{key:"enableReadOnlyMode",value:function(){this.facade.disableEvent(g["a"].EVENT_MOUSEDOWN),this._stopSelectionChange=function(){this.facade.getSelection().length>0&&this.facade.setSelection([])},this.facade.registerOnEvent(g["a"].EVENT_SELECTION_CHANGED,this._stopSelectionChange.bind(this))}},{key:"disableReadOnlyMode",value:function(){this.facade.enableEvent(g["a"].EVENT_MOUSEDOWN),this._stopSelectionChange&&(this.facade.unregisterOnEvent(g["a"].EVENT_SELECTION_CHANGED,this._stopSelectionChange.bind(this)),this._stopSelectionChange=void 0)}},{key:"getRDFFromDOM",value:function(){try{var e="",t=g["a"].PATH+"lib/extract-rdf.xsl";new Ajax.Request(t,{asynchronous:!1,method:"get",onSuccess:function(t){e=t.responseText}.bind(this),onFailure:function(e){A["a"].error("XSL load failed"+e)}.bind(this)});var i=new DOMParser,n=i.parseFromString(this.getSerializedDOM(),"text/xml"),s=i.parseFromString(e,"text/xml"),a=new XSLTProcessor;a.importStylesheet(s);var o=a.transformToFragment(n,document),r=new XMLSerializer;return r.serializeToString(o)}catch(c){return console.log("error serializing "+c),""}}},{key:"isStencilSetExtensionLoaded",value:function(e){return this.facade.getStencilSets().values().any(function(t){return t.extensions().keys().any(function(t){return t==e}.bind(this))}.bind(this))}},{key:"doLayout",value:function(e){this.facade.raiseEvent?this.facade.raiseEvent({type:g["a"].EVENT_LAYOUT,shapes:e}):this.facade.handleEvents({type:g["a"].EVENT_LAYOUT,shapes:e})}},{key:"layoutEdges",value:function(e,t,i){if(this.facade.isExecutingCommands()){var n=function(e){function t(e,i,n,s){var a;Object(l["a"])(this,t),a=Object(r["a"])(this,Object(c["a"])(t).call(this)),a.edges=e,a.node=i,a.plugin=s,a.offset=n;var o=i.absoluteXY();return a.ulo={x:o.x-n.x,y:o.y-n.y},a}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.changes?this.executeAgain():(this.changes=[],this.edges.each(function(e){this.changes.push({edge:e,oldDockerPositions:e.dockers.map(function(e){return e.bounds.center()})})}.bind(this)),this.edges.findAll(function(e){return e.dockers.length>2}.bind(this)).each(function(e){if(e.dockers.first().getDockedShape()===this.node){var t=e.dockers[1];this.align(t.bounds,e.dockers.first())&&t.update()}else if(e.dockers.last().getDockedShape()===this.node){var i=e.dockers[e.dockers.length-2];this.align(i.bounds,e.dockers.last())&&i.update()}e._update(!0),e.removeUnusedDockers(),this.isBendPointIncluded(e)&&this.plugin.doLayout(e)}.bind(this)),this.edges.each(function(e){if(2==e.dockers.length){var t=e.dockers.first().getAbsoluteReferencePoint()||e.dockers.first().bounds.center(),i=e.dockers.last().getAbsoluteReferencePoint()||e.dockers.first().bounds.center();(Math.abs(-Math.abs(t.x-i.x)+Math.abs(this.offset.x))<2||Math.abs(-Math.abs(t.y-i.y)+Math.abs(this.offset.y))<2)&&this.plugin.doLayout(e)}}.bind(this)),this.edges.each(function(e,t){this.changes[t].dockerPositions=e.dockers.map(function(e){return e.bounds.center()})}.bind(this)))}},{key:"align",value:function(e,t){var i=t.getAbsoluteReferencePoint()||t.bounds.center(),n=e.center().x-i.x,s=e.center().y-i.y;if(Math.abs(-Math.abs(n)+Math.abs(this.offset.x))<3&&void 0===this.offset.xs&&e.moveBy({x:-n,y:0}),Math.abs(-Math.abs(s)+Math.abs(this.offset.y))<3&&void 0===this.offset.ys&&e.moveBy({y:-s,x:0}),void 0!==this.offset.xs||void 0!==this.offset.ys){var a=t.getDockedShape().absoluteXY();n=e.center().x-(a.x+(i.x-a.x)/this.offset.xs),s=e.center().y-(a.y+(i.y-a.y)/this.offset.ys),Math.abs(-Math.abs(n)+Math.abs(this.offset.x))<3&&e.moveBy({x:-(e.center().x-i.x),y:0}),Math.abs(-Math.abs(s)+Math.abs(this.offset.y))<3&&e.moveBy({y:-(e.center().y-i.y),x:0})}}},{key:"isBendPointIncluded",value:function(e){var t=e.dockers.first().getDockedShape(),i=e.dockers.last().getDockedShape();return t&&(t=t.absoluteBounds(),t.widen(5)),i&&(i=i.absoluteBounds(),i.widen(20)),e.dockers.any(function(n,s){var a=n.bounds.center();return 0!=s&&s!=e.dockers.length-1&&(t&&t.isIncluded(a)||i&&i.isIncluded(a))})}},{key:"removeAllDocker",value:function(e){e.dockers.slice(1,e.dockers.length-1).each(function(t){e.removeDocker(t)})}},{key:"executeAgain",value:function(){this.changes.each(function(e){this.removeAllDocker(e.edge),e.dockerPositions.each(function(t,i){if(0!=i&&i!=e.dockerPositions.length-1){var n=e.edge.createDocker(void 0,t);n.bounds.centerMoveTo(t),n.update()}}.bind(this)),e.edge._update(!0)}.bind(this))}},{key:"rollback",value:function(){this.changes.each(function(e){this.removeAllDocker(e.edge),e.oldDockerPositions.each(function(t,i){if(0!=i&&i!=e.oldDockerPositions.length-1){var n=e.edge.createDocker(void 0,t);n.bounds.centerMoveTo(t),n.update()}}.bind(this)),e.edge._update(!0)}.bind(this))}}]),t}(u["a"]);this.facade.executeCommands([new n(t,e,i,this)])}}}]),e}(),x=i("013f"),w=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),i.layouted=[],i.facade.registerOnEvent(g["a"].EVENT_LAYOUT,i._initLayout.bind(Object(x["a"])(i))),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"isIncludedInLayout",value:function(e){return this.layouted instanceof Array||(this.layouted=[this.layouted].compact()),this.layouted.length<=0||this.layouted.any(function(t){return"string"===typeof t?e.getStencil().id().include(t):e instanceof t})}},{key:"_initLayout",value:function(e){var t=[e.shapes].flatten().compact(),i=t.findAll(function(e){return this.isIncludedInLayout(e)}.bind(this));i.length>0&&this.layout(i)}},{key:"layout",value:function(e){throw new Error("Layouter has to implement the layout function.")}}]),t}(D),M=i("bd86"),B=i("0130"),U=i("9059"),V=function(){function e(){Object(l["a"])(this,e),this.shapesAsJson=[],this.selection=[],this.SSnamespace="",this.useOffset=!0}return Object(d["a"])(e,[{key:"isOccupied",value:function(){return this.shapesAsJson.length>0}},{key:"refresh",value:function(e,t,i,n){this.selection=e,this.SSnamespace=i,this.outgoings={},this.parents={},this.targets={},this.useOffset=!0!==n,this.shapesAsJson=t.map(function(e){var t=e.toJSON();return t.parent={resourceId:e.getParentShape().resourceId},t.parentIndex=e.getParentShape().getChildShapes().indexOf(e),t})}}]),e}(),H=function(e){function t(e,i){var n;return Object(l["a"])(this,t),n=Object(r["a"])(this,Object(c["a"])(t).call(this)),n.clipboard=e,n.shapesAsJson=e.shapesAsJson,n.facade=i,n.dockers=n.shapesAsJson.map(function(e){var t=e.getShape(),i=t.getIncomingShapes().map(function(e){return e.getDockers().last()}),n=t.getOutgoingShapes().map(function(e){return e.getDockers().first()}),s=t.getDockers().concat(i,n).compact().map(function(e){return{object:e,referencePoint:e.referencePoint,dockedShape:e.getDockedShape()}});return s}).flatten(),n}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.shapesAsJson.each(function(e){this.facade.deleteShape(e.getShape())}.bind(this)),this.facade.setSelection([]),this.facade.getCanvas().update(),this.facade.updateSelection(),this.facade.handleEvents({type:g["a"].ACTION_DELETE_COMPLETED})}},{key:"rollback",value:function(){this.shapesAsJson.each(function(e){var t=e.getShape(),i=this.facade.getCanvas().getChildShapeByResourceId(e.parent.resourceId)||this.facade.getCanvas();i.add(t,t.parentIndex)}.bind(this)),this.dockers.each(function(e){e.object.setDockedShape(e.dockedShape),e.object.setReferencePoint(e.referencePoint)}.bind(this)),this.facade.setSelection(this.selectedShapes),this.facade.getCanvas().update(),this.facade.updateSelection()}}]),t}(u["a"]),Y=function(){function e(t){Object(l["a"])(this,e),Object(M["a"])(this,"ClipBoard",V),Object(M["a"])(this,"DeleteCommand",H),Object(M["a"])(this,"I18N",{Edit:{group:"Edit",cut:"Cut",cutDesc:"Cuts the selection into an Oryx clipboard",copy:"Copy",copyDesc:"Copies the selection into an Oryx clipboard",paste:"Paste",pasteDesc:"Pastes the Oryx clipboard to the canvas",del:"Delete",delDesc:"Deletes all selected shapes"}}),this.facade=t,this.clipboard=new this.ClipBoard,this.facade.offer({name:this.I18N.Edit.cut,description:this.I18N.Edit.cutDesc,icon:g["a"].PATH+"images/cut.png",keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:88,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:this.callEdit.bind(this,this.editCut),group:this.I18N.Edit.group,index:1,minShape:1}),this.facade.offer({name:this.I18N.Edit.copy,description:this.I18N.Edit.copyDesc,icon:g["a"].PATH+"images/page_copy.png",keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:67,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:this.callEdit.bind(this,this.editCopy,[!0,!1]),group:this.I18N.Edit.group,index:2,minShape:1}),this.facade.offer({name:this.I18N.Edit.paste,description:this.I18N.Edit.pasteDesc,icon:g["a"].PATH+"images/page_paste.png",keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:86,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:this.callEdit.bind(this,this.editPaste),isEnabled:this.clipboard.isOccupied.bind(this.clipboard),group:this.I18N.Edit.group,index:3,minShape:0,maxShape:0}),this.facade.offer({name:this.I18N.Edit.del,description:this.I18N.Edit.delDesc,icon:g["a"].PATH+"images/cross.png",keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:8,keyAction:g["a"].KEY_ACTION_DOWN},{keyCode:46,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:this.callEdit.bind(this,this.editDelete),group:this.I18N.Edit.group,index:4,minShape:1})}return Object(d["a"])(e,[{key:"callEdit",value:function(e,t){window.setTimeout(function(){e.apply(this,t instanceof Array?t:[])}.bind(this),1)}},{key:"handleMouseDown",value:function(e){this._controlPressed&&(this._controlPressed=!1,this.editCopy(),this.editPaste(),e.forceExecution=!0,this.facade.raiseEvent(e,this.clipboard.shapesAsJson))}},{key:"getAllShapesToConsider",value:function(e){var t=[],i=[];e.each(function(n){var s=e.any(function(e){return e.hasChildShape(n)});if(!s){if(t.push(n),n instanceof L["a"]){var a=n.getOutgoingNodes();a=a.findAll(function(t){return!e.include(t)}),t=t.concat(a)}i=i.concat(n.getChildShapes(!0))}}.bind(this));var n=this.facade.getCanvas().getChildEdges().select(function(e){return!t.include(e)&&(0!==e.getAllDockedShapes().size()&&e.getAllDockedShapes().all(function(e){return e instanceof U["a"]||i.include(e)}))});return t=t.concat(n),t}},{key:"editCut",value:function(){return this.editCopy(!1,!0),this.editDelete(!0),!1}},{key:"editCopy",value:function(e,t){var i=this.facade.getSelection();0!=i.length&&(this.clipboard.refresh(i,this.getAllShapesToConsider(i),this.facade.getCanvas().getStencil().stencilSet().namespace(),t),e&&this.facade.updateSelection())}},{key:"editPaste",value:function(){var e={childShapes:this.clipboard.shapesAsJson,stencilset:{namespace:this.clipboard.SSnamespace}};jQuery.extend(e,B["a"].JSONHelper);var t=e.getChildShapes(!0).pluck("resourceId"),i={};e.eachChild(function(e,n){return e.outgoing=e.outgoing.select(function(e){return t.include(e.resourceId)}),e.outgoing.each(function(t){i[t.resourceId]||(i[t.resourceId]=[]),i[t.resourceId].push(e)}),e}.bind(this),!0,!0),e.eachChild(function(e,n){return e.target&&!t.include(e.target.resourceId)&&(e.target=void 0,e.targetRemoved=!0),e.dockers&&e.dockers.length>=1&&e.dockers[0].getDocker&&(e.dockers[0].getDocker().getDockedShape()&&!t.include(e.dockers[0].getDocker().getDockedShape().resourceId)||!e.getShape().dockers[0].getDockedShape()&&!i[e.resourceId])&&(e.sourceRemoved=!0),e}.bind(this),!0,!0),e.eachChild(function(e,t){return this.clipboard.useOffset&&(e.bounds={lowerRight:{x:e.bounds.lowerRight.x+g["a"].CustomConfigs.COPY_MOVE_OFFSET,y:e.bounds.lowerRight.y+g["a"].CustomConfigs.COPY_MOVE_OFFSET},upperLeft:{x:e.bounds.upperLeft.x+g["a"].CustomConfigs.COPY_MOVE_OFFSET,y:e.bounds.upperLeft.y+g["a"].CustomConfigs.COPY_MOVE_OFFSET}}),e.dockers?e.dockers=e.dockers.map(function(t,n){return(!0===e.targetRemoved&&n==e.dockers.length-1&&t.getDocker||!0===e.sourceRemoved&&0==n&&t.getDocker)&&(t=t.getDocker().bounds.center()),0==n&&t.getDocker instanceof Function&&!0!==e.sourceRemoved&&(t.getDocker().getDockedShape()||(i[e.resourceId]||[]).length>0&&(!(e.getShape()instanceof L["a"])||i[e.resourceId][0].getShape()instanceof L["a"]))||n==e.dockers.length-1&&t.getDocker instanceof Function&&!0!==e.targetRemoved&&(t.getDocker().getDockedShape()||e.target)?{x:t.x,y:t.y,getDocker:t.getDocker}:this.clipboard.useOffset?{x:t.x+g["a"].CustomConfigs.COPY_MOVE_OFFSET,y:t.y+g["a"].CustomConfigs.COPY_MOVE_OFFSET,getDocker:t.getDocker}:{x:t.x,y:t.y,getDocker:t.getDocker}}.bind(this)):e.getShape()instanceof L["a"]&&e.dockers&&e.dockers.length>0&&(!e.dockers.first().getDocker||!0===e.sourceRemoved||!e.dockers.first().getDocker().getDockedShape()&&!i[e.resourceId])&&(e.dockers=e.dockers.map(function(t,i){return!0===e.sourceRemoved&&0==i&&t.getDocker&&(t=t.getDocker().bounds.center()),this.clipboard.useOffset?{x:t.x+g["a"].CustomConfigs.COPY_MOVE_OFFSET,y:t.y+g["a"].CustomConfigs.COPY_MOVE_OFFSET,getDocker:t.getDocker}:{x:t.x,y:t.y,getDocker:t.getDocker}}.bind(this))),e}.bind(this),!1,!0),this.clipboard.useOffset=!0,this.facade.importJSON(e)}},{key:"editDelete",value:function(){var e=this.facade.getSelection();if(e.length>0){var t=new this.ClipBoard;t.refresh(e,this.getAllShapesToConsider(e));var i=new this.DeleteCommand(t,this.facade);this.facade.executeCommands([i])}}}]),e}(),F=function(){function e(t,i){Object(l["a"])(this,e),Object(M["a"])(this,"I18N",{View:{group:"Zoom",zoomIn:"Zoom In",zoomInDesc:"Zoom into the model",zoomOut:"Zoom Out",zoomOutDesc:"Zoom out of the model",zoomStandard:"Zoom Standard",zoomStandardDesc:"Zoom to the standard level",zoomFitToModel:"Zoom fit to model",zoomFitToModelDesc:"Zoom to fit the model size"}}),this.facade=t,this.zoomLevel=1,this.maxFitToScreenLevel=1.5,this.minZoomLevel=.1,this.maxZoomLevel=2.5,this.diff=5,void 0!==i&&null!==i&&i.get("properties").each(function(e){e.zoomLevel&&(this.zoomLevel=Number(1)),e.maxFitToScreenLevel&&(this.maxFitToScreenLevel=Number(e.maxFitToScreenLevel)),e.minZoomLevel&&(this.minZoomLevel=Number(e.minZoomLevel)),e.maxZoomLevel&&(this.maxZoomLevel=Number(e.maxZoomLevel))}.bind(this)),this.facade.offer({name:this.I18N.View.zoomIn,functionality:this.zoom.bind(this,[1+g["a"].CustomConfigs.ZOOM_OFFSET]),group:this.I18N.View.group,icon:g["a"].PATH+"images/magnifier_zoom_in.png",description:this.I18N.View.zoomInDesc,index:1,minShape:0,maxShape:0,isEnabled:function(){return this.zoomLevel<this.maxZoomLevel}.bind(this)}),this.facade.offer({name:this.I18N.View.zoomOut,functionality:this.zoom.bind(this,[1-g["a"].CustomConfigs.ZOOM_OFFSET]),group:this.I18N.View.group,icon:g["a"].PATH+"images/magnifier_zoom_out.png",description:this.I18N.View.zoomOutDesc,index:2,minShape:0,maxShape:0,isEnabled:function(){return this._checkSize()}.bind(this)}),this.facade.offer({name:this.I18N.View.zoomStandard,functionality:this.setAFixZoomLevel.bind(this,1),group:this.I18N.View.group,icon:g["a"].PATH+"images/zoom_standard.png",cls:"icon-large",description:this.I18N.View.zoomStandardDesc,index:3,minShape:0,maxShape:0,isEnabled:function(){return 1!=this.zoomLevel}.bind(this)}),this.facade.offer({name:this.I18N.View.zoomFitToModel,functionality:this.zoomFitToModel.bind(this),group:this.I18N.View.group,icon:g["a"].PATH+"images/image.png",description:this.I18N.View.zoomFitToModelDesc,index:4,minShape:0,maxShape:0})}return Object(d["a"])(e,[{key:"setAFixZoomLevel",value:function(e){this.zoomLevel=e,this._checkZoomLevelRange(),this.zoom(1)}},{key:"zoom",value:function(e){this.zoomLevel*=e;var t=this.facade.getCanvas().getHTMLContainer().parentNode.parentNode,i=this.facade.getCanvas(),n=i.bounds.width()*this.zoomLevel,s=i.bounds.height()*this.zoomLevel,a=(i.node.parentNode.parentNode.parentNode.offsetHeight-s)/2;a=a>20?a-20:0,i.node.parentNode.parentNode.style.marginTop=a+"px",a+=5,i.getHTMLContainer().style.top=a+"px";var o=t.scrollTop-Math.round((i.getHTMLContainer().parentNode.getHeight()-s)/2)+this.diff,r=t.scrollLeft-Math.round((i.getHTMLContainer().parentNode.getWidth()-n)/2)+this.diff;i.setSize({width:n,height:s},!0),i.node.setAttributeNS(null,"transform","scale("+this.zoomLevel+")"),this.facade.updateSelection(),t.scrollTop=o,t.scrollLeft=r,i.zoomLevel=this.zoomLevel}},{key:"zoomFitToModel",value:function(){var e=this.facade.getCanvas().getHTMLContainer().parentNode.parentNode,t=e.getHeight()-30,i=e.getWidth()-30,n=this.facade.getCanvas().getChildShapes();if(!n||n.length<1)return!1;var s=n[0].absoluteBounds().clone();n.each(function(e){s.include(e.absoluteBounds().clone())});var a=i/s.width(),o=t/s.height(),r=o<a?o:a;r>this.maxFitToScreenLevel&&(r=this.maxFitToScreenLevel),this.setAFixZoomLevel(r),e.scrollTop=Math.round(s.upperLeft().y*this.zoomLevel)-5,e.scrollLeft=Math.round(s.upperLeft().x*this.zoomLevel)-5}},{key:"_checkSize",value:function(){var e=this.facade.getCanvas().getHTMLContainer().parentNode,t=Math.min(e.parentNode.getWidth()/e.getWidth(),e.parentNode.getHeight()/e.getHeight());return 1.05>t}},{key:"_checkZoomLevelRange",value:function(){this.zoomLevel<this.minZoomLevel&&(this.zoomLevel=this.minZoomLevel),this.zoomLevel>this.maxZoomLevel&&(this.zoomLevel=this.maxZoomLevel)}}]),e}(),z=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.node=B["a"].graft("http://www.w3.org/1999/xhtml",this.facade.getCanvas().getHTMLContainer().parentNode,["div",{class:"LoadingIndicator"},""]),this.facade.registerOnEvent(g["a"].EVENT_LOADING_ENABLE,this.enableLoading.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_LOADING_DISABLE,this.disableLoading.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_LOADING_STATUS,this.showStatus.bind(this)),this.disableLoading()}return Object(d["a"])(e,[{key:"enableLoading",value:function(e){e.text?this.node.innerHTML=e.text+"...":this.node.innerHTML="Please wait...",this.node.removeClassName("StatusIndicator"),this.node.addClassName("LoadingIndicator"),this.node.style.display="block";var t=this.facade.getCanvas().rootNode.parentNode.parentNode.parentNode.parentNode;this.node.style.top=t.offsetTop+"px",this.node.style.left=t.offsetLeft+"px"}},{key:"disableLoading",value:function(){this.node.style.display="none"}},{key:"showStatus",value:function(e){if(e.text){this.node.innerHTML=e.text,this.node.addClassName("StatusIndicator"),this.node.removeClassName("LoadingIndicator"),this.node.style.display="block";var t=this.facade.getCanvas().rootNode.parentNode.parentNode.parentNode.parentNode;this.node.style.top=t.offsetTop+"px",this.node.style.left=t.offsetLeft+"px";var i=e.timeout?e.timeout:2e3;window.setTimeout(function(){this.disableLoading()}.bind(this),i)}}}]),e}(),G=function e(t,i,n){Object(l["a"])(this,e),Object(M["a"])(this,"I18N",{RESIZE:{tipGrow:"增加画布尺寸:",tipShrink:"减小画布尺寸:",N:"Top",W:"Left",S:"Down",E:"Right"}}),this.canvas=t;var s=t.getHTMLContainer().parentNode,a=jQuery("#canvasSection")[0],o=a,r=$$("#canvasSection .ORYX_Editor")[0],c=r.children[0],h="glyphicon glyphicon-chevron-",d="glyphicon glyphicon-chevron-";"N"===i?(h+="up",d+="down"):"S"==i?(h+="down",d+="up"):"E"==i?(h+="right",d+="left"):"W"==i&&(h+="left",d+="right");var u="canvas-shrink-"+i,A="canvas-grow-"+i,p=B["a"].graft("http://www.w3.org/1999/xhtml",s.parentNode,["div",{class:"canvas_resize_indicator canvas_resize_indicator_grow "+i,id:u,title:this.I18N.RESIZE.tipGrow+this.I18N.RESIZE[i]},["i",{class:h}]]),f=B["a"].graft("http://www.w3.org/1999/xhtml",s.parentNode,["div",{class:"canvas_resize_indicator canvas_resize_indicator_shrink "+i,id:A,title:this.I18N.RESIZE.tipShrink+this.I18N.RESIZE[i]},["i",{class:d}]]),E=60,v=function(e){var t=-1!==e.target.id.indexOf("canvas-shrink")||-1!==e.target.id.indexOf("canvas-grow")||-1!==e.target.parentNode.id.indexOf("canvas-shrink")||-1!==e.target.parentNode.id.indexOf("canvas-grow");if(t)return e.target.id===u||e.target.id===A||e.target.parentNode.id===u||e.target.parentNode.id===A;if(e.target!==s&&e.target!==o&&e.target!==o.firstChild&&e.target!==c&&e.target!==o)return!1;var n=void 0!==e.offsetX?e.offsetX:e.layerX,h=void 0!==e.offsetY?e.offsetY:e.layerY,l=0;if(r.clientWidth<a.clientWidth){var d=a.clientWidth-r.clientWidth;l=d/2}return h-=a.scrollTop,n-=a.scrollLeft,"N"===i?h<E:"W"===i?n<E+l:"E"===i?a.clientWidth-n<E+l:"S"===i&&a.clientHeight-h<E},_=function(){p.show();var e=t.bounds.width(),n=t.bounds.height();"N"===i&&n-g["a"].CustomConfigs.CANVAS_RESIZE_INTERVAL>g["a"].CustomConfigs.CANVAS_MIN_HEIGHT?f.show():"E"===i&&e-g["a"].CustomConfigs.CANVAS_RESIZE_INTERVAL>g["a"].CustomConfigs.CANVAS_MIN_WIDTH?f.show():"S"===i&&n-g["a"].CustomConfigs.CANVAS_RESIZE_INTERVAL>g["a"].CustomConfigs.CANVAS_MIN_HEIGHT?f.show():"W"===i&&e-g["a"].CustomConfigs.CANVAS_RESIZE_INTERVAL>g["a"].CANVAS_MIN_WIDTH?f.show():f.hide()}.bind(this),m=function(){p.hide(),f.hide()};s.parentNode.addEventListener(g["a"].EVENT_MOUSEMOVE,function(e){v(e)?_():m()},!1),p.addEventListener(g["a"].EVENT_MOUSEOVER,function(e){_()},!0),f.addEventListener(g["a"].EVENT_MOUSEOVER,function(e){_()},!0),s.parentNode.addEventListener(g["a"].EVENT_MOUSEOUT,function(e){m()},!0),m(),p.addEventListener("click",function(){n(i),_()},!0),f.addEventListener("click",function(){n(i,!0),_()},!0)};function W(e,t,i){var n=i.getCanvas(),s=n.bounds,a=i.getCanvas().getHTMLContainer().parentNode.parentNode;if("E"===e||"W"===e?n.setSize({width:(s.width()+t)*n.zoomLevel,height:s.height()*n.zoomLevel}):"S"!==e&&"N"!==e||n.setSize({width:s.width()*n.zoomLevel,height:(s.height()+t)*n.zoomLevel}),"N"===e||"W"===e){var o="N"===e?{x:0,y:t}:{x:t,y:0};n.getChildNodes(!1,function(e){e.bounds.moveBy(o)});var r=n.getChildEdges().findAll(function(e){return e.getAllDockedShapes().length>0}),c=r.collect(function(e){return e.dockers.findAll(function(e){return!e.getDockedShape()})}).flatten();c.each(function(e){e.bounds.moveBy(o)})}else"S"===e?a.scrollTop+=t:"E"===e&&(a.scrollLeft+=t);n.update(),i.updateSelection()}var X=function(e){function t(e,i,n){var s;return Object(l["a"])(this,t),s=Object(r["a"])(this,Object(c["a"])(t).call(this)),s.position=e,s.extentionSize=i,s.facade=n,s}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){W(this.position,this.extentionSize,this.facade)}},{key:"rollback",value:function(){W(this.position,-this.extentionSize,this.facade)}},{key:"update",value:function(){}}]),t}(u["a"]),K=function(){function e(t){Object(l["a"])(this,e),this.facade=t,new G(this.facade.getCanvas(),"N",this.resize.bind(this)),new G(this.facade.getCanvas(),"W",this.resize.bind(this)),new G(this.facade.getCanvas(),"E",this.resize.bind(this)),new G(this.facade.getCanvas(),"S",this.resize.bind(this))}return Object(d["a"])(e,[{key:"resize",value:function(e,t){var i=g["a"].CustomConfigs.CANVAS_RESIZE_INTERVAL;t&&(i=-i);var n=new X(e,i,this.facade);this.facade.executeCommands([n])}}]),e}(),Q=(i("55dd"),i("7514"),i("aef6"),i("19ce")),Z=i("e814"),q=i.n(Z);(function(e){e.fn.autogrow=function(t){return this.filter("textarea").each(function(){var t=this,i=e(t),n=i.height(),s=i.hasClass("autogrow-short")?0:q()(i.css("lineHeight"))||0,a=e("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:i.width(),fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),lineHeight:i.css("lineHeight"),resize:"none","word-wrap":"break-word"}).appendTo(document.body),o=function(e){var o=function(e,t){for(var i=0,n="";i<t;i++)n+=e;return n},r=t.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(e){return o("&nbsp;",e.length-1)+" "});e&&e.data&&"keydown"===e.data.event&&13===e.keyCode&&(r+="<br />"),a.css("width",i.width()),a.html(r+(0===s?"...":"")),i.height(Math.max(a.height()+s,n))};i.change(o).keyup(o).keydown({event:"keydown"},o),e(window).resize(o),o()})}})(jQuery);var J=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.facade.registerOnEvent(g["a"].EVENT_CANVAS_SCROLL,this.hideField.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_DBLCLICK,this.actOnDBLClick.bind(this)),this.facade.offer({keyCodes:[{keyCode:113,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:this.renamePerF2.bind(this)}),document.documentElement.addEventListener(g["a"].EVENT_MOUSEDOWN,this.hide.bind(this),!0)}return Object(d["a"])(e,[{key:"renamePerF2",value:function(){var e=this.facade.getSelection();this.actOnDBLClick(void 0,e.first())}},{key:"actOnDBLClick",value:function(e,t){if(t instanceof Q["a"]){this.destroy();var i=t.getStencil().properties().findAll(function(e){return e.refToView()&&e.refToView().length>0&&e.directlyEditable()});i=i.findAll(function(e){return!e.readonly()&&(e.type()==g["a"].TYPE_STRING||e.type()==g["a"].TYPE_EXPRESSION||e.type()==g["a"].TYPE_DATASOURCE)});var n=i.collect(function(e){return e.refToView()}).flatten().compact(),s=t.getLabels().findAll(function(e){return n.any(function(t){return e.id.endsWith(t)})});if(0!=s.length){var a=s.length<=1?s[0]:null;if(a||(a=s.find(function(e){var t=e.id.split("_");return"name"===t[t.length-1]})),!a&&(a=s.find(function(t){return t.node==e.target||t.node==e.target.parentNode}),!a)){var o=this.facade.eventCoordinates(e);console.log("evtCoord",o);var A=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var p=navigator.userAgent;if(p.indexOf("MSIE")>=0){var f=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==f&&(A=f/100)}}1!==A&&(o.x=o.x/A,o.y=o.y/A),o.y+=$("editor-header").clientHeight-$("canvasSection").scrollTop-5,o.x-=$("canvasSection").scrollLeft;var E=this.facade.getCanvas().rootNode.lastChild.getScreenCTM();o.x*=E.a,o.y*=E.d;var v=s.collect(function(e){var t=this.getCenterPosition(e.node),i=Math.sqrt(Math.pow(t.x-o.x,2)+Math.pow(t.y-o.y,2));return{diff:i,label:e}}.bind(this));v.sort(function(e,t){return e.diff>t.diff}),a=v[0].label}var _=i.find(function(e){return e.refToView().any(function(e){return a.id==t.id+e})}),m=Math.min(Math.max(100,t.bounds.width()),200),S=this.getCenterPosition(a.node,t);S.x-=m/2;var b=_.prefix()+"-"+_.id(),O=document.createElement("textarea");O.id="shapeTextInput",O.style.position="absolute",O.style.width=m+"px",O.style.left=S.x<10?10:S.x+"px",O.style.top=S.y-15+"px",O.className="x-form-textarea x-form-field x_form_text_set_absolute",O.value=t.properties.get(b),this.oldValueText=t.properties.get(b),document.getElementById("canvasSection").appendChild(O),this.shownTextField=O,this.updateValueFunction=function(e,i){var n=t,s=this.facade;if(i!=e){var a=function(t){function a(){var t;return Object(l["a"])(this,a),t=Object(r["a"])(this,Object(c["a"])(a).call(this)),t.el=n,t.propId=b,t.oldValue=i,t.newValue=e,t.facade=s,t}return Object(h["a"])(a,t),Object(d["a"])(a,[{key:"execute",value:function(){this.el.setProperty(this.propId,this.newValue),this.facade.setSelection([this.el]),this.facade.getCanvas().update(),this.facade.updateSelection()}},{key:"rollback",value:function(){this.el.setProperty(this.propId,this.oldValue),this.facade.setSelection([this.el]),this.facade.getCanvas().update(),this.facade.updateSelection()}}]),a}(u["a"]),o=new a;this.facade.executeCommands([o])}}.bind(this),jQuery("#shapeTextInput").focus(),jQuery("#shapeTextInput").autogrow(),this.facade.disableEvent(g["a"].EVENT_KEYDOWN)}}}},{key:"getCenterPosition",value:function(e,t){if(!e)return{x:0,y:0};var i=this.facade.getCanvas().node.getScreenCTM(),n=t.bounds.upperLeft(),s=!0,a=t;while(s)if("BPMNDiagram"===a.getParentShape().getStencil().idWithoutNs()||"CMMNDiagram"===a.getParentShape().getStencil().idWithoutNs())s=!1;else{var o=a.getParentShape().bounds.upperLeft();n.x+=o.x,n.y+=o.y,a=a.getParentShape()}var r=t.bounds.midPoint();r.x+=n.x+i.e,r.y+=n.y+i.f,r.x*=i.a,r.y*=i.d;var c=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var h=navigator.userAgent;if(h.indexOf("MSIE")>=0){var l=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==l&&(c=l/100)}}if(1===c)r.y=r.y-jQuery("#canvasSection").offset().top+5,r.x-=jQuery("#canvasSection").offset().left;else{var d=jQuery("#canvasSection").offset().left,u=jQuery("#canvasSection").scrollLeft(),g=jQuery("#canvasSection").scrollTop(),A=i.e-d*c,p=0;A>10&&(p=A/c-A),r.y=r.y-jQuery("#canvasSection").offset().top*c+5+(g*c-g),r.x=r.x-d*c+p+(u*c-u)}return r}},{key:"hide",value:function(e){if(this.shownTextField&&(!e||e.target!==this.shownTextField)){var t=this.shownTextField.value;t!==this.oldValueText&&this.updateValueFunction(t,this.oldValueText),this.destroy()}}},{key:"hideField",value:function(e){this.shownTextField&&this.destroy()}},{key:"destroy",value:function(e){var t=jQuery("#shapeTextInput");t&&(t.remove(),delete this.shownTextField,this.facade.enableEvent(g["a"].EVENT_KEYDOWN))}}]),e}(),ee=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.facade.registerOnEvent(g["a"].EVENT_PROPERTY_CHANGED,this.propertyChanged.bind(this))}return Object(d["a"])(e,[{key:"propertyChanged",value:function(e,t){"oryx-refuri"!==e.name||!t instanceof L["a"]||(e.value&&e.value.length>0&&"undefined"!=e.value?this.show(t,e.value):this.hide(t))}},{key:"show",value:function(e,t){var i=B["a"].graft("http://www.w3.org/2000/svg",null,["a",{target:"_blank"},["path",{"stroke-width":1,stroke:"#00DD00",fill:"#00AA00",d:"M3,3 l0,-2.5 l7.5,0 l0,-2.5 l7.5,4.5 l-7.5,3.5 l0,-2.5 l-8,0","line-captions":"round"}]]);i=B["a"].graft("http://www.w3.org/2000/svg",null,["a",{target:"_blank"},["path",{style:"fill:#92BFFC;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.72",d:"M0 1.44 L0 15.05 L11.91 15.05 L11.91 5.98 L7.37 1.44 L0 1.44 Z"}],["path",{style:"stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.72;fill:none;",transform:"translate(7.5, -8.5)",d:"M0 10.51 L0 15.05 L4.54 15.05"}],["path",{style:"fill:#f28226;stroke:#000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.72",transform:"translate(-3, -1)",d:"M0 8.81 L0 13.06 L5.95 13.06 L5.95 15.05 A50.2313 50.2313 -175.57 0 0 10.77 11.08 A49.9128 49.9128 -1.28 0 0 5.95 6.54 L5.95 8.81 L0 8.81 Z"}]]),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t),this.facade.raiseEvent({type:g["a"].EVENT_OVERLAY_SHOW,id:"arissupport.urlref_"+e.id,shapes:[e],node:i,nodePosition:"SE"})}},{key:"hide",value:function(e){this.facade.raiseEvent({type:g["a"].EVENT_OVERLAY_HIDE,id:"arissupport.urlref_"+e.id})}}]),e}(),te=function(){function e(t){Object(l["a"])(this,e),Object(M["a"])(this,"changeSymbol","*"),this.facade=t,document.addEventListener("keydown",function(e){e.ctrlKey&&83===e.keyCode&&Event.stop(e)},!1),window.onbeforeunload=this.onUnLoad.bind(this),this.changeDifference=0,this.facade.registerOnEvent(g["a"].EVENT_UNDO_EXECUTE,function(){this.changeDifference++,this.updateTitle()}.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_EXECUTE_COMMANDS,function(){this.changeDifference++,this.updateTitle()}.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_SAVED,function(){this.changeDifference=0,this.updateTitle()}.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_UNDO_ROLLBACK,function(){this.changeDifference--,this.updateTitle()}.bind(this)),this.hasChanges=this._hasChanges.bind(this)}return Object(d["a"])(e,[{key:"updateTitle",value:function(){var e=window.document.title||document.getElementsByTagName("title")[0].childNodes[0].nodeValue;0===this.changeDifference&&e.startsWith(this.changeSymbol)?window.document.title=e.slice(1):0===this.changeDifference||e.startsWith(this.changeSymbol)||(window.document.title=this.changeSymbol+""+e)}},{key:"_hasChanges",value:function(){return 0!==this.changeDifference||this.facade.getModelMetaData()["new"]&&this.facade.getCanvas().getChildShapes().size()>0}},{key:"onUnLoad",value:function(){if(this._hasChanges())return"There are unsaved data, please save before you leave, otherwise your changes get lost!"}}]),e}(),ie=function(){function e(t){Object(l["a"])(this,e),this.parentId=t,this.node=B["a"].graft("http://www.w3.org/2000/svg",$(t),["g"]),this.dashedArea=B["a"].graft("http://www.w3.org/2000/svg",this.node,["rect",{x:0,y:0,"stroke-width":1,stroke:"#777777",fill:"none","stroke-dasharray":"2,2","pointer-events":"none"}]),this.hide()}return Object(d["a"])(e,[{key:"hide",value:function(){this.node.setAttributeNS(null,"display","none")}},{key:"show",value:function(){this.node.setAttributeNS(null,"display","")}},{key:"resize",value:function(e){var t=e.upperLeft(),i=g["a"].CustomConfigs.SELECTED_AREA_PADDING;this.dashedArea.setAttributeNS(null,"width",e.width()+2*i),this.dashedArea.setAttributeNS(null,"height",e.height()+2*i),this.node.setAttributeNS(null,"transform","translate("+(t.x-i)+", "+(t.y-i)+")")}}]),e}(),ne=function(){function e(t,i){Object(l["a"])(this,e),Object(M["a"])(this,"DIR_HORIZONTAL","hor"),Object(M["a"])(this,"DIR_VERTICAL","ver"),this.DIR_HORIZONTAL!==i&&this.DIR_VERTICAL!==i&&(i=this.DIR_HORIZONTAL),this.parent=$(t),this.direction=i,this.node=B["a"].graft("http://www.w3.org/2000/svg",this.parent,["g"]),this.line=B["a"].graft("http://www.w3.org/2000/svg",this.node,["path",{"stroke-width":1,stroke:"silver",fill:"none","stroke-dasharray":"5,5","pointer-events":"none"}]),this.hide()}return Object(d["a"])(e,[{key:"hide",value:function(){this.node.setAttributeNS(null,"display","none")}},{key:"show",value:function(){this.node.setAttributeNS(null,"display","")}},{key:"getScale",value:function(){try{return this.parent.parentNode.transform.baseVal.getItem(0).matrix.a}catch(e){return 1}}},{key:"update",value:function(e){if(this.direction===this.DIR_HORIZONTAL){var t=e instanceof Object?e.y:e,i=this.parent.parentNode.parentNode.width.baseVal.value/this.getScale();this.line.setAttributeNS(null,"d","M 0 "+t+" L "+i+" "+t)}else{var n=e instanceof Object?e.x:e,s=this.parent.parentNode.parentNode.height.baseVal.value/this.getScale();this.line.setAttributeNS(null,"d","M"+n+" 0 L "+n+" "+s)}this.show()}}]),e}(),se=function(){function e(t,i,n){Object(l["a"])(this,e),this.parentId=t,this.orientation=i,this.facade=n,this.node=B["a"].graft("http://www.w3.org/1999/xhtml",$("canvasSection"),["div",{class:"resizer_"+this.orientation,style:"left:0px; top:0px;position:absolute;"}]),this.node.addEventListener(g["a"].EVENT_MOUSEDOWN,this.handleMouseDown.bind(this),!0),document.documentElement.addEventListener(g["a"].EVENT_MOUSEUP,this.handleMouseUp.bind(this),!0),document.documentElement.addEventListener(g["a"].EVENT_MOUSEMOVE,this.handleMouseMove.bind(this),!1),this.dragEnable=!1,this.offSetPosition={x:0,y:0},this.bounds=void 0,this.canvasNode=this.facade.getCanvas().node,this.minSize=void 0,this.maxSize=void 0,this.aspectRatio=void 0,this.resizeCallbacks=[],this.resizeStartCallbacks=[],this.resizeEndCallbacks=[],this.hide(),this.scrollNode=this.node.parentNode.parentNode.parentNode}return Object(d["a"])(e,[{key:"handleMouseDown",value:function(e){this.dragEnable=!0,this.offsetScroll={x:this.scrollNode.scrollLeft,y:this.scrollNode.scrollTop},this.offSetPosition={x:Event.pointerX(e)-this.position.x,y:Event.pointerY(e)-this.position.y},this.resizeStartCallbacks.each(function(e){e(this.bounds)}.bind(this))}},{key:"handleMouseUp",value:function(e){this.dragEnable=!1,this.containmentParentNode=null,this.resizeEndCallbacks.each(function(e){e(this.bounds)}.bind(this))}},{key:"handleMouseMove",value:function(e){if(this.dragEnable){e.shiftKey||e.ctrlKey?this.aspectRatio=this.bounds.width()/this.bounds.height():this.aspectRatio=void 0;var t={x:Event.pointerX(e)-this.offSetPosition.x,y:Event.pointerY(e)-this.offSetPosition.y};t.x-=this.offsetScroll.x-this.scrollNode.scrollLeft,t.y-=this.offsetScroll.y-this.scrollNode.scrollTop,t.x=Math.min(t.x,this.facade.getCanvas().bounds.width()),t.y=Math.min(t.y,this.facade.getCanvas().bounds.height());var i={x:t.x-this.position.x,y:t.y-this.position.y};if(this.aspectRatio){var n=(this.bounds.width()+i.x)/(this.bounds.height()+i.y);n>this.aspectRatio?i.x=this.aspectRatio*(this.bounds.height()+i.y)-this.bounds.width():n<this.aspectRatio&&(i.y=(this.bounds.width()+i.x)/this.aspectRatio-this.bounds.height())}switch("northwest"===this.orientation||"north"===this.orientation||"west"===this.orientation?(this.bounds.width()-i.x>this.maxSize.width&&(i.x=-(this.maxSize.width-this.bounds.width()),this.aspectRatio&&(i.y=this.aspectRatio*i.x)),this.bounds.width()-i.x<this.minSize.width&&(i.x=-(this.minSize.width-this.bounds.width()),this.aspectRatio&&(i.y=this.aspectRatio*i.x)),this.bounds.height()-i.y>this.maxSize.height&&(i.y=-(this.maxSize.height-this.bounds.height()),this.aspectRatio&&(i.x=i.y/this.aspectRatio)),this.bounds.height()-i.y<this.minSize.height&&(i.y=-(this.minSize.height-this.bounds.height()),this.aspectRatio&&(i.x=i.y/this.aspectRatio))):(this.bounds.width()+i.x>this.maxSize.width&&(i.x=this.maxSize.width-this.bounds.width(),this.aspectRatio&&(i.y=this.aspectRatio*i.x)),this.bounds.width()+i.x<this.minSize.width&&(i.x=this.minSize.width-this.bounds.width(),this.aspectRatio&&(i.y=this.aspectRatio*i.x)),this.bounds.height()+i.y>this.maxSize.height&&(i.y=this.maxSize.height-this.bounds.height(),this.aspectRatio&&(i.x=i.y/this.aspectRatio)),this.bounds.height()+i.y<this.minSize.height&&(i.y=this.minSize.height-this.bounds.height(),this.aspectRatio&&(i.x=i.y/this.aspectRatio))),this.orientation){case"northwest":this.bounds.extend({x:-i.x,y:-i.y}),this.bounds.moveBy(i);break;case"southeast":this.bounds.extend(i);break;case"north":this.bounds.extend({x:0,y:-i.y}),this.bounds.moveBy({x:0,y:i.y});break;case"south":this.bounds.extend({x:0,y:i.y});break;case"west":this.bounds.extend({x:-i.x,y:0}),this.bounds.moveBy({x:i.x,y:0});break;case"east":this.bounds.extend({x:i.x,y:0});break}this.update(),this.resizeCallbacks.each(function(e){e(this.bounds)}.bind(this)),Event.stop(e)}}},{key:"registerOnResizeStart",value:function(e){this.resizeStartCallbacks.member(e)||this.resizeStartCallbacks.push(e)}},{key:"unregisterOnResizeStart",value:function(e){this.resizeStartCallbacks.member(e)&&(this.resizeStartCallbacks=this.resizeStartCallbacks.without(e))}},{key:"registerOnResizeEnd",value:function(e){this.resizeEndCallbacks.member(e)||this.resizeEndCallbacks.push(e)}},{key:"unregisterOnResizeEnd",value:function(e){this.resizeEndCallbacks.member(e)&&(this.resizeEndCallbacks=this.resizeEndCallbacks.without(e))}},{key:"registerOnResize",value:function(e){this.resizeCallbacks.member(e)||this.resizeCallbacks.push(e)}},{key:"unregisterOnResize",value:function(e){this.resizeCallbacks.member(e)&&(this.resizeCallbacks=this.resizeCallbacks.without(e))}},{key:"hide",value:function(){this.node.style.display="none"}},{key:"show",value:function(){this.bounds&&(this.node.style.display="")}},{key:"setBounds",value:function(e,t,i,n){this.bounds=e,t||(t={width:g["a"].CustomConfigs.MINIMUM_SIZE,height:g["a"].CustomConfigs.MINIMUM_SIZE}),i||(i={width:g["a"].MAXIMUM_SIZE,height:g["a"].MAXIMUM_SIZE}),this.minSize=t,this.maxSize=i,this.aspectRatio=n,this.update()}},{key:"update",value:function(){if(this.bounds){var e=this.bounds.upperLeft();this.bounds.width()<this.minSize.width&&this.bounds.set(e.x,e.y,e.x+this.minSize.width,e.y+this.bounds.height()),this.bounds.height()<this.minSize.height&&this.bounds.set(e.x,e.y,e.x+this.bounds.width(),e.y+this.minSize.height),this.bounds.width()>this.maxSize.width&&this.bounds.set(e.x,e.y,e.x+this.maxSize.width,e.y+this.bounds.height()),this.bounds.height()>this.maxSize.height&&this.bounds.set(e.x,e.y,e.x+this.bounds.width(),e.y+this.maxSize.height);var t=this.canvasNode.getScreenCTM();e.x*=t.a,e.y*=t.d;var i=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var n=navigator.userAgent;if(n.indexOf("MSIE")>=0){var s=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==s&&(i=s/100)}}if(1===i)e.y=e.y-jQuery("#canvasSection").offset().top+t.f,e.x=e.x-jQuery("#canvasSection").offset().left+t.e;else{var a=jQuery("#canvasSection").offset().left,o=jQuery("#canvasSection").scrollLeft(),r=jQuery("#canvasSection").scrollTop(),c=t.e-a*i,h=0;c>10&&(h=c/i-c),e.y=e.y-jQuery("#canvasSection").offset().top*i+(r*i-r)+t.f,e.x=e.x-a*i+h+(o*i-o)+t.e}switch(this.orientation){case"northwest":e.x-=13,e.y-=13;break;case"southeast":e.x+=t.a*this.bounds.width()+3,e.y+=t.d*this.bounds.height()+3;break;case"north":e.x=0,e.y-=3;break;case"south":e.x=0,e.y+=t.d*this.bounds.height()-3;break;case"west":e.x-=3,e.y=0;break;case"east":e.x+=t.a*this.bounds.width()-3,e.y=0;break}this.position=e,this.node.style.left=this.position.x+"px",this.node.style.top=this.position.y+"px"}}}]),e}(),ae=i("b14e"),oe=i("c5e4"),re=function(e){function t(e){var i;Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),i.facade=e,i.currentShapes=[],i.toMoveShapes=[],i.distPoints=[],i.isResizing=!1,i.dragEnable=!1,i.dragIntialized=!1,i.edgesMovable=!0,i.offSetPosition={x:0,y:0},i.faktorXY={x:1,y:1},i.containmentParentNode,i.isAddingAllowed=!1,i.isAttachingAllowed=!1,i.callbackMouseMove=i.handleMouseMove.bind(Object(x["a"])(i)),i.callbackMouseUp=i.handleMouseUp.bind(Object(x["a"])(i));var n=i.facade.getCanvas().getSvgContainer();return i.selectedRect=new ie(n),g["a"].SHOW_GRIDLINE&&(i.vLine=new ne(n,ne.DIR_VERTICAL),i.hLine=new ne(n,ne.DIR_HORIZONTAL)),n=i.facade.getCanvas().getHTMLContainer(),i.scrollNode=i.facade.getCanvas().rootNode.parentNode.parentNode,i.resizerSE=new se(n,"southeast",i.facade),i.resizerSE.registerOnResize(i.onResize.bind(Object(x["a"])(i))),i.resizerSE.registerOnResizeEnd(i.onResizeEnd.bind(Object(x["a"])(i))),i.resizerSE.registerOnResizeStart(i.onResizeStart.bind(Object(x["a"])(i))),i.resizerNW=new se(n,"northwest",i.facade),i.resizerNW.registerOnResize(i.onResize.bind(Object(x["a"])(i))),i.resizerNW.registerOnResizeEnd(i.onResizeEnd.bind(Object(x["a"])(i))),i.resizerNW.registerOnResizeStart(i.onResizeStart.bind(Object(x["a"])(i))),i.resizerSouth=new se(n,"south",i.facade),i.resizerSouth.registerOnResize(i.onResize.bind(Object(x["a"])(i))),i.resizerSouth.registerOnResizeEnd(i.onResizeEnd.bind(Object(x["a"])(i))),i.resizerSouth.registerOnResizeStart(i.onResizeStart.bind(Object(x["a"])(i))),i.resizerNorth=new se(n,"north",i.facade),i.resizerNorth.registerOnResize(i.onResize.bind(Object(x["a"])(i))),i.resizerNorth.registerOnResizeEnd(i.onResizeEnd.bind(Object(x["a"])(i))),i.resizerNorth.registerOnResizeStart(i.onResizeStart.bind(Object(x["a"])(i))),i.resizerEast=new se(n,"east",i.facade),i.resizerEast.registerOnResize(i.onResize.bind(Object(x["a"])(i))),i.resizerEast.registerOnResizeEnd(i.onResizeEnd.bind(Object(x["a"])(i))),i.resizerEast.registerOnResizeStart(i.onResizeStart.bind(Object(x["a"])(i))),i.resizerWest=new se(n,"west",i.facade),i.resizerWest.registerOnResize(i.onResize.bind(Object(x["a"])(i))),i.resizerWest.registerOnResizeEnd(i.onResizeEnd.bind(Object(x["a"])(i))),i.resizerWest.registerOnResizeStart(i.onResizeStart.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_MOUSEDOWN,i.handleMouseDown.bind(Object(x["a"])(i))),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"onSelectionChanged",value:function(e){var t=this,i=e.elements;if(this.dragEnable=!1,this.dragIntialized=!1,this.resizerSE.hide(),this.resizerNW.hide(),this.resizerSouth.hide(),this.resizerNorth.hide(),this.resizerEast.hide(),this.resizerWest.hide(),i&&0!=i.length){this.currentShapes=i;var n=this.facade.getCanvas().getShapesWithSharedParent(i);this.toMoveShapes=n,this.toMoveShapes=this.toMoveShapes.findAll(function(e){return e instanceof L["a"]&&(0===e.dockers.length||!i.member(e.dockers.first().getDockedShape()))&&!e.getStencil().id().endsWith("Lane")}),i.each(function(e){if(e instanceof U["a"]){var t=e.getDockers(),n=i.member(t.first().getDockedShape()),s=i.member(t.last().getDockedShape());if(!n&&!s){var a=!t.first().getDockedShape()&&!t.last().getDockedShape();a&&(this.toMoveShapes=this.toMoveShapes.concat(t))}e.dockers.length>2&&n&&s&&(this.toMoveShapes=this.toMoveShapes.concat(t.findAll(function(e,i){return i>0&&i<t.length-1})))}}.bind(this));var s=void 0;this.toMoveShapes.each(function(e){var t=e;e instanceof oe["a"].Docker&&(t=e.parent),s?s.include(t.absoluteBounds()):s=t.absoluteBounds()}.bind(this)),s||i.each(function(e){s?s.include(e.absoluteBounds()):s=e.absoluteBounds()});var a=[];if(this.toMoveShapes.map(function(e){if(e instanceof L["a"]){var i={a:{},b:{}};"Pool"===e.getStencil().idWithoutNs()?(i=e.bounds.clone(),i.a.x+=30,a=t.findChindsInBound(i)):"V-Pool"===e.getStencil().idWithoutNs()?(i=e.bounds.clone(),i.a.y+=30,a=t.findChindsInBound(i)):e.getStencil().id().endsWith("Lane")&&(i=e.bounds.clone(),a=t.findChindsInBound(i))}}),this.toMoveShapes=this.toMoveShapes.concat(a),this.dragBounds=s,this.oldDragBounds=s.clone(),this.resizeRectangle(s),this.selectedRect.show(),1==i.length&&i[0].isResizable){var o=i[0].getStencil().fixedAspectRatio()?i[0].bounds.width()/i[0].bounds.height():void 0,r=i[0].getStencil().idWithoutNs();"Pool"===r||"Lane"===r?(this.resizerSouth.setBounds(this.dragBounds,i[0].minimumSize,i[0].maximumSize,o),this.resizerSouth.show(),this.resizerNorth.setBounds(this.dragBounds,i[0].minimumSize,i[0].maximumSize,o),this.resizerNorth.show()):"V-Pool"!==r&&"V-Lane"!==r||(this.resizerEast.setBounds(this.dragBounds,i[0].minimumSize,i[0].maximumSize,o),this.resizerEast.show(),this.resizerWest.setBounds(this.dragBounds,i[0].minimumSize,i[0].maximumSize,o),this.resizerWest.show())}else this.resizerSE.setBounds(void 0),this.resizerNW.setBounds(void 0),this.resizerSouth.setBounds(void 0),this.resizerNorth.setBounds(void 0),this.resizerEast.setBounds(void 0),this.resizerWest.setBounds(void 0);g["a"].CustomConfigs.GRID_ENABLED&&(this.distPoints=[],this.distPointTimeout&&window.clearTimeout(this.distPointTimeout),this.distPointTimeout=window.setTimeout(function(){var e=this.facade.getCanvas().getChildShapes(!0).findAll(function(e){var t=e.parent;while(t){if(i.member(t))return!1;t=t.parent}return!0});e.each(function(e){if(!(e instanceof U["a"])){var t=e.absoluteXY(),i=e.bounds.width(),n=e.bounds.height();this.distPoints.push({ul:{x:t.x,y:t.y},c:{x:t.x+i/2,y:t.y+n/2},lr:{x:t.x+i,y:t.y+n}})}}.bind(this))}.bind(this),10))}else this.selectedRect.hide(),this.currentShapes=[],this.toMoveShapes=[],this.dragBounds=void 0,this.oldDragBounds=void 0}},{key:"handleMouseDown",value:function(e,t){if(this.dragBounds&&this.currentShapes.member(t)&&this.toMoveShapes.length){this.dragEnable=!0,this.dragIntialized=!0,this.edgesMovable=!0;var i=this.facade.getCanvas().node.getScreenCTM();this.faktorXY.x=i.a,this.faktorXY.y=i.d;var n=Event.pointerX(e),s=Event.pointerY(e),a=this.dragBounds.upperLeft();this.offSetPosition={x:n-a.x*this.faktorXY.x,y:s-a.y*this.faktorXY.y},this.offsetScroll={x:this.scrollNode.scrollLeft,y:this.scrollNode.scrollTop},document.documentElement.addEventListener(g["a"].EVENT_MOUSEMOVE,this.callbackMouseMove,!1),document.documentElement.addEventListener(g["a"].EVENT_MOUSEUP,this.callbackMouseUp,!0)}}},{key:"handleMouseUp",value:function(e){if(this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"dragdropresize.contain"}),this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"dragdropresize.attached"}),this.dragEnable){if(!this.dragIntialized){if(this.afterDrag(),this.isAttachingAllowed&&1==this.toMoveShapes.length&&this.toMoveShapes[0]instanceof L["a"]&&this.toMoveShapes[0].dockers.length>0){var t=this.facade.eventCoordinates(e),i=this.toMoveShapes[0].dockers[0],n=function(e){function t(e,i,n,s){var a;return Object(l["a"])(this,t),a=Object(r["a"])(this,Object(c["a"])(t).call(this)),a.docker=e,a.newPosition=i,a.newDockedShape=n,a.newParent=n.parent||s.getCanvas(),a.oldPosition=e.parent.bounds.center(),a.oldDockedShape=e.getDockedShape(),a.oldParent=e.parent.parent||s.getCanvas(),a.facade=s,a.oldDockedShape&&(a.oldPosition=e.parent.absoluteBounds().center()),a}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.dock(this.newDockedShape,this.newParent,this.newPosition),this.facade.raiseEvent({type:g["a"].EVENT_ARRANGEMENT_TOP,excludeCommand:!0})}},{key:"rollback",value:function(){this.dock(this.oldDockedShape,this.oldParent,this.oldPosition)}},{key:"dock",value:function(e,t,i){t.add(this.docker.parent),this.docker.setDockedShape(void 0),this.docker.bounds.centerMoveTo(i),this.docker.setDockedShape(e),this.facade.setSelection([this.docker.parent]),this.facade.getCanvas().update(),this.facade.updateSelection()}}]),t}(u["a"]),s=[new n(i,t,this.containmentParentNode,this.facade)];this.facade.executeCommands(s)}else this.isAddingAllowed&&this.refreshSelectedShapes();this.facade.updateSelection(),this.facade.raiseEvent({type:g["a"].EVENT_DRAGDROP_END})}this.vLine&&this.vLine.hide(),this.hLine&&this.hLine.hide()}this.dragEnable=!1,document.documentElement.removeEventListener(g["a"].EVENT_MOUSEUP,this.callbackMouseUp,!0),document.documentElement.removeEventListener(g["a"].EVENT_MOUSEMOVE,this.callbackMouseMove,!1)}},{key:"handleMouseMove",value:function(e){if(this.dragEnable){this.dragIntialized&&(this.facade.raiseEvent({type:g["a"].EVENT_DRAGDROP_START}),this.dragIntialized=!1,this.resizerSE.hide(),this.resizerNW.hide(),this.resizerSouth.hide(),this.resizerNorth.hide(),this.resizerEast.hide(),this.resizerWest.hide(),this._onlyEdges=this.currentShapes.all(function(e){return e instanceof U["a"]}),this.beforeDrag(),this._currentUnderlyingNodes=[]);var t={x:Event.pointerX(e)-this.offSetPosition.x,y:Event.pointerY(e)-this.offSetPosition.y};t.x-=this.offsetScroll.x-this.scrollNode.scrollLeft,t.y-=this.offsetScroll.y-this.scrollNode.scrollTop;var i=e.shiftKey||e.ctrlKey;g["a"].CustomConfigs.GRID_ENABLED&&!i?t=this.snapToGrid(t):(this.vLine&&this.vLine.hide(),this.hLine&&this.hLine.hide()),t.x/=this.faktorXY.x,t.y/=this.faktorXY.y,t.x=Math.max(0,t.x),t.y=Math.max(0,t.y);var n=this.facade.getCanvas();t.x=Math.min(n.bounds.width()-this.dragBounds.width(),t.x),t.y=Math.min(n.bounds.height()-this.dragBounds.height(),t.y),this.dragBounds.moveTo(t),this.resizeRectangle(this.dragBounds),this.isAttachingAllowed=!1;var s=this.facade.eventCoordinates(e),a=1;a=B["a"].IEZoomBelow10(a),1!==a&&(s.x=s.x/a,s.y=s.y/a);var o=$A(this.facade.getCanvas().getAbstractShapesAtPosition(s)),r=1===this.toMoveShapes.length&&this.toMoveShapes[0]instanceof L["a"]&&this.toMoveShapes[0].dockers.length>0;if(r=r&&1!=o.length,r||o.length!==this._currentUnderlyingNodes.length||!o.all(function(e,t){return this._currentUnderlyingNodes[t]===e}.bind(this))){if(this._onlyEdges)this.isAddingAllowed=!0,this.containmentParentNode=this.facade.getCanvas();else{var c={event:e,underlyingNodes:o,checkIfAttachable:r};this.checkRules(c)}this._currentUnderlyingNodes=o.reverse(),this.isAttachingAllowed?this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"dragdropresize.attached",elements:[this.containmentParentNode],style:g["a"].SELECTION_HIGHLIGHT_STYLE_RECTANGLE,color:g["a"].SELECTION_VALID_COLOR}):this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"dragdropresize.attached"}),this.isAttachingAllowed?this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"dragdropresize.contain"}):this.isAddingAllowed?this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"dragdropresize.contain",elements:[this.containmentParentNode],color:g["a"].SELECTION_VALID_COLOR}):this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"dragdropresize.contain",elements:[this.containmentParentNode],color:g["a"].SELECTION_INVALID_COLOR})}}}},{key:"findChindsInBound",value:function(e){var t=this.facade.getCanvas().getChildShapes(!0).findAll(function(t){if(t instanceof L["a"]){var i=t.absoluteBounds(),n=i.upperLeft(),s=i.lowerRight();if(n.x>e.a.x&&n.y>e.a.y&&s.x<e.b.x&&s.y<e.b.y)return!0}return!1});return t}},{key:"checkRules",value:function(e){var t=e.event,i=e.underlyingNodes,n=e.checkIfAttachable,s=e.noEdges;if(this.containmentParentNode=i.reverse().find(function(e){return e instanceof E["a"]||(e instanceof L["a"]||e instanceof U["a"]&&!s)&&!(this.currentShapes.member(e)||this.currentShapes.any(function(t){return t.children.length>0&&t.getChildNodes(!0).member(e)}))&&!(e.getStencil().id().endsWith("Lane")||e.getStencil().id().endsWith("Pool"))}.bind(this)),n&&(this.isAttachingAllowed=this.facade.getRules().canConnect({sourceShape:this.containmentParentNode,edgeShape:this.toMoveShapes[0],targetShape:this.toMoveShapes[0]}),this.isAttachingAllowed)){var a=this.facade.eventCoordinates(t);this.isAttachingAllowed=this.containmentParentNode.isPointOverOffset(a.x,a.y)}this.isAttachingAllowed||(this.isAddingAllowed=this.toMoveShapes.all(function(e){return e instanceof U["a"]||e instanceof oe["a"].Docker||this.containmentParentNode===e.parent||!(this.containmentParentNode===e||this.containmentParentNode instanceof U["a"]&&s||!this.facade.getRules().canContain({containingShape:this.containmentParentNode,containedShape:e}))}.bind(this))),!this.isAttachingAllowed&&!this.isAddingAllowed&&this.containmentParentNode instanceof U["a"]&&(e.noEdges=!0,e.underlyingNodes.reverse(),this.checkRules(e))}},{key:"refreshSelectedShapes",value:function(){if(this.dragBounds){var e=this.dragBounds.upperLeft(),t=this.oldDragBounds.upperLeft(),i={x:e.x-t.x,y:e.y-t.y};console.log("toMoveShapes",this.toMoveShapes,i,this.containmentParentNode,this.currentShapes);var n=[new ae["a"](this.toMoveShapes,i,this.containmentParentNode,this.currentShapes,this)];this._undockedEdgesCommand instanceof u["a"]&&n.unshift(this._undockedEdgesCommand),this.facade.executeCommands(n),this.dragBounds&&(this.oldDragBounds=this.dragBounds.clone())}}},{key:"onResize",value:function(e){this.dragBounds&&(this.dragBounds=e,this.isResizing=!0,this.resizeRectangle(this.dragBounds))}},{key:"onResizeStart",value:function(){this.facade.raiseEvent({type:g["a"].EVENT_RESIZE_START})}},{key:"onResizeEnd",value:function(){if(this.currentShapes instanceof Array&&!(this.currentShapes.length<=0)&&this.isResizing){var e=function(e){function t(e,i,n){var s;return Object(l["a"])(this,t),s=Object(r["a"])(this,Object(c["a"])(t).call(this)),s.shape=e,s.oldBounds=e.bounds.clone(),s.newBounds=i,s.plugin=n,s}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.shape.bounds.set(this.newBounds.a,this.newBounds.b),this.update(this.getOffset(this.oldBounds,this.newBounds))}},{key:"rollback",value:function(){this.shape.bounds.set(this.oldBounds.a,this.oldBounds.b),this.update(this.getOffset(this.newBounds,this.oldBounds))}},{key:"getOffset",value:function(e,t){return{x:t.a.x-e.a.x,y:t.a.y-e.a.y,xs:t.width()/e.width(),ys:t.height()/e.height()}}},{key:"update",value:function(e){this.shape.getLabels().each(function(e){e.changed()});var t=[].concat(this.shape.getIncomingShapes()).concat(this.shape.getOutgoingShapes()).findAll(function(e){return e instanceof U["a"]}.bind(this));this.plugin.layoutEdges(this.shape,t,e),this.plugin.facade.setSelection([this.shape]),this.plugin.facade.getCanvas().update(),this.plugin.facade.updateSelection()}}]),t}(u["a"]),t=this.dragBounds.clone(),i=this.currentShapes[0];if(i.parent){var n=i.parent.absoluteXY();t.moveBy(-n.x,-n.y)}var s=new e(i,t,this);this.facade.executeCommands([s]),this.isResizing=!1,this.facade.raiseEvent({type:g["a"].EVENT_RESIZE_END})}}},{key:"beforeDrag",value:function(){var e=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this)),i.dockers=e.collect(function(e){return e instanceof oe["a"].Docker?{docker:e,dockedShape:e.getDockedShape(),refPoint:e.referencePoint}:void 0}).compact(),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.dockers.each(function(e){e.docker.setDockedShape(void 0)})}},{key:"rollback",value:function(){this.dockers.each(function(e){e.docker.setDockedShape(e.dockedShape),e.docker.setReferencePoint(e.refPoint)})}}]),t}(u["a"]);this._undockedEdgesCommand=new e(this.toMoveShapes),this._undockedEdgesCommand.execute()}},{key:"hideAllLabels",value:function(e){e.getLabels().each(function(e){e.hide()}),e.getAllDockedShapes().each(function(e){var t=e.getLabels();t.length>0&&t.each(function(e){e.hide()})}),e.getChildren().each(function(e){e instanceof Q["a"]&&this.hideAllLabels(e)}.bind(this))}},{key:"afterDrag",value:function(){}},{key:"showAllLabels",value:function(e){for(var t=0;t<e.length;t++){var i=e[t];i.show()}for(var n=e.getAllDockedShapes(),s=0;s<n.length;s++){var a=n[s],o=a.getLabels();o.length>0&&o.each(function(e){e.show()})}for(var r=0;r<e.children.length;r++){var c=e.children[r];c instanceof Q["a"]&&this.showAllLabels(c)}}},{key:"snapToGrid",value:function(e){var t,i,n,s,a=this.dragBounds,o=10,r=this.vLine?this.vLine.getScale():1,c={x:e.x/r,y:e.y/r},h={x:e.x/r+a.width()/2,y:e.y/r+a.height()/2};e.x,a.width(),e.y,a.height();return this.distPoints.each(function(e){var a,r,c,l;Math.abs(e.c.x-h.x)<o&&(a=e.c.x-h.x,c=e.c.x),Math.abs(e.c.y-h.y)<o&&(r=e.c.y-h.y,l=e.c.y),void 0!==a&&(t=void 0===t?a:Math.abs(a)<Math.abs(t)?a:t,t===a&&(n=c)),void 0!==r&&(i=void 0===i?r:Math.abs(r)<Math.abs(i)?r:i,i===r&&(s=l))}),void 0!==t?(c.x+=t,c.x*=r,this.vLine&&n&&this.vLine.update(n)):(c.x=e.x-e.x%(g["a"].CustomConfigs.GRID_DISTANCE/2),this.vLine&&this.vLine.hide()),void 0!==i?(c.y+=i,c.y*=r,this.hLine&&s&&this.hLine.update(s)):(c.y=e.y-e.y%(g["a"].CustomConfigs.GRID_DISTANCE/2),this.hLine&&this.hLine.hide()),c}},{key:"showGridLine",value:function(){}},{key:"resizeRectangle",value:function(e){this.selectedRect.resize(e)}}]),t}(D),ce=function(){function e(t){Object(l["a"])(this,e),this.parentNode=t.getCanvas().getSvgContainer(),this.node=B["a"].graft("http://www.w3.org/2000/svg",this.parentNode,["g"]),this.highlightNodes={},t.registerOnEvent(g["a"].EVENT_HIGHLIGHT_SHOW,this.setHighlight.bind(this)),t.registerOnEvent(g["a"].EVENT_HIGHLIGHT_HIDE,this.hideHighlight.bind(this))}return Object(d["a"])(e,[{key:"setHighlight",value:function(e){if(e&&e.highlightId){var t=this.highlightNodes[e.highlightId];t||(t=B["a"].graft("http://www.w3.org/2000/svg",this.node,["path",{"stroke-width":2,fill:"none"}]),this.highlightNodes[e.highlightId]=t),e.elements&&e.elements.length>0?(this.setAttributesByStyle(t,e),this.show(t)):this.hide(t)}}},{key:"hideHighlight",value:function(e){e&&e.highlightId&&this.highlightNodes[e.highlightId]&&this.hide(this.highlightNodes[e.highlightId])}},{key:"hide",value:function(e){e.setAttributeNS(null,"display","none")}},{key:"show",value:function(e){e.setAttributeNS(null,"display","")}},{key:"setAttributesByStyle",value:function(e,t){if(t.style&&t.style==g["a"].SELECTION_HIGHLIGHT_STYLE_RECTANGLE){var i=t.elements[0].absoluteBounds(),n=t.strokewidth?t.strokewidth:g["a"].CustomConfigs.BORDER_OFFSET;e.setAttributeNS(null,"d",this.getPathRectangle(i.a,i.b,n)),e.setAttributeNS(null,"stroke",t.color?t.color:g["a"].SELECTION_HIGHLIGHT_COLOR),e.setAttributeNS(null,"stroke-opacity",t.opacity?t.opacity:.2),e.setAttributeNS(null,"stroke-width",n)}else if(1==t.elements.length&&t.elements[0]instanceof U["a"]&&"selection"!=t.highlightId){var s=this.getPathEdge(t.elements[0].dockers);s&&s.length>0&&e.setAttributeNS(null,"d",s),e.setAttributeNS(null,"stroke",t.color?t.color:g["a"].SELECTION_HIGHLIGHT_COLOR),e.setAttributeNS(null,"stroke-opacity",t.opacity?t.opacity:.2),e.setAttributeNS(null,"stroke-width",g["a"].CustomConfigs.OFFSET_EDGE_BOUNDS)}else{var a=this.getPathByElements(t.elements);a&&a.length>0&&e.setAttributeNS(null,"d",a),e.setAttributeNS(null,"stroke",t.color?t.color:g["a"].SELECTION_HIGHLIGHT_COLOR),e.setAttributeNS(null,"stroke-opacity",t.opacity?t.opacity:1),e.setAttributeNS(null,"stroke-width",t.strokewidth?t.strokewidth:2)}}},{key:"getPathByElements",value:function(e){if(e&&!(e.length<=0)){var t=g["a"].CustomConfigs.SELECTED_AREA_PADDING,i="";return e.each(function(e){if(e){var n=e.absoluteBounds();n.widen(t);var s=n.upperLeft(),a=n.lowerRight();i+=this.getPath(s,a)}}.bind(this)),i}}},{key:"getPath",value:function(e,t){return this.getPathCorners(e,t)}},{key:"getPathCorners",value:function(e,t){var i=g["a"].SELECTION_HIGHLIGHT_SIZE,n="";return n=n+"M"+e.x+" "+(e.y+i)+" l0 -"+i+" l"+i+" 0 ",n=n+"M"+e.x+" "+(t.y-i)+" l0 "+i+" l"+i+" 0 ",n=n+"M"+t.x+" "+(t.y-i)+" l0 "+i+" l-"+i+" 0 ",n=n+"M"+t.x+" "+(e.y+i)+" l0 -"+i+" l-"+i+" 0 ",n}},{key:"getPathRectangle",value:function(e,t,i){g["a"].SELECTION_HIGHLIGHT_SIZE;var n="",s=i/2;return n=n+"M"+(e.x+s)+" "+e.y,n=n+" L"+(e.x+s)+" "+(t.y-s),n=n+" L"+(t.x-s)+" "+(t.y-s),n=n+" L"+(t.x-s)+" "+(e.y+s),n=n+" L"+(e.x+s)+" "+(e.y+s),n}},{key:"getPathEdge",value:function(e){for(var t=e.length,i="M"+e[0].bounds.center().x+" "+e[0].bounds.center().y,n=1;n<t;n++){var s=e[n].bounds.center();i=i+" L"+s.x+" "+s.y}return i}}]),e}(),he=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.opacityFull=.9,this.opacityLow=.4}return Object(d["a"])(e,[{key:"onSelectionChanged",value:function(e){e.elements&&e.elements.length>1?(this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"selection",elements:e.elements.without(e.subSelection),color:g["a"].SELECTION_HIGHLIGHT_COLOR,opacity:e.subSelection?this.opacityLow:this.opacityFull}),e.subSelection?this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"subselection",elements:[e.subSelection],color:g["a"].SELECTION_HIGHLIGHT_COLOR,opacity:this.opacityFull}):this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"subselection"})):(this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"selection"}),this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"subselection"}))}}]),e}(),le=i("4883"),de=i("f8cc"),ue=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.VALIDCOLOR=g["a"].SELECTION_VALID_COLOR,this.INVALIDCOLOR=g["a"].SELECTION_INVALID_COLOR,this.shapeSelection=void 0,this.docker=void 0,this.dockerParent=void 0,this.dockerSource=void 0,this.dockerTarget=void 0,this.lastUIObj=void 0,this.isStartDocker=void 0,this.isEndDocker=void 0,this.undockTreshold=10,this.initialDockerPosition=void 0,this.outerDockerNotMoved=void 0,this.isValid=!1,this.facade.registerOnEvent(g["a"].EVENT_MOUSEDOWN,this.handleMouseDown.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_DOCKERDRAG,this.handleDockerDrag.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_MOUSEOVER,this.handleMouseOver.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_MOUSEOUT,this.handleMouseOut.bind(this))}return Object(d["a"])(e,[{key:"handleMouseOut",value:function(e,t){!this.docker&&t instanceof oe["a"].Docker?t.hide():!this.docker&&t instanceof U["a"]&&t.dockers.each(function(e){e.hide()})}},{key:"handleMouseOver",value:function(e,t){!this.docker&&t instanceof oe["a"].Docker?t.show():!this.docker&&t instanceof U["a"]&&t.dockers.each(function(e){e.show()})}},{key:"handleDockerDrag",value:function(e,t){this.handleMouseDown(e.uiEvent,t)}},{key:"handleMouseDown",value:function(e,t){if(t instanceof oe["a"].Docker&&t.isMovable){this.shapeSelection=this.facade.getSelection(),this.facade.setSelection(),this.docker=t,this.initialDockerPosition=this.docker.bounds.center(),this.outerDockerNotMoved=!1,this.dockerParent=t.parent,this._commandArg={docker:t,dockedShape:t.getDockedShape(),refPoint:t.referencePoint||t.bounds.center()},this.docker.show(),t.parent instanceof U["a"]&&(t.parent.dockers.first()==t||t.parent.dockers.last()==t)?t.parent.dockers.first()==t&&t.parent.dockers.last().getDockedShape()?this.dockerTarget=t.parent.dockers.last().getDockedShape():t.parent.dockers.last()==t&&t.parent.dockers.first().getDockedShape()&&(this.dockerSource=t.parent.dockers.first().getDockedShape()):(this.dockerSource=void 0,this.dockerTarget=void 0),this.isStartDocker=this.docker.parent.dockers.first()===this.docker,this.isEndDocker=this.docker.parent.dockers.last()===this.docker,this.facade.getCanvas().add(this.docker.parent),this.docker.parent.getLabels().each(function(e){e.hide()});var i=this.facade.eventCoordinates(e),n=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var s=navigator.userAgent;if(s.indexOf("MSIE")>=0){var a=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==a&&(n=a/100)}}1!==n&&(i.x=i.x/n,i.y=i.y/n),(this.isStartDocker||this.isEndDocker)&&this.docker.isDocked()?this.outerDockerNotMoved=!0:(this.docker.setDockedShape(void 0),this.docker.bounds.centerMoveTo(i),this.dockerParent._update());var o={movedCallback:this.dockerMoved.bind(this),upCallback:this.dockerMovedFinished.bind(this)};this.startEventPos=i,de["a"].UIEnableDrag(e,t,o)}}},{key:"dockerMoved",value:function(e){this.outerDockerNotMoved=!1;var t=void 0;if(this.docker.parent&&(this.isStartDocker||this.isEndDocker)){var i=this.facade.eventCoordinates(e),n=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var s=navigator.userAgent;if(s.indexOf("MSIE")>=0){var a=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==a&&(n=a/100)}}if(1!==n&&(i.x=i.x/n,i.y=i.y/n),this.docker.isDocked()){var o=le["a"].getDistancePointToPoint(i,this.initialDockerPosition);if(o<this.undockTreshold)return void(this.outerDockerNotMoved=!0);this.docker.setDockedShape(void 0),this.dockerParent._update()}var r=this.facade.getCanvas().getAbstractShapesAtPosition(i),c=r.pop();if(this.docker.parent===c&&(c=r.pop()),this.lastUIObj==c);else if(c instanceof Q["a"]){if(this.docker.parent instanceof U["a"]){var h=this.getHighestParentBeforeCanvas(c);if(h instanceof U["a"]&&this.docker.parent===h)return this.isValid=!1,void this.dockerParent._update();this.isValid=!1;var l=c,d=c;while(!this.isValid&&l&&!(l instanceof E["a"]))c=l,this.isValid=this.facade.getRules().canConnect({sourceShape:this.dockerSource?this.dockerSource:this.isStartDocker?c:void 0,edgeShape:this.docker.parent,targetShape:this.dockerTarget?this.dockerTarget:this.isEndDocker?c:void 0}),l=l.parent;this.isValid||(c=d)}else this.isValid=this.facade.getRules().canConnect({sourceShape:c,edgeShape:this.docker.parent,targetShape:this.docker.parent});this.lastUIObj&&this.hideMagnets(this.lastUIObj),this.isValid&&this.showMagnets(c),this.showHighlight(c,this.isValid?this.VALIDCOLOR:this.INVALIDCOLOR),this.lastUIObj=c}else this.hideHighlight(),this.lastUIObj&&this.hideMagnets(this.lastUIObj),this.lastUIObj=void 0,this.isValid=!1;this.lastUIObj&&this.isValid&&!e.shiftKey&&!e.ctrlKey&&(t=this.lastUIObj.magnets.find(function(e){return e.absoluteBounds().isIncluded(i)}),t&&this.docker.bounds.centerMoveTo(t.absoluteCenterXY()))}if(!e.shiftKey&&!e.ctrlKey&&!t){var u=g["a"].DOCKER_SNAP_OFFSET,A=u+1,p=u+1,f=this.docker.bounds.center();if(this.docker.parent)if(this.docker.parent.dockers.each(function(e){if(this.docker!=e){var t=e.referencePoint?e.getAbsoluteReferencePoint():e.bounds.center();A=Math.abs(A)>Math.abs(t.x-f.x)?t.x-f.x:A,p=Math.abs(p)>Math.abs(t.y-f.y)?t.y-f.y:p}}.bind(this)),Math.abs(A)<u||Math.abs(p)<u)A=Math.abs(A)<u?A:0,p=Math.abs(p)<u?p:0,this.docker.bounds.centerMoveTo(f.x+A,f.y+p);else{var v=this.docker.parent.dockers[Math.max(this.docker.parent.dockers.indexOf(this.docker)-1,0)],_=this.docker.parent.dockers[Math.min(this.docker.parent.dockers.indexOf(this.docker)+1,this.docker.parent.dockers.length-1)];if(v&&_&&v!==this.docker&&_!==this.docker){var m=v.bounds.center(),S=_.bounds.center(),b=this.docker.bounds.center();if(le["a"].isPointInLine(b.x,b.y,m.x,m.y,S.x,S.y,10)){var O=(Number(S.y)-Number(m.y))/(Number(S.x)-Number(m.x)),y=(m.y-m.x*O-(b.y-b.x*-Math.pow(O,-1)))/(-Math.pow(O,-1)-O),T=m.y-m.x*O+O*y;if(isNaN(y)||isNaN(T))return;this.docker.bounds.centerMoveTo(y,T)}}}}this.dockerParent._update()}},{key:"dockerMovedFinished",value:function(e){if(this.facade.setSelection(this.shapeSelection),this.hideHighlight(),this.dockerParent.getLabels().each(function(e){e.show()}),this.lastUIObj&&(this.isStartDocker||this.isEndDocker)&&(this.isValid&&(this.docker.setDockedShape(this.lastUIObj),this.facade.raiseEvent({type:g["a"].EVENT_DRAGDOCKER_DOCKED,docker:this.docker,parent:this.docker.parent,target:this.lastUIObj})),this.hideMagnets(this.lastUIObj)),this.docker.hide(),this.outerDockerNotMoved){var t=this.facade.eventCoordinates(e),i=this.facade.getCanvas().getAbstractShapesAtPosition(t),n=i.findAll(function(e){return e instanceof L["a"]});i=n.length?n:i,this.facade.setSelection(i)}else{var s=function(e){function t(e,i,n,s,a,o){var h;return Object(l["a"])(this,t),h=Object(r["a"])(this,Object(c["a"])(t).call(this)),h.docker=e,h.index=e.parent.dockers.indexOf(e),h.newPosition=i,h.newDockedShape=s,h.oldPosition=n,h.oldDockedShape=a,h.facade=o,h.index=e.parent.dockers.indexOf(e),h.shape=e.parent,h}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.docker.parent||(this.docker=this.shape.dockers[this.index]),this.dock(this.newDockedShape,this.newPosition),this.removedDockers=this.shape.removeUnusedDockers(),this.facade.updateSelection()}},{key:"rollback",value:function(){this.dock(this.oldDockedShape,this.oldPosition),(this.removedDockers||$H({})).each(function(e){this.shape.add(e.value,Number(e.key)),this.shape._update(!0)}.bind(this)),this.facade.updateSelection()}},{key:"dock",value:function(e,t){this.docker.setDockedShape(void 0),e?(this.docker.setDockedShape(e),this.docker.setReferencePoint(t)):this.docker.bounds.centerMoveTo(t),this.facade.getCanvas().update()}}]),t}(u["a"]);if(this.docker.parent){var a=new s(this.docker,this.docker.getDockedShape()?this.docker.referencePoint:this.docker.bounds.center(),this._commandArg.refPoint,this.docker.getDockedShape(),this._commandArg.dockedShape,this.facade);this.facade.executeCommands([a])}}this.docker=void 0,this.dockerParent=void 0,this.dockerSource=void 0,this.dockerTarget=void 0,this.lastUIObj=void 0}},{key:"hideHighlight",value:function(){this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"validDockedShape"})}},{key:"showHighlight",value:function(e,t){this.facade.raiseEvent({type:g["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"validDockedShape",elements:[e],color:t})}},{key:"showMagnets",value:function(e){e.magnets.each(function(e){e.show()})}},{key:"hideMagnets",value:function(e){e.magnets.each(function(e){e.hide()})}},{key:"getHighestParentBeforeCanvas",value:function(e){if(e instanceof Q["a"]){var t=e.parent;while(t&&!(t.parent instanceof E["a"]))t=t.parent;return t}}}]),e}(),ge=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.enableAdd=!1,this.enableRemove=!1,this.facade.registerOnEvent(g["a"].EVENT_MOUSEDOWN,this.handleMouseDown.bind(this))}return Object(d["a"])(e,[{key:"setEnableAdd",value:function(e){this.enableAdd=e,this.enableAdd?jQuery("#add-bendpoint-button").addClass("pressed"):(jQuery("#add-bendpoint-button").removeClass("pressed"),jQuery("#add-bendpoint-button").blur())}},{key:"setEnableRemove",value:function(e){this.enableRemove=e,this.enableRemove?jQuery("#remove-bendpoint-button").addClass("pressed"):(jQuery("#remove-bendpoint-button").removeClass("pressed"),jQuery("#remove-bendpoint-button").blur())}},{key:"enabledAdd",value:function(e){return this.enableAdd}},{key:"enabledRemove",value:function(){return this.enableRemove}},{key:"handleMouseDown",value:function(e,t){this.enabledAdd()&&t instanceof U["a"]?(this.newDockerCommand({edge:t,position:this.facade.eventCoordinates(e)}),this.setEnableAdd(!1)):this.enabledRemove()&&t instanceof oe["a"].Docker&&t.parent instanceof U["a"]&&(this.newDockerCommand({edge:t.parent,docker:t}),this.setEnableRemove(!1)),document.body.style.cursor="default"}},{key:"newDockerCommand",value:function(e){if(e.edge){var t=function(e){function t(e,i,n,s,a,o){var h;return Object(l["a"])(this,t),h=Object(r["a"])(this,Object(c["a"])(t).call(this)),h.addEnabled=e,h.deleteEnabled=i,h.edge=n,h.docker=s,h.pos=a,h.facade=o,h}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.addEnabled?this.docker?this.edge.add(this.docker,this.index):(this.docker=this.edge.addDocker(this.pos),this.index=this.edge.dockers.indexOf(this.docker)):this.deleteEnabled&&(this.index=this.edge.dockers.indexOf(this.docker),this.pos=this.docker.bounds.center(),this.edge.removeDocker(this.docker)),this.edge.getLabels().invoke("show"),this.facade.getCanvas().update(),this.facade.updateSelection()}},{key:"rollback",value:function(){this.addEnabled?this.docker instanceof oe["a"].Docker&&this.edge.removeDocker(this.docker):this.deleteEnabled&&this.edge.add(this.docker,this.index),this.edge.getLabels().invoke("show"),this.facade.getCanvas().update(),this.facade.updateSelection()}}]),t}(u["a"]),i=new t(this.enabledAdd(),this.enabledRemove(),e.edge,e.docker,e.position,this.facade);this.facade.executeCommands([i])}}}]),e}(),Ae=function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.facade.registerOnEvent(g["a"].EVENT_MOUSEDOWN,this.handleMouseDown.bind(this)),document.documentElement.addEventListener(g["a"].EVENT_MOUSEUP,this.handleMouseUp.bind(this),!0),this.position={x:0,y:0},this.size={width:0,height:0},this.offsetPosition={x:0,y:0},this.moveCallback=void 0,this.offsetScroll={x:0,y:0},this.node=B["a"].graft("http://www.w3.org/1999/xhtml",$("canvasSection"),["div",{class:"Oryx_SelectionFrame"}]),this.hide()}return Object(d["a"])(e,[{key:"handleMouseDown",value:function(e,t){if(t instanceof E["a"]){var i=t.rootNode.parentNode.parentNode,n=this.facade.getCanvas().node.getScreenCTM();this.offsetPosition={x:n.e,y:n.f},this.setPos({x:Event.pointerX(e)-jQuery("#canvasSection").offset().left,y:Event.pointerY(e)-jQuery("#canvasSection").offset().top+5}),this.resize({width:0,height:0}),this.moveCallback=this.handleMouseMove.bind(this),document.documentElement.addEventListener(g["a"].EVENT_MOUSEMOVE,this.moveCallback,!1),this.offsetScroll={x:i.scrollLeft,y:i.scrollTop},this.show()}Event.stop(e)}},{key:"handleMouseUp",value:function(e){if(this.moveCallback){this.hide(),document.documentElement.removeEventListener(g["a"].EVENT_MOUSEMOVE,this.moveCallback,!1),this.moveCallback=void 0;var t=this.facade.getCanvas().node.getScreenCTM(),i={x:this.size.width>0?this.position.x:this.position.x+this.size.width,y:this.size.height>0?this.position.y:this.position.y+this.size.height},n={x:i.x+Math.abs(this.size.width),y:i.y+Math.abs(this.size.height)},s=1;if(s=B["a"].IEZoomBelow10(s),1===s)i.x=i.x-(t.e-jQuery("#canvasSection").offset().left),i.y=i.y-(t.f-jQuery("#canvasSection").offset().top),n.x=n.x-(t.e-jQuery("#canvasSection").offset().left),n.y=n.y-(t.f-jQuery("#canvasSection").offset().top);else{var a=jQuery("#canvasSection").offset().left,o=jQuery("#canvasSection").scrollLeft(),r=jQuery("#canvasSection").scrollTop(),c=i.e-a*s,h=0;c>10&&(h=c/s-c),i.x=i.x-(t.e-a*s+h+(o*s-o)),i.y=i.y-(t.f-jQuery("#canvasSection").offset().top*s+(r*s-r)),n.x=n.x-(t.e-a*s+h+(o*s-o)),n.y=n.y-(t.f-jQuery("#canvasSection").offset().top*s+(r*s-r))}i.x/=t.a,i.y/=t.d,n.x/=t.a,n.y/=t.d;var l=this.facade.getCanvas().getChildShapes(!0).findAll(function(e){var t=e.absoluteBounds(),s=t.upperLeft(),a=t.lowerRight();return s.x>i.x&&s.y>i.y&&a.x<n.x&&a.y<n.y});this.facade.setSelection(l)}}},{key:"handleMouseMove",value:function(e){var t={width:Event.pointerX(e)-this.position.x-jQuery("#canvasSection").offset().left,height:Event.pointerY(e)-this.position.y-jQuery("#canvasSection").offset().top+5},i=this.facade.getCanvas().rootNode.parentNode.parentNode;t.width-=this.offsetScroll.x-i.scrollLeft,t.height-=this.offsetScroll.y-i.scrollTop,this.resize(t),Event.stop(e)}},{key:"hide",value:function(){this.node.style.display="none"}},{key:"show",value:function(){this.node.style.display=""}},{key:"setPos",value:function(e){this.node.style.top=e.y+"px",this.node.style.left=e.x+"px",this.position=e}},{key:"resize",value:function(e){this.setPos(this.position),this.size=Object.clone(e),e.width<0&&(this.node.style.left=this.position.x+e.width+"px",e.width=-e.width),e.height<0&&(this.node.style.top=this.position.y+e.height+"px",e.height=-e.height),this.node.style.width=e.width+"px",this.node.style.height=e.height+"px"}}]),e}(),pe=(i("6c7b"),function(){function e(t){Object(l["a"])(this,e),this.facade=t,this.changes=[],this.facade.registerOnEvent(g["a"].EVENT_OVERLAY_SHOW,this.show.bind(this)),this.facade.registerOnEvent(g["a"].EVENT_OVERLAY_HIDE,this.hide.bind(this)),this.styleNode=document.createElement("style"),this.styleNode.setAttributeNS(null,"type","text/css"),document.getElementsByTagName("head")[0].appendChild(this.styleNode)}return Object(d["a"])(e,[{key:"show",value:function(e){if(!(!e||!e.shapes||!e.shapes instanceof Array||!e.id||!e.id instanceof String||0==e.id.length)){e.attributes&&e.shapes.each(function(t){!t instanceof Q["a"]||this.setAttributes(t.node,e.attributes)}.bind(this));var t=!0;try{t=e.node&&e.node instanceof SVGElement}catch(i){}e.node&&t&&(e["_temps"]=[],e.shapes.each(function(t,i){if(!(!t instanceof Q["a"])){var n={};if(n.svg=e.dontCloneNode?e.node:e.node.cloneNode(!0),t.node.firstChild.appendChild(n.svg),t instanceof U["a"]&&!e.nodePosition&&(e["nodePosition"]="START"),e.nodePosition){var s=t.bounds,a=e.nodePosition.toUpperCase();t instanceof L["a"]&&"START"==a?a="NW":t instanceof L["a"]&&"END"==a?a="SE":t instanceof U["a"]&&"START"==a?s=t.getDockers().first().bounds:t instanceof U["a"]&&"END"==a&&(s=t.getDockers().last().bounds),n.callback=function(){var e=0,i=0;if("NW"==a);else if("N"==a)e=s.width()/2;else if("NE"==a)e=s.width();else if("E"==a)e=s.width(),i=s.height()/2;else if("SE"==a)e=s.width(),i=s.height();else if("S"==a)e=s.width()/2,i=s.height();else if("SW"==a)i=s.height();else if("W"==a)i=s.height()/2;else{if("START"!=a&&"END"!=a)return;e=s.width()/2,i=s.height()/2}t instanceof U["a"]&&(e+=s.upperLeft().x,i+=s.upperLeft().y),n.svg.setAttributeNS(null,"transform","translate("+e+", "+i+")")}.bind(this),n.element=t,n.callback(),s.registerCallback(n.callback)}e._temps.push(n)}}.bind(this))),this.changes[e.id]||(this.changes[e.id]=[]),this.changes[e.id].push(e)}}},{key:"hide",value:function(e){e&&e.id&&!(!e.id instanceof String)&&0!=e.id.length&&this.changes[e.id]&&(this.changes[e.id].each(function(e){e.shapes.each(function(e,t){!e instanceof Q["a"]||this.deleteAttributes(e.node)}.bind(this)),e._temps&&e._temps.each(function(e){e.svg&&e.svg.parentNode&&e.svg.parentNode.removeChild(e.svg),e.callback&&e.element&&e.element.bounds.unregisterCallback(e.callback)}.bind(this))}.bind(this)),this.changes[e.id]=null)}},{key:"setAttributes",value:function(e,t){var i=this.getAllChilds(e.firstChild.firstChild),n=[];i.each(function(e){n.push($A(e.attributes).findAll(function(e){return e.nodeValue.startsWith("url(#")}))}),n=n.flatten().compact(),n=n.collect(function(e){return e.nodeValue}).uniq(),n=n.collect(function(e){return e.slice(5,e.length-1)}),n.unshift(e.id+" .me");var s,a=$H(t),o=a.toJSON().gsub(",",";").gsub('"',""),r=t.stroke?o.slice(0,o.length-1)+"; fill:"+t.stroke+";}":o;if(t.fill){var c=Object.clone(t);c.fill="black",s=$H(c).toJSON().gsub(",",";").gsub('"',"")}var h=n.collect(function(e,t){return"#"+e+" * "+(t?r:o)+(s?" #"+e+" text * "+s:"")}),l=h.join(" ")+"\n";this.styleNode.appendChild(document.createTextNode(l))}},{key:"deleteAttributes",value:function(e){var t=$A(this.styleNode.childNodes).findAll(function(t){return t.textContent.include("#"+e.id)});t.each(function(e){e.parentNode.removeChild(e)})}},{key:"getAllChilds",value:function(e){var t=$A(e.childNodes);return $A(e.childNodes).each(function(e){t.push(this.getAllChilds(e))}.bind(this)),t.flatten()}}]),e}()),fe=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),i.facade=e,i.copyElements=[],i.facade.offer({keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:65,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.selectAll.bind(Object(x["a"])(i))}),i.facade.offer({keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:g["a"].KEY_CODE_LEFT,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_LEFT,!1)}),i.facade.offer({keyCodes:[{keyCode:g["a"].KEY_CODE_LEFT,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_LEFT,!0)}),i.facade.offer({keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:g["a"].KEY_CODE_RIGHT,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_RIGHT,!1)}),i.facade.offer({keyCodes:[{keyCode:g["a"].KEY_CODE_RIGHT,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_RIGHT,!0)}),i.facade.offer({keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:g["a"].KEY_CODE_UP,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_UP,!1)}),i.facade.offer({keyCodes:[{keyCode:g["a"].KEY_CODE_UP,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_UP,!0)}),i.facade.offer({keyCodes:[{metaKeys:[g["a"].META_KEY_META_CTRL],keyCode:g["a"].KEY_CODE_DOWN,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_DOWN,!1)}),i.facade.offer({keyCodes:[{keyCode:g["a"].KEY_CODE_DOWN,keyAction:g["a"].KEY_ACTION_DOWN}],functionality:i.move.bind(Object(x["a"])(i),g["a"].KEY_CODE_DOWN,!0)}),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"selectAll",value:function(e){Event.stop(e.event),this.facade.setSelection(this.facade.getCanvas().getChildShapes(!0))}},{key:"move",value:function(e,t,i){Event.stop(i.event);var n=t?20:5,s=this.facade.getSelection(),a=this.facade.getSelection(),o={x:0,y:0};switch(e){case g["a"].KEY_CODE_LEFT:o.x=-1*n;break;case g["a"].KEY_CODE_RIGHT:o.x=n;break;case g["a"].KEY_CODE_UP:o.y=-1*n;break;case g["a"].KEY_CODE_DOWN:o.y=n;break}s=s.findAll(function(e){if(e instanceof L["a"]&&1==e.dockers.length&&s.include(e.dockers.first().getDockedShape()))return!1;var t=e.parent;do{if(s.include(t))return!1}while(t=t.parent);return!0});var r=!0,c=s.all(function(e){return e instanceof U["a"]&&(e.isDocked()&&(r=!1),!0)});if((!c||r)&&(s=s.map(function(e){if(e instanceof L["a"])return e;if(e instanceof U["a"]){var t=e.dockers;return s.include(e.dockers.first().getDockedShape())&&(t=t.without(e.dockers.first())),s.include(e.dockers.last().getDockedShape())&&(t=t.without(e.dockers.last())),t}return null}).flatten().compact(),s.size()>0)){var h=[this.facade.getCanvas().bounds.lowerRight().x,this.facade.getCanvas().bounds.lowerRight().y,0,0];if(s.each(function(e){h[0]=Math.min(h[0],e.bounds.upperLeft().x),h[1]=Math.min(h[1],e.bounds.upperLeft().y),h[2]=Math.max(h[2],e.bounds.lowerRight().x),h[3]=Math.max(h[3],e.bounds.lowerRight().y)}),h[0]+o.x<0&&(o.x=-h[0]),h[1]+o.y<0&&(o.y=-h[1]),h[2]+o.x>this.facade.getCanvas().bounds.lowerRight().x&&(o.x=this.facade.getCanvas().bounds.lowerRight().x-h[2]),h[3]+o.y>this.facade.getCanvas().bounds.lowerRight().y&&(o.y=this.facade.getCanvas().bounds.lowerRight().y-h[3]),0!=o.x||0!=o.y){var l=[new ae["a"](s,o,null,a,this)];this.facade.executeCommands(l)}}}},{key:"getUndockedCommant",value:function(e){var t=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this)),i.dockers=e.collect(function(e){return e instanceof oe["a"].Docker?{docker:e,dockedShape:e.getDockedShape(),refPoint:e.referencePoint}:void 0}).compact(),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.dockers.each(function(e){e.docker.setDockedShape(void 0)})}},{key:"rollback",value:function(){this.dockers.each(function(e){e.docker.setDockedShape(e.dockedShape),e.docker.setReferencePoint(e.refPoint)})}}]),t}(u["a"]),i=new t(e);return i.execute(),i}}]),t}(D),Ee=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),Object(M["a"])(Object(x["a"])(i),"layouted",["http://b3mn.org/stencilset/bpmn1.1#SequenceFlow","http://b3mn.org/stencilset/bpmn1.1#MessageFlow","http://b3mn.org/stencilset/timjpdl3#SequenceFlow","http://b3mn.org/stencilset/jbpm4#SequenceFlow","http://b3mn.org/stencilset/bpmn2.0#MessageFlow","http://b3mn.org/stencilset/bpmn2.0#SequenceFlow","http://b3mn.org/stencilset/bpmn2.0choreography#MessageFlow","http://b3mn.org/stencilset/bpmn2.0choreography#SequenceFlow","http://b3mn.org/stencilset/bpmn2.0conversation#ConversationLink","http://b3mn.org/stencilset/epc#ControlFlow","http://www.signavio.com/stencilsets/processmap#ProcessLink","http://www.signavio.com/stencilsets/organigram#connection"]),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"layout",value:function(e){e.each(function(e){this.doLayout(e)}.bind(this))}},{key:"doLayout",value:function(e){var t=e.getIncomingNodes()[0],i=e.getOutgoingNodes()[0];if(t&&i){var n=this.getPositions(t,i,e);n.length>0&&this.setDockers(e,n[0].a,n[0].b)}}},{key:"getPositions",value:function(e,t,i){var n=e.absoluteBounds(),s=t.absoluteBounds(),a=n.center(),o=s.center(),r=n.midPoint(),c=s.midPoint(),h=Object.clone(i.dockers.first().referencePoint),l=Object.clone(i.dockers.last().referencePoint),d=i.dockers.first().getAbsoluteReferencePoint(),u=i.dockers.last().getAbsoluteReferencePoint();if(Math.abs(d.x-u.x)<1||Math.abs(d.y-u.y)<1)return[];var g={};g.x=a.x<o.x?(o.x-s.width()/2-(a.x+n.width()/2))/2+(a.x+n.width()/2):(a.x-n.width()/2-(o.x+s.width()/2))/2+(o.x+s.width()/2),g.y=a.y<o.y?(o.y-s.height()/2-(a.y+n.height()/2))/2+(a.y+n.height()/2):(a.y-n.height()/2-(o.y+s.height()/2))/2+(o.y+s.height()/2),n.widen(5),s.widen(20);var A=[],p=this.getOffset.bind(this);return n.isIncluded(o.x,a.y)||s.isIncluded(o.x,a.y)||A.push({a:{x:o.x+p(l,c,"x"),y:a.y+p(h,r,"y")},z:this.getWeight(e,a.x<o.x?"r":"l",t,a.y<o.y?"t":"b",i)}),n.isIncluded(a.x,o.y)||s.isIncluded(a.x,o.y)||A.push({a:{x:a.x+p(h,r,"x"),y:o.y+p(l,c,"y")},z:this.getWeight(e,a.y<o.y?"b":"t",t,a.x<o.x?"l":"r",i)}),n.isIncluded(g.x,a.y)||s.isIncluded(g.x,o.y)||A.push({a:{x:g.x,y:a.y+p(h,r,"y")},b:{x:g.x,y:o.y+p(l,c,"y")},z:this.getWeight(e,"r",t,"l",i,a.x>o.x)}),n.isIncluded(a.x,g.y)||s.isIncluded(o.x,g.y)||A.push({a:{x:a.x+p(h,r,"x"),y:g.y},b:{x:o.x+p(l,c,"x"),y:g.y},z:this.getWeight(e,"b",t,"t",i,a.y>o.y)}),A.sort(function(e,t){return e.z<t.z?1:(e.z,t.z,-1)})}},{key:"getOffset",value:function(e,t,i){return e[i]-t[i]}},{key:"getWeight",value:function(e,t,i,n,s,a){t=(t||"").toLowerCase(),n=(n||"").toLowerCase(),["t","r","b","l"].include(t)||(t="r"),["t","r","b","l"].include(n)||(t="l"),a&&(t="t"==t?"b":"r"==t?"l":"b"==t?"t":"r",n="t"==n?"b":"r"==n?"l":"b"==n?"t":"r");var o=this.facade.getRules().getLayoutingRules(e,s)["out"],r=this.facade.getRules().getLayoutingRules(i,s)["in"],c=o[t],h=r[n],l=function(e,t,i){switch(e){case"t":return Math.abs(t.x-i.x)<2&&t.y<i.y;case"r":return t.x>i.x&&Math.abs(t.y-i.y)<2;case"b":return Math.abs(t.x-i.x)<2&&t.y>i.y;case"l":return t.x<i.x&&Math.abs(t.y-i.y)<2;default:return!1}},d=e.getIncomingShapes().findAll(function(e){return e instanceof U["a"]}).any(function(e){return l(t,e.dockers[e.dockers.length-2].bounds.center(),e.dockers.last().bounds.center())}),u=i.getOutgoingShapes().findAll(function(e){return e instanceof U["a"]}).any(function(e){return l(n,e.dockers[1].bounds.center(),e.dockers.first().bounds.center())});return d||u?0:c+h}},{key:"setDockers",value:function(e,t,i){e&&(e.dockers.each(function(t){e.removeDocker(t)}),[t,i].compact().each(function(t){var i=e.createDocker(void 0,t);i.bounds.centerMoveTo(t)}),e.dockers.each(function(e){e.update()}),e._update(!0))}}]),t}(w),ve={EdgeLayouter:Ee},_e=ve,me=i("6908"),Se=function(e){function t(e,i,n,s){var a;return Object(l["a"])(this,t),a=Object(r["a"])(this,Object(c["a"])(t).call(this)),a.facade=s.facade,a.plugin=s,a.shape=e,a.changes,a.pool=n,a.parent=i,a.shapeChildren=[],a.shape.getChildShapes().each(function(e){this.shapeChildren.push({shape:e,bounds:{a:{x:e.bounds.a.x,y:e.bounds.a.y},b:{x:e.bounds.b.x,y:e.bounds.b.y}}})}.bind(Object(x["a"])(a))),a.shapeUpperLeft=a.shape.bounds.upperLeft(),a.parentHeight=a.parent.bounds.height(),a}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"getLeafLanes",value:function(e){var t=this.plugin.getLanes(e).map(function(e){return this.getLeafLanes(e)}.bind(this)).flatten();return t.length>0?t:[e]}},{key:"findNewLane",value:function(){this.plugin.getLanes(this.parent);var e=this.getLeafLanes(this.parent);this.lane=e.find(function(e){return e.bounds.upperLeft().y>=this.shapeUpperLeft.y}.bind(this))||e.last(),this.laneUpperLeft=this.lane.bounds.upperLeft()}},{key:"execute",value:function(){if(this.changes)this.executeAgain();else{if(this.lane||this.findNewLane(),this.lane){var e=this.laneUpperLeft,t=this.shapeUpperLeft,i=this.plugin.getDepth(this.lane,this.parent)-1;this.changes=$H({}),e.y>=t.y?(this.lane.getChildShapes().each(function(e){this.changes[e.getId()]||(this.changes[e.getId()]=this.computeChanges(e,this.lane,this.lane,this.shape.bounds.height())),e.bounds.moveBy(0,this.shape.bounds.height())}.bind(this)),this.plugin.hashChildShapes(this.lane),this.shapeChildren.each(function(e){e.shape.bounds.set(e.bounds),e.shape.bounds.moveBy(t.x-30-30*i,0),this.changes[e.shape.getId()]||(this.changes[e.shape.getId()]=this.computeChanges(e.shape,this.shape,this.lane,0)),this.lane.add(e.shape)}.bind(this)),this.lane.bounds.moveBy(0,t.y-e.y)):t.y>e.y&&this.shapeChildren.each(function(e){e.shape.bounds.set(e.bounds),e.shape.bounds.moveBy(t.x-30-30*i,this.lane.bounds.height()),this.changes[e.shape.getId()]||(this.changes[e.shape.getId()]=this.computeChanges(e.shape,this.shape,this.lane,0)),this.lane.add(e.shape)}.bind(this))}var n=this.lane.bounds.height(),s=1===this.lane.length?this.parentHeight:this.lane.bounds.height()+this.shape.bounds.height();this.setHeight(s,n,this.parent,this.parentHeight,!0),this.plugin.getLanes(this.parent).each(function(e){this.changes[e.getId()]||e===this.lane||e===this.shape||(this.changes[e.getId()]=this.computeChanges(e,this.parent,this.parent,0))}.bind(this)),this.update()}}},{key:"setHeight",value:function(e,t,i,n,s){console.log("setHeight!!!!"),this.plugin.setDimensions(this.lane,this.lane.bounds.width(),e),this.plugin.hashedBounds[this.pool.id][this.lane.id]=this.lane.absoluteBounds(),this.plugin.adjustHeight(this.plugin.getLanes(i),this.lane),!0===s&&(this.changes[this.shape.getId()]=this.computeChanges(this.shape,i,i,0,t,e)),this.plugin.setDimensions(i,i.bounds.width(),n),i!==this.pool&&this.plugin.setDimensions(this.pool,this.pool.bounds.width(),this.pool.bounds.height()+(e-t))}},{key:"update",value:function(){this.plugin.hashedBounds[this.pool.id]["REMOVED"]=!0}},{key:"rollback",value:function(){var e=this.laneUpperLeft,t=this.shapeUpperLeft;this.changes.each(function(i){var n=i.value.oldParent,s=i.value.shape,a=(i.value.parentHeight,i.value.oldHeight),o=i.value.newHeight;s.getStencil().id().endsWith("Lane")&&s.bounds.moveTo(i.value.oldPosition),a?(this.setHeight(a,o,n,n.bounds.height()+(a-o)),e.y>=t.y&&this.lane.bounds.moveBy(0,this.shape.bounds.height()-1)):(n.add(s),s.bounds.moveTo(i.value.oldPosition))}.bind(this))}},{key:"executeAgain",value:function(){this.changes.each(function(e){var t=e.value.newParent,i=e.value.shape,n=e.value.newHeight,s=e.value.oldHeight;if(n){var a=this.laneUpperLeft.y,o=this.shapeUpperLeft.y;a>=o&&this.lane.bounds.moveBy(0,o-a),this.setHeight(n,s,t,t.bounds.height()+(n-s))}else t.add(i),i.bounds.moveTo(e.value.newPosition)}.bind(this)),this.update()}},{key:"computeChanges",value:function(e,t,i,n,s,a){t=this.changes[e.getId()]?this.changes[e.getId()].oldParent:t;var o=this.changes[e.getId()]?this.changes[e.getId()].oldPosition:e.bounds.upperLeft(),r=e.bounds.upperLeft(),c={x:r.x,y:r.y+n},h={shape:e,parentHeight:t.bounds.height(),oldParent:t,oldPosition:o,oldHeight:s,newParent:i,newPosition:c,newHeight:a};return h}}]),t}(u["a"]),be=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),Object(M["a"])(Object(x["a"])(i),"hashedPoolPositions",{}),Object(M["a"])(Object(x["a"])(i),"hashedLaneDepth",{}),Object(M["a"])(Object(x["a"])(i),"hashedBounds",{}),Object(M["a"])(Object(x["a"])(i),"hashedPositions",{}),Object(M["a"])(Object(x["a"])(i),"hashedSubProcesses",{}),i.facade=e,i.facade.registerOnEvent(g["a"].EVENT_DRAGDOCKER_DOCKED,i.handleDockerDocked.bind(Object(x["a"])(i))),i.facade.registerOnEvent("layout.bpmn2_0.pool",i.handleLayoutPool.bind(Object(x["a"])(i))),i.facade.registerOnEvent("layout.bpmn2_0.subprocess",i.handleSubProcess.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_SHAPEREMOVED,i.handleShapeRemove.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_LOADED,i.afterLoad.bind(Object(x["a"])(i))),i.namespace=void 0,i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"afterLoad",value:function(){this.facade.getCanvas().getChildNodes().each(function(e){e.getStencil().id().endsWith("Pool")&&this.handleLayoutPool({shape:e})}.bind(this))}},{key:"onSelectionChanged",value:function(e){var t=e.elements;if(this.currentSelection=t,t&&1===t.length){var i=this.getNamespace(),n=t[0],s=n.getStencil().idWithoutNs();if(s.endsWith("Pool")&&0===n.getChildNodes().length){var a="Lane";"V-Pool"===s&&(a="V-Lane");var o={type:i+a,position:{x:0,y:0},namespace:n.getStencil().namespace(),parent:n};this.facade.createShape(o),this.facade.getCanvas().update(),this.facade.setSelection([n])}}}},{key:"handleShapeRemove",value:function(e){var t=e.shape,i=e.parent;if(t instanceof L["a"]&&t.getStencil().id().endsWith("Lane")&&this.facade.isExecutingCommands()){var n=this.getParentPool(i);if(n&&n.parent){var s=function(e){return!e.getChildNodes().any(function(e){return e.getStencil().id().endsWith("Lane")})},a=s(t),o=i.getChildNodes().any(function(e){return e.getStencil().id().endsWith("Lane")});if(a&&o){var g=new Se(t,i,n,this);this.facade.executeCommands([g])}else if(a||this.facade.getSelection().any(function(e){return e instanceof L["a"]&&e.getStencil().id().endsWith("Lane")&&e.isParent(t)&&s(e)}))a&&!o&&i==n&&i.add(t);else{var A=function(e){function t(e,i){var n;return Object(l["a"])(this,t),n=Object(r["a"])(this,Object(c["a"])(t).call(this)),n.children=e.getChildNodes(!0),n.facade=i,n}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.children.each(function(e){e.bounds.moveBy(30,0)})}},{key:"rollback",value:function(){this.children.each(function(e){e.bounds.moveBy(-30,0)})}}]),t}(u["a"]);this.facade.executeCommands([new A(t,this.facade)])}}}}},{key:"hashChildShapes",value:function(e){var t=e.getChildNodes();t.each(function(e){this.hashedSubProcesses[e.id]&&(this.hashedSubProcesses[e.id]=e.absoluteXY(),this.hashedSubProcesses[e.id].width=e.bounds.width(),this.hashedSubProcesses[e.id].height=e.bounds.height(),this.hashChildShapes(e))}.bind(this))}},{key:"handleSubProcess",value:function(e){var t=e.shape;if(!this.hashedSubProcesses[t.id])return this.hashedSubProcesses[t.id]=t.absoluteXY(),this.hashedSubProcesses[t.id].width=t.bounds.width(),void(this.hashedSubProcesses[t.id].height=t.bounds.height());var i=t.absoluteXY();i.x-=this.hashedSubProcesses[t.id].x,i.y-=this.hashedSubProcesses[t.id].y;var n=this.hashedSubProcesses[t.id].width!==t.bounds.width()||this.hashedSubProcesses[t.id].height!==t.bounds.height();this.hashedSubProcesses[t.id]=t.absoluteXY(),this.hashedSubProcesses[t.id].width=t.bounds.width(),this.hashedSubProcesses[t.id].height=t.bounds.height(),this.hashChildShapes(t),this.facade.isExecutingCommands()&&!n&&this.moveChildDockers(t,i)}},{key:"moveChildDockers",value:function(e,t){if(t.x||t.y){var i=e.getChildNodes(!0),n=i.map(function(e){return[].concat(e.getIncomingShapes()).concat(e.getOutgoingShapes())}).flatten().uniq().map(function(e){return e.dockers.length>2?e.dockers.slice(1,e.dockers.length-1):[]}).flatten(),s=e.absoluteBounds();s.moveBy(-t.x,-t.y);var a={};n.each(function(e){if(!e.isChanged){var n=Object.clone(t);if(!s.isIncluded(e.bounds.center())){var o=e.parent.dockers.indexOf(e),r=e.parent.dockers.length,c=e.parent.getSource(),h=e.parent.getTarget(),l=i.include(c)&&i.include(h);if(!l){var d=0!==o&&s.isIncluded(e.parent.dockers[o-1].bounds.center()),u=o!==r-1&&s.isIncluded(e.parent.dockers[o+1].bounds.center());if(!d&&!u)return;var g=e.parent.dockers[d?o-1:o+1];if(Math.abs(-Math.abs(g.bounds.center().x-e.bounds.center().x))<2)n.y=0;else{if(!(Math.abs(-Math.abs(g.bounds.center().y-e.bounds.center().y))<2))return;n.x=0}}}a[e.getId()]={docker:e,offset:n}}}),this.facade.executeCommands([new me["a"](a)])}}},{key:"handleDockerDocked",value:function(e){var t=this.getNamespace(),i=e.parent,n=e.target;if(i.getStencil().id()===t+"SequenceFlow"){var s=n.getStencil().groups().find(function(e){if("Gateways"==e)return e});s||"Expression"!=i.properties["oryx-conditiontype"]?i.setProperty("oryx-showdiamondmarker",!1):i.setProperty("oryx-showdiamondmarker",!0),this.facade.getCanvas().update()}}},{key:"handleLayoutPool",value:function(e){var t=e.shape,i=this.facade.getSelection(),n=i.include(t)?t:i.first();if(n=n||t,this.currentPool=t,(n.getStencil().id().endsWith("Pool")||n.getStencil().id().endsWith("Lane"))&&(n===t||n.isParent(t)||this.hashedBounds[t.id][n.id])){this.hashedBounds[t.id]||(this.hashedBounds[t.id]={});var s=this.getLanes(t);if(!(s.length<=0)){var a=this.getLanes(t,!0),o=a.clone(),g=new Hash;if(a.each(function(e){g.set(e.id,e.bounds.upperLeft())}),1===s.length&&this.getLanes(s.first()).length<=0){var A=s.first().properties.get("oryx-name").trim().length>0;s.first().setProperty("oryx-showcaption",A);var p=s.first().node.getElementsByTagName("rect");p[0].setAttributeNS(null,"display","none")}else a.invoke("setProperty","oryx-showcaption",!0),a.each(function(e){var t=e.node.getElementsByTagName("rect");t[0].removeAttributeNS(null,"display")});var f=[],E=[],v=-1;while(++v<a.length)this.hashedBounds[t.id][a[v].id]||E.push(a[v]);E.length>0&&(n=E.first());var _,m,S,b,O,y=$H(this.hashedBounds[t.id]).keys();v=-1;while(++v<y.length)a.any(function(e){return e.id==y[v]})||(f.push(this.hashedBounds[t.id][y[v]]),i=i.without(function(e){return e.id==y[v]}));var T={x:0,y:0},C=t.getStencil().idWithoutNs();if(f.length>0||E.length>0)_=1===E.length&&1===this.getLanes(E[0].parent).length&&"Pool"===C?this.adjustHeight(s,E[0].parent):this.updateHeight(t),m="V-Pool"===C?this.updateVPoolWidth(s,t):this.adjustWidth(s,t.bounds.width()),t.update();else if(t==n){var N=this.hashedPoolPositions[t.id],I=t.bounds;this.adjustPoolBothendsLanes(t,s,N,I),"V-Pool"===C?m=t.bounds.width():(_=t.bounds.height(),m=this.adjustWidth(s,t.bounds.width()))}else{if(1===i.length&&this.isResized(n,this.hashedBounds[t.id][n.id])){var R=this.hashedBounds[t.id][n.id].upperLeft(),P=n.absoluteXY();S=R.x-P.x,b=R.y-P.y,(S||b)&&(o=o.without(n),this.adjustLanes(t,this.getAllExcludedLanes(t,n),S,0))}var k,L=a.map(function(e){return{shape:e,bounds:e.bounds.clone()}}),D=n.orderSort,x=this.hashedBounds[t.id][n.id],w=n.absoluteBounds();"V-Pool"===C?(x.a.x!==w.a.x&&D>0&&(k=s[D-1],k.bounds.extend({x:w.a.x-x.a.x,y:0}),this.hashedBounds[t.id][k.id]=k.absoluteBounds(),n.bounds.extend({x:w.a.x-x.a.x,y:0}),n.bounds.moveBy({x:x.a.x-w.a.x,y:0}),this.hashedBounds[t.id][n.id]=n.absoluteBounds(),n=k,S=0),O={a:{x:x.a.x,y:30},b:{x:t.bounds.b.x,y:t.bounds.b.y}},T={x:w.a.x-x.a.x,y:0},m=this.updateVPoolWidth(s,t)):(x.a.y!==w.a.y&&D>0&&(k=s[D-1],k.bounds.extend({x:0,y:w.a.y-x.a.y}),this.hashedBounds[t.id][k.id]=k.absoluteBounds(),n.bounds.extend({x:0,y:w.a.y-x.a.y}),n.bounds.moveBy({x:0,y:x.a.y-w.a.y}),this.hashedBounds[t.id][n.id]=n.absoluteBounds(),n=k,b=0),L=a.map(function(e){return{shape:e,bounds:e.bounds.clone()}}),a.each(function(e){g.set(e.id,e.bounds.upperLeft())}),O={a:{x:30,y:x.a.y},b:{x:t.bounds.b.x,y:t.bounds.b.y}},T={x:0,y:w.a.y-x.a.y},_=this.adjustHeight(s,n),this.checkForChanges(a,L),m=t.bounds.width())}if(this.setDimensions(t,m,_,S,b),this.facade.isExecutingCommands()&&(0===f.length||0!==E.length)){this.updateDockers(o,t);var M=this.hashedPositions[t.id];if(M&&M.keys().any(function(e,t){return(a[t]||{}).id!==e})){var B=function(e){function t(e,i,n,s,a){var o;return Object(l["a"])(this,t),o=Object(r["a"])(this,Object(c["a"])(t).call(this)),o.originPosition=Object.clone(e),o.newPosition=Object.clone(i),o.lanes=n,o.plugin=s,o.pool=a,o}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.executed||(this.executed=!0,this.lanes.each(function(e){this.newPosition[e.id]&&e.bounds.moveTo(this.newPosition[e.id])}.bind(this)),this.plugin.hashedPositions[this.pool]=Object.clone(this.newPosition))}},{key:"rollback",value:function(){this.lanes.each(function(e){this.originPosition[e.id]&&e.bounds.moveTo(this.originPosition[e.id])}.bind(this)),this.plugin.hashedPositions[this.pool]=Object.clone(this.originPosition)}}]),t}(u["a"]),U=new Hash;a.each(function(e){U.set(e.id,e.bounds.upperLeft())});var V=new B(g,U,a,this,t.id);this.facade.executeCommands([V])}}this.hashedBounds[t.id]={},this.hashedPositions[t.id]=g,v=-1;while(++v<a.length)this.hashedBounds[t.id][a[v].id]=a[v].absoluteBounds(),this.hashChildShapes(a[v]),this.hashedLaneDepth[a[v].id]=this.getDepth(a[v],t),this.forceToUpdateLane(a[v]);0===T.x&&0===T.y||this.nodesInLaneMoveby(O,T),this.hashedPoolPositions[t.id]=t.bounds.clone()}}}},{key:"shouldScale",value:function(e){var t=e.getChildNodes().findAll(function(e){return e.getStencil().id().endsWith("Lane")});return t.length>1||t.any(function(e){return this.shouldScale(e)}.bind(this))}},{key:"checkForChanges",value:function(e,t){if(this.facade.isExecutingCommands()&&t.any(function(e){return e.shape.bounds.toString()!==e.bounds.toString()})){var i=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this)),i.oldState=e,i.newState=e.map(function(e){return{shape:e.shape,bounds:e.bounds.clone()}}),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.executed&&this.applyState(this.newState),this.executed=!0}},{key:"rollback",value:function(){this.applyState(this.oldState)}},{key:"applyState",value:function(e){e.each(function(e){e.shape.bounds.set(e.bounds.upperLeft(),e.bounds.lowerRight())})}}]),t}(u["a"]);this.facade.executeCommands([new i(t)])}}},{key:"isResized",value:function(e,t){if(!t||!e)return!1;var i=t;return 0!==Math.round(i.width()-e.bounds.width())||0!==Math.round(i.height()-e.bounds.height())}},{key:"adjustPoolBothendsLanes",value:function(e,t,i,n){var s,a=t.length;if("Pool"===e.getStencil().idWithoutNs()){if(i.a.y!==n.a.y&&i.b.y!==n.b.y)return;i.a.y!==n.a.y?(s=t[0],s.bounds.extend({x:0,y:i.a.y-n.a.y}),this.adjustHeight(t,s)):i.b.y!==n.b.y&&(s=t[a-1],s.bounds.extend({x:0,y:n.b.y-i.b.y}),this.hashedBounds[e.id][s.id].extend({x:0,y:n.b.y-i.b.y}))}else{if(i.a.x!==n.a.x&&i.b.x!==n.b.x)return;i.a.x!==n.a.x?(s=t[0],s.bounds.extend({x:i.a.x-n.a.x,y:0}),this.adjustVLaneWidth(t,s)):i.b.x!==n.b.x&&(s=t[a-1],s.bounds.extend({x:n.b.x-i.b.x,y:0}),this.hashedBounds[e.id][s.id].extend({x:n.b.x-i.b.x,y:0}))}}},{key:"findCanvasNodes",value:function(){var e=this.facade.getCanvas().getChildShapes(!0).findAll(function(e){return e instanceof L["a"]});return e}},{key:"nodesInLaneMoveby",value:function(e,t){var i=this.facade.getCanvas().getChildShapes(!0),n=i.findAll(function(t){if(t instanceof L["a"]){var i=t.absoluteBounds(),n=i.upperLeft(),s=i.lowerRight();if(n.x>e.a.x&&n.y>e.a.y&&s.x<e.b.x&&s.y<e.b.y)return!0}return!1}),s=[new ae["a"](n,t,null,this.currentSelection,this)];this.facade.executeCommands(s)}},{key:"updatePositionNodesInBound",value:function(e,t,i,n,s){var a=e.absoluteBounds();console.log(a.a.y,a.b.y);var o=t.findAll(function(e){var t=e.absoluteBounds(),o=t.upperLeft(),r=t.lowerRight();if(console.log(o.y,r.y,e.node),o.x>a.a.x&&o.y>a.a.y&&r.x<a.b.x&&r.y<a.b.y){var c=s?e.bounds.center().y-e.bounds.center().y/s:-n;return console.log(233,i,-c),e.bounds.moveBy(i||0,c),!1}return!0});return o}},{key:"adjustLanes",value:function(e,t,i,n,s){s=s||0,t.each(function(t){t.getChildNodes().each(function(e){if(!e.getStencil().id().endsWith("Lane")){var t=s?e.bounds.center().y-e.bounds.center().y/s:-n;e.bounds.moveBy(i||0,-t),s&&e.getStencil().id().endsWith("Subprocess")&&this.moveChildDockers(e,{x:0,y:-t})}}.bind(this)),this.hashedBounds[e.id][t.id].moveBy(-(i||0),s?0:-n),s&&(t.isScaled=!0)}.bind(this))}},{key:"getAllExcludedLanes",value:function(e,t){var i=[];return e.getChildNodes().each(function(e){t&&e===t||!e.getStencil().id().endsWith("Lane")||(i.push(e),i=i.concat(this.getAllExcludedLanes(e,t)))}.bind(this)),i}},{key:"forceToUpdateLane",value:function(e){e.bounds.height()!==e._svgShapes[0].height&&(e.isChanged=!0,e.isResized=!0,e._update())}},{key:"getDepth",value:function(e,t){var i=0;while(e&&e.parent&&e!==t)e=e.parent,++i;return i}},{key:"updateDepth",value:function(e,t,i){var n=30*(t-i);e.getChildNodes().each(function(e){e.bounds.moveBy(n,0),[].concat(children[j].getIncomingShapes()).concat(children[j].getOutgoingShapes())})}},{key:"setDimensions",value:function(e,t,i,n,s){var a=e.getStencil().idWithoutNs();"Lane"===a?e.bounds.set(30,e.bounds.a.y,t?e.bounds.a.x+t-30:e.bounds.b.x,i?e.bounds.a.y+i:e.bounds.b.y):"V-Lane"===a?e.bounds.set(e.bounds.a.x,30,t?e.bounds.a.x+t:e.bounds.b.x,i?e.bounds.a.y+i-30:e.bounds.b.y):e.bounds.set(e.bounds.a.x-(n||0),e.bounds.a.y-(s||0),t?e.bounds.a.x+t-(n||0):e.bounds.b.x,i?e.bounds.a.y+i-(s||0):e.bounds.b.y)}},{key:"setLanePosition",value:function(e,t,i){"Lane"===e.getStencil().idWithoutNs()?e.bounds.moveTo(30,i):e.bounds.moveTo(t,30)}},{key:"updateVPoolWidth",value:function(e,t){if(0===e.length)return t.bounds.width();var i=0,n=-1;while(++n<e.length)e[n].bounds.set({x:i,y:30},{x:e[n].bounds.width()+i,y:e[n].bounds.height()+30}),i+=e[n].bounds.width();return this.setDimensions(t,i),i}},{key:"adjustVLaneWidth",value:function(e,t,i){var n=0;if(!t&&i){var s=-1;while(++s<e.length)n+=e[s].bounds.width()}var a=-1,o=0;while(++a<e.length){if(e[a]===t)this.adjustVLaneWidth(this.getLanes(e[a]),void 0,e[a].bounds.width()),e[a].bounds.set({x:o,y:30},{x:e[a].bounds.width()+o,y:e[a].bounds.height()+30});else if(!t&&i){var r=e[a].bounds.width()*i/n;this.adjustVLaneWidth(this.getLanes(e[a]),void 0,r),this.setDimensions(e[a],r,null),this.setLanePosition(e[a],o,null)}else{var c=this.adjustVLaneWidth(this.getLanes(e[a]),t,i);c||(c=e[a].bounds.width()),this.setDimensions(e[a],c,null),this.setLanePosition(e[a],o,null)}o+=e[a].bounds.width()}return o}},{key:"adjustWidth",value:function(e,t){return(e||[]).each(function(e){this.setDimensions(e,t),this.adjustWidth(this.getLanes(e),t-30)}.bind(this)),t}},{key:"adjustHeight",value:function(e,t,i){var n=0;if(!t&&i){var s=-1;while(++s<e.length)n+=e[s].bounds.height()}var a=-1,o=0;while(++a<e.length){if(e[a]===t)console.log("!!!!!!!!!!!!!!!"),this.adjustHeight(this.getLanes(e[a]),void 0,e[a].bounds.height()),e[a].bounds.set({x:30,y:o},{x:e[a].bounds.width()+30,y:e[a].bounds.height()+o});else if(!t&&i){var r=e[a].bounds.height()*i/n;this.adjustHeight(this.getLanes(e[a]),void 0,r),this.setDimensions(e[a],null,r),this.setLanePosition(e[a],null,o)}else{var c=this.adjustHeight(this.getLanes(e[a]),t,i);c||(c=e[a].bounds.height()),this.setDimensions(e[a],null,c),this.setLanePosition(e[a],null,o)}o+=e[a].bounds.height()}return o}},{key:"updateHeight",value:function(e){var t=this.getLanes(e);if(0===t.length||"V-Pool"===e.getStencil().idWithoutNs())return e.bounds.height();var i=0,n=-1;while(++n<t.length)this.setLanePosition(t[n],null,i),i+=this.updateHeight(t[n]);return this.setDimensions(e,null,i),i}},{key:"getOffset",value:function(e,t,i){var n={x:0,y:0};n=e.absoluteXY();var s=this.hashedBounds[i.id][e.id]||(!0===t?this.hashedPoolPositions[e.id]:void 0);return s?(n.x-=s.upperLeft().x,n.y-=s.upperLeft().y,n):{x:0,y:0}}},{key:"getNextLane",value:function(e){while(e&&!e.getStencil().id().endsWith("Lane")){if(e instanceof E["a"])return null;e=e.parent}return e}},{key:"getParentPool",value:function(e){while(e&&!e.getStencil().id().endsWith("Pool")){if(e instanceof E["a"])return null;e=e.parent}return e}},{key:"updateDockers",value:function(e,t){var i,n=t.absoluteBounds(),s=[],a=(this.hashedPoolPositions[t.id]||n).clone(),o=-1,g=-1,A=-1,p=-1,f={};while(++o<e.length)if(this.hashedBounds[t.id][e[o].id]){var E=e[o].isScaled;delete e[o].isScaled;var v=e[o].getChildNodes(),_=e[o].absoluteBounds(),m=this.hashedBounds[t.id][e[o].id]||_,S=this.getOffset(e[o],!0,t),b=0,O=this.getDepth(e[o],t);void 0!==this.hashedLaneDepth[e[o].id]&&this.hashedLaneDepth[e[o].id]!==O&&(b=30*(this.hashedLaneDepth[e[o].id]-O),S.x+=b),g=-1;while(++g<v.length){b&&!v[g].getStencil().id().endsWith("Lane")&&(s.push({xOffset:b,shape:v[g]}),v[g].bounds.moveBy(b,0)),v[g].getStencil().id().endsWith("Subprocess")&&this.moveChildDockers(v[g],S);var y=[].concat(v[g].getIncomingShapes()).concat(v[g].getOutgoingShapes()).findAll(function(e){return e instanceof U["a"]});A=-1;while(++A<y.length)if(y[A].getStencil().id().endsWith("MessageFlow"))this.layoutEdges(v[g],[y[A]],S);else{p=-1;while(++p<y[A].dockers.length)if(i=y[A].dockers[p],!i.getDockedShape()&&!i.isChanged){var T=i.bounds.center(),C=m.isIncluded(T),N=(a.isIncluded(T),0==p||m.isIncluded(y[A].dockers[p-1].bounds.center()),p==y[A].dockers.length-1||m.isIncluded(y[A].dockers[p+1].bounds.center()),Object.clone(S));if(E&&C&&this.isResized(e[o],this.hashedBounds[t.id][e[o].id])){var I=T.y-_.upperLeft().y+N.y;N.y-=I-I*(_.height()/m.height())}C&&(f[i.id]={docker:i,offset:N})}}}}var R=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this)),i.state=e,i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.executed&&this.state.each(function(e){e.shape.bounds.moveBy(e.xOffset,0)}),this.executed=!0}},{key:"rollback",value:function(){this.state.each(function(e){e.shape.bounds.moveBy(-e.xOffset,0)})}}]),t}(u["a"]);this.facade.executeCommands([new me["a"](f),new R(s)])}},{key:"moveBy",value:function(e,t){return e.x+=t.x,e.y+=t.y,e}},{key:"getHashedBounds",value:function(e){return this.currentPool&&this.hashedBounds[this.currentPool.id][e.id]?this.hashedBounds[this.currentPool.id][e.id]:e.absoluteBounds()}},{key:"getLanes",value:function(e,t){var i=this.getNamespace(),n=e.getStencil().idWithoutNs(),s="Lane";"V-Pool"===n&&(s="V-Lane");var a=e.getChildNodes(t||!1).findAll(function(e){return e.getStencil().id()===i+s});return a="Lane"===s?a.sort(function(e,t){var i=Math.round(e.bounds.upperLeft().y),n=Math.round(t.bounds.upperLeft().y),s=Math.round(e.bounds.lowerRight().y),a=Math.round(t.bounds.lowerRight().y),o=this.getHashedBounds(e),r=this.getHashedBounds(t),c=Math.round(o.upperLeft().y),h=Math.round(r.upperLeft().y),l=Math.round(o.lowerRight().y),d=Math.round(r.lowerRight().y);if(i==n&&s==a&&(i=c,n=h,s=l,a=d),0===Math.round(e.bounds.height()-o.height())&&0===Math.round(t.bounds.height()-r.height()))return i<n?-1:i>n?1:0;var u=i<n&&s<a,g=i>n&&s>a,A=i<n&&s>=a&&l<d,p=i>=n&&s<a&&c<h,f=i>n&&s<=a&&l>d,E=i<=n&&s>a&&c>h;return u||A||p?-1:g||f||E?1:0}.bind(this)):a.sort(function(e,t){var i=Math.round(e.bounds.upperLeft().x),n=Math.round(t.bounds.upperLeft().x),s=Math.round(e.bounds.lowerRight().x),a=Math.round(t.bounds.lowerRight().x),o=this.getHashedBounds(e),r=this.getHashedBounds(t),c=Math.round(o.upperLeft().x),h=Math.round(r.upperLeft().x),l=Math.round(o.lowerRight().x),d=Math.round(r.lowerRight().x);if(i==n&&s==a&&(i=c,n=h,s=l,a=d),0===Math.round(e.bounds.width()-o.width())&&0===Math.round(t.bounds.width()-r.width()))return i<n?-1:i>n?1:0;var u=i<n&&s<a,g=i>n&&s>a,A=i<n&&s>=a&&l<d,p=i>=n&&s<a&&c<h,f=i>n&&s<=a&&l>d,E=i<=n&&s>a&&c>h;return u||A||p?-1:g||f||E?1:0}.bind(this)),a.each(function(e,t){e.orderSort=t}),console.log("lanes",a),a}},{key:"getNamespace",value:function(){if(!this.namespace){var e=this.facade.getStencilSets();if(!e.keys())return;this.namespace=e.keys()[0]}return this.namespace}}]),t}(D);Array.prototype.insertFrom=function(e,t){t=Math.max(0,t),e=Math.min(Math.max(0,e),this.length-1);var i=this[e],n=this.without(i),s=n.slice(0,t);return s.push(i),n.length>t&&(s=s.concat(n.slice(t))),s};var Oe=function(e){function t(e){var i;Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),i.facade=e;var n={Arrangement:{am:"Alignment Middle",groupA:"Alignment",amDesc:"Middle",ac:"Alignment Center",acDesc:"Center",as:"Alignment Same Size",asDesc:"Same Size"}};return i.facade.offer({name:n.Arrangement.am,functionality:i.alignShapes.bind(Object(x["a"])(i),[g["a"].EDITOR_ALIGN_MIDDLE]),group:n.Arrangement.groupA,icon:g["a"].PATH+"images/shape_align_middle.png",description:n.Arrangement.amDesc,index:1,minShape:2}),i.facade.offer({name:n.Arrangement.ac,functionality:i.alignShapes.bind(Object(x["a"])(i),[g["a"].EDITOR_ALIGN_CENTER]),group:n.Arrangement.groupA,icon:g["a"].PATH+"images/shape_align_center.png",description:n.Arrangement.acDesc,index:2,minShape:2}),i.facade.offer({name:n.Arrangement.as,functionality:i.alignShapes.bind(Object(x["a"])(i),[g["a"].EDITOR_ALIGN_SIZE]),group:n.Arrangement.groupA,icon:g["a"].PATH+"images/shape_align_size.png",description:n.Arrangement.asDesc,index:3,minShape:2}),i.facade.registerOnEvent(g["a"].EVENT_ARRANGEMENT_TOP,i.setZLevel.bind(Object(x["a"])(i),i.setToTop)),i.facade.registerOnEvent(g["a"].EVENT_ARRANGEMENT_BACK,i.setZLevel.bind(Object(x["a"])(i),i.setToBack)),i.facade.registerOnEvent(g["a"].EVENT_ARRANGEMENT_FORWARD,i.setZLevel.bind(Object(x["a"])(i),i.setForward)),i.facade.registerOnEvent(g["a"].EVENT_ARRANGEMENT_BACKWARD,i.setZLevel.bind(Object(x["a"])(i),i.setBackward)),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"onSelectionChanged",value:function(e){var t=this.facade.getSelection();1===t.length&&t[0]instanceof U["a"]&&this.setToTop(t)}},{key:"setZLevel",value:function(e,t){var i=function(e){function t(e,i,n){var s;return Object(l["a"])(this,t),s=Object(r["a"])(this,Object(c["a"])(t).call(this)),s.callback=e,s.elements=i,s.elAndIndex=i.map(function(e){return{el:e,previous:e.parent.children[e.parent.children.indexOf(e)-1]}}),s.facade=n,s}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"execute",value:function(){this.callback(this.elements),this.facade.setSelection(this.elements)}},{key:"rollback",value:function(){for(var e=this.elAndIndex.sortBy(function(e){var t=e.el,i=$A(t.node.parentNode.childNodes);return i.indexOf(t.node)}),t=0;t<e.length;t++){var i=e[t].el,n=i.parent,s=n.children.indexOf(i),a=n.children.indexOf(e[t].previous);a=a||0,n.children=n.children.insertFrom(s,a),i.node.parentNode.insertBefore(i.node,i.node.parentNode.childNodes[a+1])}this.facade.setSelection(this.elements)}}]),t}(u["a"]),n=new i(e,this.facade.getSelection(),this.facade);t.excludeCommand?n.execute():this.facade.executeCommands([n])}},{key:"setToTop",value:function(e){var t=e.sortBy(function(e,t){var i=$A(e.node.parentNode.childNodes);return i.indexOf(e.node)});t.each(function(e){var t=e.parent;t.children.last()!==e&&(t.children=t.children.without(e),t.children.push(e),e.node.parentNode.appendChild(e.node))})}},{key:"setToBack",value:function(e){var t=e.sortBy(function(e,t){var i=$A(e.node.parentNode.childNodes);return i.indexOf(e.node)});t=t.reverse(),t.each(function(e){var t=e.parent;t.children=t.children.without(e),t.children.unshift(e),e.node.parentNode.insertBefore(e.node,e.node.parentNode.firstChild)})}},{key:"setBackward",value:function(e){var t=e.sortBy(function(e,t){var i=$A(e.node.parentNode.childNodes);return i.indexOf(e.node)});t=t.reverse();var i=t.findAll(function(e){return!t.some(function(t){return t.node==e.node.previousSibling})});i.each(function(e){if(null!==e.node.previousSibling){var t=e.parent,i=t.children.indexOf(e);t.children=t.children.insertFrom(i,i-1),e.node.parentNode.insertBefore(e.node,e.node.previousSibling)}})}},{key:"setForward",value:function(e){var t=e.sortBy(function(e,t){var i=$A(e.node.parentNode.childNodes);return i.indexOf(e.node)}),i=t.findAll(function(e){return!t.some(function(t){return t.node==e.node.nextSibling})});i.each(function(e){var t=e.node.nextSibling;if(null!==t){var i=e.parent.children.indexOf(e),n=e.parent;n.children=n.children.insertFrom(i,i+1),e.node.parentNode.insertBefore(t,e.node)}})}},{key:"alignShapes",value:function(e){var t=this.facade.getSelection();if(t=this.facade.getCanvas().getShapesWithSharedParent(t),t=t.findAll(function(e){return e instanceof L["a"]}),t=t.findAll(function(e){var i=e.getIncomingShapes();return 0==i.length||!t.include(i[0])}),!(t.length<2)){var i=t[0].absoluteBounds().clone();t.each(function(e){i.include(e.absoluteBounds().clone())});var n=0,s=0;t.each(function(e){n=Math.max(e.bounds.width(),n),s=Math.max(e.bounds.height(),s)});var a=function(e){function t(e,i,n,s,a,o){var h;return Object(l["a"])(this,t),h=Object(r["a"])(this,Object(c["a"])(t).call(this)),h.elements=e,h.bounds=i,h.maxHeight=n,h.maxWidth=s,h.way=a,h.facade=o.facade,h.plugin=o,h.orgPos=[],h}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"setBounds",value:function(e,t){if(t||(t={width:g["a"].CustomConfigs.MAXIMUM_SIZE,height:g["a"].CustomConfigs.MAXIMUM_SIZE}),!e.bounds)throw"Bounds not definined.";var i={a:{x:e.bounds.upperLeft().x-(this.maxWidth-e.bounds.width())/2,y:e.bounds.upperLeft().y-(this.maxHeight-e.bounds.height())/2},b:{x:e.bounds.lowerRight().x+(this.maxWidth-e.bounds.width())/2,y:e.bounds.lowerRight().y+(this.maxHeight-e.bounds.height())/2}};this.maxWidth>t.width&&(i.a.x=e.bounds.upperLeft().x-(t.width-e.bounds.width())/2,i.b.x=e.bounds.lowerRight().x+(t.width-e.bounds.width())/2),this.maxHeight>t.height&&(i.a.y=e.bounds.upperLeft().y-(t.height-e.bounds.height())/2,i.b.y=e.bounds.lowerRight().y+(t.height-e.bounds.height())/2),e.bounds.set(i)}},{key:"execute",value:function(){this.elements.each(function(e,t){this.orgPos[t]=e.bounds.upperLeft();var i,n=this.bounds.clone();if(e.parent&&!(e.parent instanceof E["a"])){var s=e.parent.absoluteBounds().upperLeft();n.moveBy(-s.x,-s.y)}switch(this.way){case g["a"].EDITOR_ALIGN_BOTTOM:i={x:e.bounds.upperLeft().x,y:n.b.y-e.bounds.height()};break;case g["a"].EDITOR_ALIGN_MIDDLE:i={x:e.bounds.upperLeft().x,y:(n.a.y+n.b.y-e.bounds.height())/2};break;case g["a"].EDITOR_ALIGN_TOP:i={x:e.bounds.upperLeft().x,y:n.a.y};break;case g["a"].EDITOR_ALIGN_LEFT:i={x:n.a.x,y:e.bounds.upperLeft().y};break;case g["a"].EDITOR_ALIGN_CENTER:i={x:(n.a.x+n.b.x-e.bounds.width())/2,y:e.bounds.upperLeft().y};break;case g["a"].EDITOR_ALIGN_RIGHT:i={x:n.b.x-e.bounds.width(),y:e.bounds.upperLeft().y};break;case g["a"].EDITOR_ALIGN_SIZE:e.isResizable&&(this.orgPos[t]={a:e.bounds.upperLeft(),b:e.bounds.lowerRight()},this.setBounds(e,e.maximumSize));break}if(i){var a={x:e.bounds.upperLeft().x-i.x,y:e.bounds.upperLeft().y-i.y};e.bounds.moveTo(i),this.plugin.layoutEdges(e,e.getAllDockedShapes(),a)}}.bind(this))}},{key:"rollback",value:function(){this.elements.each(function(e,t){this.way==g["a"].EDITOR_ALIGN_SIZE?e.isResizable&&e.bounds.set(this.orgPos[t]):e.bounds.moveTo(this.orgPos[t])}.bind(this))}}]),t}(u["a"]),o=new a(t,i,s,n,q()(e),this);this.facade.executeCommands([o])}}}]),t}(D),ye=["oryx-department","oryx-activerole","oryx-activesystem"],Te=function(e){function t(e){var i;return Object(l["a"])(this,t),i=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),i.facade=e,i.poolH={},i.poolV={},i.facade.registerOnEvent("layout.bpmn2_0.pool",i.handleLayoutPool.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_PROPWINDOW_PROP_CHANGED,i.handlePropertyChanged.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_SHAPEREMOVED,i.handleShapeRemove.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_DRAGDROP_END,i.handleDragdropEnd.bind(Object(x["a"])(i))),i.facade.registerOnEvent("newshape_addin_canvas",i.handleAddShape.bind(Object(x["a"])(i))),i.facade.registerOnEvent("shape_refreshed",i.handleShapeRefreshed.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_MOUSEOVER,i.handleMouseOver.bind(Object(x["a"])(i))),i.facade.registerOnEvent(g["a"].EVENT_MOUSEOUT,i.handleMouseOut.bind(Object(x["a"])(i))),i}return Object(h["a"])(t,e),Object(d["a"])(t,[{key:"onSelectionChanged",value:function(e){this.currentShapes=e.elements}},{key:"getAllLanes",value:function(e,t){var i=[];for(var n in e){var s=e[n],a=s.getChildNodes(t||!1).findAll(function(e){return e.getStencil().id().endsWith("Lane")});i=i.concat(a)}return i}},{key:"handleLayoutPool",value:function(e){var t=e.shape,i=t.id,n=t.getStencil().idWithoutNs();"Pool"===n?this.poolH[i]=t:"V-Pool"===n&&(this.poolV[i]=t),this.allUserTasks=this.findUserTaskInBound(),this.setNodesWhenLayoutPool(this.poolH),this.setNodesWhenLayoutPool(this.poolV)}},{key:"handleShapeRemove",value:function(e){console.log("handleShapeRemove",e);var t=e.shape;if(t instanceof L["a"]){var i=t.getStencil().idWithoutNs();"Pool"===i?delete this.poolH[t.id]:"V-Pool"===i&&delete this.poolV[t.id]}}},{key:"findUserTaskInBound",value:function(){var e=this.facade.getCanvas().getChildShapes(!0).findAll(function(e){return!!(e instanceof L["a"]&&e.getStencil().id().endsWith("UserTask"))});return e}},{key:"setNodesWhenLayoutPool",value:function(e,t){var i=this.getAllLanes(e),n=-1,s=t||jQuery.extend(!0,[],this.allUserTasks);while(++n<i.length)s=this.setPropertiesWinthinLane(i[n],s)}},{key:"setPropertiesWinthinLane",value:function(e,t){var i=e.absoluteBounds(),n=t.findAll(function(t){var n=t.absoluteBounds(),s=n.upperLeft(),a=n.lowerRight();return!(s.x>i.a.x&&s.y>i.a.y&&a.x<i.b.x&&a.y<i.b.y)||(ye.map(function(i){var n=e.properties.get(i);n&&t.setProperty(i,n)}),!1)});return n}},{key:"handlePropertyChanged",value:function(e){var t=e.elements,i=e.key,n=e.value;console.log("propertyKey",i);var s=!1;t.each(function(e){if(e.getStencil().id().endsWith("SequenceFlow")&&"oryx-conditiontype"===i){if("Expression"!=n)e.setProperty("oryx-showdiamondmarker",!1);else{var t=e.getIncomingShapes();t||e.setProperty("oryx-showdiamondmarker",!0);var a=t.find(function(e){var t=e.getStencil().groups().find(function(e){if("Gateways"==e)return e});if(t)return t});a?e.setProperty("oryx-showdiamondmarker",!1):e.setProperty("oryx-showdiamondmarker",!0)}s=!0}}.bind(this)),s&&this.facade.getCanvas().update()}},{key:"handleDragdropEnd",value:function(){this.setNodesWhenLayoutPool(this.poolH,this.currentShapes),this.setNodesWhenLayoutPool(this.poolV,this.currentShapes),this.facade.getCanvas().update(),this.facade.updateSelection()}},{key:"findInWhichLane",value:function(e,t){var i=this.getAllLanes(e),n=-1,s=!1,a=t.absoluteBounds(),o=a.upperLeft(),r=a.lowerRight();while(++n<i.length&&!s){var c=i[n].absoluteBounds();o.x>c.a.x&&o.y>c.a.y&&r.x<c.b.x&&r.y<c.b.y&&ye.map(function(e){var s=i[n].properties.get(e);s&&t.setProperty(e,s)})}}},{key:"handleAddShape",value:function(e){var t=e.shape;console.log(444),"UserTask"===t.getStencil().idWithoutNs()&&(this.findInWhichLane(this.poolH,t),this.findInWhichLane(this.poolV,t))}},{key:"handleShapeRefreshed",value:function(e){}},{key:"handleMouseOver",value:function(e,t){}},{key:"handleMouseOut",value:function(e,t){}}]),t}(D),Ce={availablePlugins:[],AbstractPlugin:D,AbstractLayouter:w,Edit:Y,View:F,Loading:z,CanvasResize:K,CanvasResizeButton:G,RenameShapes:J,ProcessLink:ee,Save:te,SelectedRect:ie,DragDropResize:re,GridLine:ne,ShapeHighlighting:ce,HighlightingSelectedShapes:he,Resizer:se,DragDocker:ue,AddDocker:ge,SelectionFrame:Ae,Overlay:pe,KeysMove:fe,Layouter:_e,BPMN2_0:be,Arrangement:Oe,PoolAsProperty:Te,getProperties:function(e){if(!e)return[];var t=[];return e.forEach(function(e){var i=new o.a,n=s()(e);n.map(function(t){i.set(t,e[t])}),n.length>0&&t.push(i)}),t},_loadPlugins:function(e){var t=this,i=this.getProperties(e.properties),n=[];e.plugins.map(function(e){var s=new o.a;if(e.name){s.set("name",e.name);var a=t.getProperties(e.properties);a=a.concat(i),s.set("properties",a),n.push(s)}else A["a"].error("A plugin is not providing a name. Ingnoring this plugin.")}),this.availablePlugins=n}};t["a"]=Ce},"421a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADsSURBVDiNpVE7bsMwDCUZjb1Al9wgY4YAbVLnDpZNHqFTbtIOOUCBDobVpWuX6BYecgPvGWWzQ+EgHyOQUgJvEMj3+MSHqgr/KZMyzMxn26qqwiSBgXT6plSBy4oWEJHF3QJFUSxV9fsugSzLDCI+IyKP9fFWjCKy6vv+vW3bufc+JKegqq9EtPHeh4EwNnQFZl6VZfk11rvE1Q2stRNVfUPE7S13Q519QUSeiGjddd3cOdfFCBwdWGsfVPWTiHax5KMDZn4xxjyGEGbOuUMsGQBg0jTNlIh+AOCjrut9ChkA/lLI83wac/Ex/ALppKokayBOuQAAAABJRU5ErkJggg=="},4235:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAGiSURBVDiNrZOxbhNBEIb//+QmBR1PkCIvYLtxKvqkgCDd3rmxKICO0FhCBClCQkoFoYMoitL4vJZAKXBPZSMU/AIpeIJ0NBTgj8Lr6CRiIQQjrXb23/lnZmdmDaguIYQN26WkZlqSNJM0A6oY40XdPlsqtl2W5a7tCbAGHEtqSWoBx8Ca7Umy8RUPkG3neT62fSPLst5gMPiqa6Tb7a7P5/NT4NtoNNoCMKCyLHeBV9eRVontx1VVHTrP8w3bE0k300UE3q4gPQBCOl4Cmw3bJXBiuy/pCOjZ/lxV1WGdnLK8I+lI0v3EKTItKj1NEc6AHeCgLMt+jdwHDoAd22cJnkpqZZKats+XxjHGse1tYL8oir2iKPaAfdvbMcZx7TnnkpqNP9TqWdp/rjJoaDEg7WVrQwhbtt9Jem77oyQBt4APIYS7WZb9SFjb9qyhxZR1Enjbdg94EmN8WQv0KYTw3fZ74DRhHUlffmujpJGkNysyfigpT/olsPnvg/RfRjl5dFEUj4CnwImk6bK9QFtSx/Y92y+Gw+FrEvHKwVL+9jv/AlqzAw70R2T4AAAAAElFTkSuQmCC"},4346:function(e,t,i){"use strict";i.d(t,"a",function(){return h});i("7514");var n=i("d225"),s=i("b0b4"),a=i("af70"),o=i("a791"),r=i("0130"),c=i("f5b6"),h=function(){function e(t){Object(n["a"])(this,e),this.isChanged=!0,this.isResized=!0,this.isVisible=!0,this.isSelectable=!1,this.isResizable=!1,this.isMovable=!1,this.id=r["a"].provideId(),this.parent=void 0,this.node=void 0,this.children=[],this.bounds=new c["a"],this._changedCallback=this._changed.bind(this),this.bounds.registerCallback(this._changedCallback),t&&t.eventHandlerCallback&&(this.eventHandlerCallback=t.eventHandlerCallback)}return Object(s["a"])(e,[{key:"_changed",value:function(e,t){this.isChanged=!0,this.bounds==e&&(this.isResized=t||this.isResized)}},{key:"update",value:function(){this.isChanged&&(this.refresh(),this.isChanged=!1,this.children.each(function(e){e.update()}))}},{key:"refresh",value:function(){}},{key:"getChildren",value:function(){return this.children.clone()}},{key:"getParents",value:function(){var e=[],t=this.parent;while(t)e.push(t),t=t.parent;return e}},{key:"isParent",value:function(e){var t=this;while(t){if(t===e)return!0;t=t.parent}return!1}},{key:"getId",value:function(){return this.id}},{key:"getChildById",value:function(e,t){return this.children.find(function(i){if(i.getId()===e)return i;if(t){var n=i.getChildById(e,t);if(n)return n}})}},{key:"add",value:function(e){this.children.member(e)?o["a"].info("add: ORYX.Core.UIObject is already a child of this object."):(e.parent&&e.remove(e),this.children.push(e),e.parent=this,e.node=this.node.appendChild(e.node),e.bounds.registerCallback(this._changedCallback))}},{key:"remove",value:function(e){this.children.member(e)?(this.children=this._uiObjects.without(e),e.parent=void 0,e.node=this.node.removeChild(e.node),e.bounds.unregisterCallback(this._changedCallback)):o["a"].info("remove: ORYX.Core.UIObject is not a child of this object.")}},{key:"absoluteBounds",value:function(){if(this.parent){var e=this.absoluteXY();return new c["a"](e.x,e.y,e.x+this.bounds.width(),e.y+this.bounds.height())}return this.bounds.clone()}},{key:"absoluteXY",value:function(){if(this.parent){var e=this.parent.absoluteXY(),t={};return t.x=e.x+this.bounds.upperLeft().x,t.y=e.y+this.bounds.upperLeft().y,t}var i={};return i.x=this.bounds.upperLeft().x,i.y=this.bounds.upperLeft().y,i}},{key:"absoluteCenterXY",value:function(){if(this.parent){var e=this.parent.absoluteXY(),t={};return t.x=e.x+this.bounds.center().x,t.y=e.y+this.bounds.center().y,t}var i={};return i.x=this.bounds.center().x,i.y=this.bounds.center().y,i}},{key:"hide",value:function(){this.node.setAttributeNS(null,"display","none"),this.isVisible=!1,this.children.each(function(e){e.hide()})}},{key:"show",value:function(){this.node.setAttributeNS(null,"display","inherit"),this.isVisible=!0,this.children.each(function(e){e.show()})}},{key:"addEventHandlers",value:function(e){e.addEventListener(a["a"].EVENT_MOUSEDOWN,this._delegateEvent.bind(this),!1),e.addEventListener(a["a"].EVENT_MOUSEMOVE,this._delegateEvent.bind(this),!1),e.addEventListener(a["a"].EVENT_MOUSEUP,this._delegateEvent.bind(this),!1),e.addEventListener(a["a"].EVENT_MOUSEOVER,this._delegateEvent.bind(this),!1),e.addEventListener(a["a"].EVENT_MOUSEOUT,this._delegateEvent.bind(this),!1),e.addEventListener("click",this._delegateEvent.bind(this),!1),e.addEventListener(a["a"].EVENT_DBLCLICK,this._delegateEvent.bind(this),!1)}},{key:"_delegateEvent",value:function(e){this.eventHandlerCallback&&this.eventHandlerCallback(e,this)}},{key:"toString",value:function(){return"UIObject "+this.id}}]),e}()},4587:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNpZMxakJBEIb/cb2DwcpCRPAWvjssbwaLkAOYVqu8Z6OFTS6Qcgf2DkriKSxSpArkEMukyHuPF9Cgcapll+9j/lmGzAy3VOcmGkAXAJi5APB0JVuqatEBAFUtAJTXwkAVQUQmV0hKVS1EZNIIzGwnIuMLJDU8NrNdIwDQM7Od9374h6RU1cJ7P6zgXlsAAH3n3J6ZByckpaoWzDxwzu0B9OuHs9/YkjQDO1Xd1vkzpTSNMX6IyBLASw2KSA/Ag6quvfdT59xb3UUt+CKiLMb4zszPAOYA7mezWQb8DBnAiJnvYoyPIpKZ2WsTgYiyEMIxz/NtBQPAKKV0SCkdAIyqu3me59sQwpGIMgCgehdEZG1mi3NZ20VEmxDCsumAmVeXwlWkBTOvfnXw37p5G78B3j2V6xMVKeMAAAAASUVORK5CYII="},4883:function(e,t,i){"use strict";var n=2,s=8,a=4,o=1;function r(e,t,i,r,c,h){var l=0;return t>h?l|=s:t<r&&(l|=a),e>c?l|=n:e<i&&(l|=o),l}var c={midPoint:function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},isPointInLine:function(e,t,i,n,s,a,o){if(o=o?Math.abs(o):1,Math.abs(i-s)<=o&&Math.abs(e-i)<=o&&t-Math.max(n,a)<=o&&Math.min(n,a)-t<=o)return!0;if(Math.abs(n-a)<=o&&Math.abs(t-n)<=o&&e-Math.max(i,s)<=o&&Math.min(i,s)-e<=o)return!0;if(e>Math.max(i,s)||e<Math.min(i,s))return!1;if(t>Math.max(n,a)||t<Math.min(n,a))return!1;var r=(n-a)/(i-s);return Math.abs(t-(r*e+n-r*i))<o},isPointInEllipse:function(e,t,i,n,s,a){if(void 0===i||void 0===n||void 0===s||void 0===a)throw"ORYX.Core.Math.isPointInEllipse needs a ellipse with these properties: x, y, radiusX, radiusY";var o=(e-i)/s,r=(t-n)/a;return o*o+r*r<1},isPointInPolygone:function(e,t,i){if(arguments.length<3)throw"ORYX.Core.Math.isPointInPolygone needs two arguments";var n=i.length-1;i[0]===i[n-1]&&i[1]===i[n]||(i.push(i[0]),i.push(i[1]));for(var s,a,o,r,c,h=0,l=0;l<i.length-3;)if(s=i[l],a=i[++l],o=i[++l],r=i[l+1],c=(t-a)*(o-s)-(e-s)*(r-a),a>=t!=r>=t&&(h+=r-a>=0?c>=0:c<=0),!c&&Math.min(s,o)<=e&&e<=Math.max(s,o)&&Math.min(a,r)<=t&&t<=Math.max(a,r))return!0;return!!(h%2)},distancePointLinie:function(e,t,i,n){var s=c.getPointOfIntersectionPointLine(e,t,i,n);return s?c.getDistancePointToPoint(i,s):null},getDistancePointToPoint:function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},getDistanceBetweenTwoPoints:function(e,t,i){return c.getDistancePointToPoint(i,e)/c.getDistancePointToPoint(e,t)},pointIsLeftOfLine:function(e,t,i){var n=c.getVector(e,t),s=c.getVector(e,i);return n.x*s.y-s.x*n.y>0},getPointBetweenTwoPoints:function(e,t,i){return i=Math.max(Math.min(i||0,1),0),0===i?e:1===i?t:{x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i}},OgetVector:function(e,t){return{x:t.x-e.x,y:t.y-e.y}},getIdentityVector:function(e){2==arguments.length&&(e=c.getVector(arguments[0],arguments[1]));var t=Math.sqrt(e.x*e.x+e.y*e.y);return{x:e.x/(t||1),y:e.y/(t||1)}},getOrthogonalIdentityVector:function(e,t){var i=1==arguments.length?e:c.getIdentityVector(e,t);return{x:i.y,y:-i.x}},getPointOfIntersectionPointLine:function(e,t,i,n){var s=Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2);if(0!=s){var a=((i.x-e.x)*(t.x-e.x)+(i.y-e.y)*(t.y-e.y))/s;if(!n||0<=a&&a<=1){var o=new Object;return o.x=e.x+a*(t.x-e.x),o.y=e.y+a*(t.y-e.y),o}}},getTranslatedPoint:function(e,t){var i=t.a*e.x+t.c*e.y+1*t.e,n=t.b*e.x+t.d*e.y+1*t.f;return{x:i,y:n}},getInverseMatrix:function(e){var t=c.getDeterminant(e),i=e;return{a:t*(1*i.d-0*i.f),b:t*(0*i.f-1*i.b),c:t*(0*i.e-1*i.c),d:t*(1*i.a-0*i.e),e:t*(i.c*i.f-i.e*i.d),f:t*(i.e*i.b-i.a*i.f)}},getDeterminant:function(e){return e.a*e.d*1+e.c*e.f*0+e.e*e.b*0-e.e*e.d*0-e.c*e.b*1-e.a*e.f*0},getTranslatedBoundingBox:function(e){var t=e.getCTM(),i=e.getBBox(),n=c.getTranslatedPoint({x:i.x,y:i.y},t),s=c.getTranslatedPoint({x:i.x,y:i.y+i.height},t),a=c.getTranslatedPoint({x:i.x+i.width,y:i.y},t),o=c.getTranslatedPoint({x:i.x+i.width,y:i.y+i.height},t),r={x:Math.min(n.x,s.x,a.x,o.x),y:Math.min(n.y,s.y,a.y,o.y)},h={x:Math.max(n.x,s.x,a.x,o.x),y:Math.max(n.y,s.y,a.y,o.y)};return{x:r.x,y:r.y,width:h.x-r.x,height:h.y-r.y}},getAngle:function(e,t){if(e.x==t.x&&e.y==t.y)return 0;var i=180*Math.asin(Math.sqrt(Math.pow(e.y-t.y,2))/Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(e.y-t.y,2)))/Math.PI;return t.x>=e.x&&t.y<=e.y?i:t.x<e.x&&t.y<=e.y?180-i:t.x<e.x&&t.y>e.y?180+i:360-i},isRectOverLine:function(e,t,i,n,s,a,o,r){return!!c.clipLineOnRect.apply(c,arguments)},clipLineOnRect:function(e,t,i,c,h,l,d,u){var g,A,p,f=0,E=!1,v=!1;g=r(e,t,h,l,d,u),A=r(i,c,h,l,d,u);do{if(0==(g|A))E=!0,v=!0;else if((g&A)>0)v=!0;else{var _=0,m=0;p=0!=g?g:A,(p&s)>0?(_=e+(i-e)*(u-t)/(c-t),m=u):(p&a)>0?(_=e+(i-e)*(l-t)/(c-t),m=l):(p&n)>0?(m=t+(c-t)*(d-e)/(i-e),_=d):(p&o)>0&&(m=t+(c-t)*(h-e)/(i-e),_=h),p==g?(e=_,t=m,g=r(e,t,h,l,d,u)):(i=_,c=m,A=r(i,c,h,l,d,u))}f++}while(1!=v&&f<5e3);return E?{a:{x:e,y:t},b:{x:i,y:c}}:null}};t["a"]=c},"4bea":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAB8SURBVDiN7ZOxDcMwDATvA8+UNBnAI0hcQwNkAq/BFZIBUmmpT6MALpW49QPseEeweNnmSBaAiLjb3oDrJNcltcx8LwC2N0mPzHzN0BGxjoM3bFNKsW1+mS9z+evxXU7BKdgLekSss9DY7TDKJKnZ3mqtz0lHl9QAdLTOH1TOVBCb+hFwAAAAAElFTkSuQmCC"},"5c5c":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADCSURBVDiNrZPBDcIwDEW/CXMwCZwpA6SKPWBapQMU7lxYoAMwR6TPAagACTVVa8lSDnk//o4tJLEkNotoAFsACCGcReQ4ByR5adu22gDAXPiTWcfCS/GUcx5SSvcpyMwqkv1XBTnnwTl3M7P9lECM8fw+jwIppbuIeJKdqh5KLazXg7qud865TkR8jPGqquOENU0jfxVIIoRAkvDe70iiJN/Ml4WSH/iNxT0YBcysKoU+726B51wD6FW1+OUXA1m6zg8iFm8LSjqBDQAAAABJRU5ErkJggg=="},"5dfd":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFpSURBVDiNjZO9SgNBFEa/O7PFBgL2vkAKW58gVopGbVaCPoIWYmUhSeFP7ysEshgRREEFSbqAL+Az2ApKWJB7Pwt3ZbObjU63zJ7D3DOMkETVarfbXQCI47hb9Y/7A24CaGaifwtSYEVV11R1DcBKlaQkyOAkSba892dBEJyq6maVxM2CVfUwDMMhAE8y8N4/kzyYJZEsYgaLyDXJIxHZ7/f79+leC8AlyQsR2QMwzMIKyV/YzI6dc1dBECz3er23wukWAbyIyC7J80zistqqujoYDMYAvswsKc46mUw+AGij0Rir6irS25lqwJ95HsxsvSio1WotAE+dTsemIqazjLz3j1EU1UneAtguCgDsmNlNFEV17/0jgFEcx91SROdcy8xeSd5N1RbZSJJkKQzD+1LEXKjsJjokF0TEkRQRcWb2LiInebgkyEvSqJ8AkDv2sPguSoKiBACq4EpBXpJ+zoTnCnKSuc/5G6XU4GAOTfy/AAAAAElFTkSuQmCC"},"61cc":function(e,t,i){},6386:function(e,t,i){var n={"./activity/adhoc.subprocess.png":"270f","./activity/event.subprocess.collapsed.png":"f896","./activity/event.subprocess.png":"f3da","./activity/expanded.subprocess.png":"02a5","./activity/list/type.business.rule.png":"c033","./activity/list/type.camel.png":"a09b","./activity/list/type.decision.png":"a1e5","./activity/list/type.http.png":"a6b1","./activity/list/type.manual.png":"ce61","./activity/list/type.mule.png":"b664","./activity/list/type.receive.png":"7824","./activity/list/type.script.png":"c030","./activity/list/type.send.png":"4587","./activity/list/type.service.png":"20a9","./activity/list/type.shell.png":"5c5c","./activity/list/type.user.png":"d725","./activity/subprocess.png":"1e68","./activity/task.png":"4bea","./artifact/text.annotation.png":"421a","./catching/cancel.png":"2c9b","./catching/compensation.png":"6d60","./catching/error.png":"2328","./catching/message.png":"12c9","./catching/signal.png":"9be4","./catching/timer.png":"3dac","./connector/association.undirected.png":"ab77","./connector/association.unidirectional.png":"e2fd","./connector/messageflow.png":"ac6f","./connector/sequenceflow.png":"c047","./dataobject/data.store.png":"658c","./diagram.png":"2ef9","./endevent/cancel.png":"beb1","./endevent/error.png":"cc46","./endevent/none.png":"f4fd","./endevent/terminate.png":"3644","./gateway/eventbased.png":"5dfd","./gateway/exclusive.databased.png":"3bfb","./gateway/inclusive.png":"0856","./gateway/parallel.png":"04d5","./startevent/error.png":"976e","./startevent/message.png":"4235","./startevent/none.png":"de4e","./startevent/signal.png":"edba","./startevent/timer.png":"a2d5","./swimlane/lane.png":"fc71","./swimlane/pool.png":"c4c0","./throwing/none.png":"b0bf","./throwing/signal.png":"3eef"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="6386"},"64fa":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADzSURBVDiNpZMxTsNAEEXfjCxRITfQ0xlR0eQKKYyUDkteV0gcAdE6e4h0SKFZ+wSh4Ao5gUt6OioaDw2JHEjAjrfc2fd2/kgjZsaYE/V5VBRF2rbtHLhQ1UkI4W1T057wCpgAjxs4TdOTXoLvnwGo6/oZIMuy8ziOl70EInL58y6KogUwg39m4L1X4BM4BcjzvDvx9Z8deO+1aZonMzvbV1fV+UFBB77rRHkXkQ9grao3IYSXvREOwMskSe7Lsmx/dTIG3hEcA28FIiLHwFuBc25qZlfA7RB4JwJwDTwMgQHEzBARcc5NAaqqerUBKypj1/kLhO+Cw77rHWsAAAAASUVORK5CYII="},"658c":function(e,t){e.exports="data:image/png;base64,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"},6908:function(e,t,i){"use strict";i.d(t,"a",function(){return h});i("ac6a");var n=i("d225"),s=i("b0b4"),a=i("308d"),o=i("6bb5"),r=i("4e2b"),c=i("ffea"),h=function(e){function t(e){var i;return Object(n["a"])(this,t),i=Object(a["a"])(this,Object(o["a"])(t).call(this)),i.dockers=new Hash(e),i.edges=new Hash,i}return Object(r["a"])(t,e),Object(s["a"])(t,[{key:"execute",value:function(){this.changes?this.executeAgain():(this.changes=new Hash,this.dockers.values().each(function(e){var t=e.docker.parent;t&&(this.changes.get(t.getId())||this.changes.set(t.getId(),{edge:t,oldDockerPositions:t.dockers.map(function(e){return e.bounds.center()})}),e.docker.bounds.moveBy(e.offset),this.edges.set(t.getId(),t),e.docker.update())}.bind(this)),this.edges.each(function(e){this.updateEdge(e.value),this.changes[e.value.getId()]&&(this.changes[e.value.getId()].dockerPositions=e.value.dockers.map(function(e){return e.bounds.center()}))}.bind(this)))}},{key:"updateEdge",value:function(e){e._update(!0),[e.getOutgoingShapes(),e.getIncomingShapes()].flatten().invoke("_update",[!0])}},{key:"executeAgain",value:function(){this.changes.values().each(function(e){this.removeAllDocker(e.edge),e.dockerPositions.each(function(t,i){if(0!=i&&i!=e.dockerPositions.length-1){var n=e.edge.createDocker(void 0,t);n.bounds.centerMoveTo(t),n.update()}}.bind(this)),this.updateEdge(e.edge)}.bind(this))}},{key:"rollback",value:function(){this.changes.values().each(function(e){this.removeAllDocker(e.edge),e.oldDockerPositions.each(function(t,i){if(0!=i&&i!=e.oldDockerPositions.length-1){var n=e.edge.createDocker(void 0,t);n.bounds.centerMoveTo(t),n.update()}}.bind(this)),this.updateEdge(e.edge)}.bind(this))}},{key:"removeAllDocker",value:function(e){e.dockers.slice(1,e.dockers.length-1).each(function(t){e.removeDocker(t)})}}]),t}(c["a"])},"6d60":function(e,t){e.exports="data:image/png;base64,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"},"6f1d":function(e,t,i){"use strict";i("6b54"),i("7f7f"),i("f559"),i("7514"),i("28a5"),i("aef6");var n=i("af70"),s={LITERAL:1,RESOURCE:2,DELIMITERS:[".","-"],HASH:"#",HYPHEN:"-",schemas:[],callback:void 0,log:void 0,init:function(e){s.callback=e,s.registerSchema("schema",n["a"].XMLNS.SCHEMA),s.registerSchema("rdfs",n["a"].XMLNS.RDFS)},run:function(){return s._checkProfile()&&s.parse()},parse:function(){s.__startTime=new Date;var e=document.getElementsByTagNameNS(n["a"].XMLNS.XHTML,"body"),t={type:s.RESOURCE,value:""},i=s._parseDocumentMetadata()&&s._parseFromTag(e[0],t);s.__stopTime=new Date;s.__stopTime,s.__startTime;return i},_parseDocumentMetadata:function(){var e=document.getElementsByTagNameNS(n["a"].XMLNS.XHTML,"head"),t=e[0].getElementsByTagNameNS(n["a"].XMLNS.XHTML,"link"),i=e[0].getElementsByTagNameNS(n["a"].XMLNS.XHTML,"meta");return $A(t).each(function(e){var t=e.getAttribute("rel"),i=e.getAttribute("rev"),n=e.getAttribute("href");s._parseTriplesFrom(s.RESOURCE,"",t,s.RESOURCE,n),s._parseTriplesFrom(s.RESOURCE,n,i,s.RESOURCE,"")}),$A(i).each(function(e){var t=e.getAttribute("name"),i=e.getAttribute("content");s._parseTriplesFrom(s.RESOURCE,"",t,s.LITERAL,i)}),!0},_parseFromTag:function(e,t,i){if(e&&e.namespaceURI&&e.namespaceURI==n["a"].XMLNS.XHTML){i||(i=0);var a=e.getAttribute("id");if(e.nodeName.endsWith(":a")||"a"==e.nodeName){var o=e.getAttribute("rel"),r=e.getAttribute("rev"),c=e.getAttribute("href"),h=e.getAttribute("title"),l=e.textContent;s._parseTriplesFrom(t.type,t.value,o,s.RESOURCE,c,function(e){var t=h||l;s._parseTriplesFrom(e.object.type,e.object.value,"rdfs.label",s.LITERAL,t)}),s._parseTriplesFrom(t.type,t.value,r,s.RESOURCE,""),s._parseTypeTriplesFrom(t.type,t.value,o)}else if(e.nodeName.endsWith(":img")||"img"==e.nodeName){o=e.getAttribute("class"),c=e.getAttribute("src");var d=e.getAttribute("alt");s._parseTriplesFrom(t.type,t.value,o,s.RESOURCE,c,function(e){var t=d;s._parseTriplesFrom(e.object.type,e.object.value,"rdfs.label",s.LITERAL,t)})}o=e.getAttribute("class"),h=e.getAttribute("title"),l=e.textContent;var u=h||l;s._parseTriplesFrom(t.type,t.value,o,s.LITERAL,u),a&&(t={type:s.RESOURCE,value:s.HASH+a}),s._parseTypeTriplesFrom(t.type,t.value,o);var g=e.childNodes;g&&$A(g).each(function(e){e.nodeType==e.ELEMENT_NODE&&s._parseFromTag(e,t,i+1)})}},_parseTriplesFrom:function(e,t,i,n,a,o){i&&i.toLowerCase().split(" ").each(function(e){var i=s.schemas.find(function(t){return s.DELIMITERS.find(function(i){return e.startsWith(t.prefix+i)})});if(i&&a){e=e.substring(i.prefix.length+1,e.length);var r=s.registerTriple(new s.Resource(t),{prefix:i.prefix,name:e},n==s.RESOURCE?new s.Resource(a):new s.Literal(a));o&&o(r)}})},_parseTypeTriplesFrom:function(e,t,i,n){i&&i.toLowerCase().split(" ").each(function(i){var a=s.schemas.find(function(e){return s.DELIMITERS.find(function(t){return i.startsWith(s.HYPHEN+e.prefix+t)})});if(a&&t){i=i.substring(a.prefix.length+2,i.length);var o=s.registerTriple(e==s.RESOURCE?new s.Resource(t):new s.Literal(t),{prefix:"rdf",name:"type"},new s.Resource(a.namespace+i));n&&n(o)}})},_checkProfile:function(){var e=document.getElementsByTagNameNS(n["a"].XMLNS.XHTML,"head"),t=e[0].getAttribute("profile");return!(!t||!t.split(" ").member(n["a"].XMLNS.ERDF))},__stripHashes:function(e){return e&&"function"==typeof e.substring&&"#"==e.substring(0,1)?e.substring(1,e.length):e},registerSchema:function(e,t){s.schemas.push({prefix:e,namespace:t})},registerTriple:function(e,t,i){"schema"==t.prefix.toLowerCase()&&this.registerSchema(t.name,i.value);var n=new s.Triple(e,t,i);return s.callback(n),n},__enhanceObject:function(){this.isResource=function(){return this.type==s.RESOURCE},this.isLocal=function(){return this.isResource()&&this.value.startsWith("#")},this.isCurrentDocument=function(){return this.isResource()&&""==this.value},this.getId=function(){return!!this.isLocal()&&s.__stripHashes(this.value)},this.isLiteral=function(){return this.type==s.LIITERAL}},serialize:function(e){return e?e.constructor==String?e:e.constructor==Boolean?e?"true":"false":e.toString():""},Triple:function(e,t,i){this.subject=e,this.predicate=t,this.object=i,this.toString=function(){return"[ERDF.Triple] "+this.subject.toString()+" "+this.predicate.prefix+":"+this.predicate.name+" "+this.object.toString()}},Resource:function(e){this.type=s.RESOURCE,this.value=e,s.__enhanceObject.apply(this),this.toString=function(){return"&lt;"+this.value+"&gt;"}},Literal:function(e){this.type=s.LITERAL,this.value=s.serialize(e),s.__enhanceObject.apply(this),this.toString=function(){return'"'+this.value+'"'}}};t["a"]=s},"6fef":function(e,t,i){"use strict";i.d(t,"a",function(){return h});var n=i("d225"),s=i("b0b4"),a=i("308d"),o=i("6bb5"),r=i("4e2b"),c=i("4346"),h=function(e){function t(){return Object(n["a"])(this,t),Object(a["a"])(this,Object(o["a"])(t).apply(this,arguments))}return Object(r["a"])(t,e),Object(s["a"])(t,[{key:"toString",value:function(){return"Control "+this.id}}]),t}(c["a"])},7824:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACmSURBVDiNxZPBEcMgDASXjPtwXfq5E3An/qmuVEIelhkBmngmfkRP0K11J5xqrTyp1yM1sACIyE9jqGpahrM3cNzoNmDtJnDi1cglUopIsZ7W6zM4gB3I1hiJs/W0KbsQ7csTxIvH6cYMUNUiIhjkOg7FIWCofHM/AwavHUxEpoA7wDevga0JsHGuJvTqs+Fc4wS49ku0RlftDUwW7OI2OF/p73/jB6ReRj0fymnsAAAAAElFTkSuQmCC"},8903:function(e,t,i){"use strict";i("7f7f");var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"col-xs-12",attrs:{id:"propertiesHelpWrapper"}},[e._v("\n  "+e._s(e.laneEnableValue)+"\n  "),i("div",{staticClass:"propertySection",class:{collapsed:e.propertyWindowState.collapsed},attrs:{id:"propertySection"}},[i("div",{staticClass:"selected-item-section"},[i("div",{staticClass:"clearfix"},[e.selectedItem.auditData&&e.selectedItem.auditData.createDate?i("div",{staticClass:"pull-right"},[i("strong",[e._v(e._s(e.$t("ELEMENT.DATE_CREATED"))+": ")]),e._v(" "+e._s(e.selectedItem.auditData.createDate)+"\n        ")]):e._e(),e.selectedItem.auditData&&e.selectedItem.auditData.author?i("div",{staticClass:"pull-right"},[i("strong",[e._v(e._s(e.$t("ELEMENT.AUTHOR"))+": ")]),e._v(" "+e._s(e.selectedItem.auditData.author)+"\n        ")]):e._e(),i("div",{staticClass:"selected-item-title"},[i("a",{on:{click:e.propertyWindowStateToggle}},[i("i",{staticClass:"glyphicon",class:{"glyphicon-chevron-right":e.propertyWindowState.collapsed,"glyphicon-chevron-down":!e.propertyWindowState.collapsed}}),i("span",{directives:[{name:"show",rawName:"v-show",value:void 0!=e.selectedItem.title&&null!=e.selectedItem.title&&e.selectedItem.title.length>0,expression:"selectedItem.title != undefined && selectedItem.title != null &&\n            selectedItem.title.length > 0"}]},[e._v(e._s(e.selectedItem.title))]),i("span",{directives:[{name:"show",rawName:"v-show",value:!e.selectedItem||void 0==e.selectedItem.title||null==e.selectedItem.title||0==e.selectedItem.title.length,expression:"!selectedItem || selectedItem.title == undefined ||\n            selectedItem.title == null || selectedItem.title.length == 0"}]},[e._v(e._s(e.modelData.name))])])])]),i("div",{staticClass:"selected-item-body"},[i("div",e._l(e.selectedItem.properties,function(t,n){return i("div",{key:n,staticClass:"property-row",class:{clear:n%2==0,"disable-pro":e.currentShapeType.endsWith("Lane")&&e.laneEnableValue&&e.laneValueAry.includes(t.key)&&t.key!=e.laneEnableValue},on:{click:function(i){return e.propertyClicked(t)}}},[e._v("\n            "+e._s(t)+"\n            "),i("span",{staticClass:"value"})])}),0)])])]),"write"===e.currentSelectedProperty.mode&&e.showDialogProperties.includes(e.getTemplateComponentName(e.currentSelectedProperty))?[i(e.getTemplateComponentName(e.currentSelectedProperty),{tag:"component",attrs:{property:e.currentSelectedProperty,selectedShape:e.selectedShape},on:{updateProperty:e.updatePropertyInModel}})]:e._e()],2)},s=[],a=(i("aef6"),i("6762"),i("2fdb"),i("aafb")),o=i("af70"),r={name:"propertySection",data:function(){return{propertyWindowState:{collapsed:!1},currentSelectedProperty:{},showDialogProperties:["text-property-write-template","data-properties-write-template","event-listeners-write-template","execution-listeners-write-template","signal-definitions-write-template","message-definitions-write-template","form-reference-write-template","form-properties-write-template","assignment-write-template","condition-expression-write-template"],selectedItem:{title:"",properties:[],auditData:{}},selectedShape:{},laneEnableValue:"",laneValueAry:["oryx-activerole","oryx-activesystem"]}},props:{editorManager:{}},components:{},mounted:function(){var e=this;a["a"].addListener(o["a"].EVENT_TYPE_PROPERTY_VALUE_CHANGED,function(t){t.property&&t.property.key&&("oryx-name"===t.property.key&&void 0!==e.selectedItem&&null!==e.selectedItem&&(e.selectedItem.title=t.newValue),t.property.noValue=void 0===t.property.value||null===t.property.value||0==t.property.value.length,e.laneValueAry.includes(t.property.key)&&(e.laneEnableValue=t.property.noValue?"":t.property.key))}),a["a"].addListener(o["a"].EVENT_TYPE_SELECTION_CHANGED,function(t){e.laneEnableValue="","write"!=e.currentSelectedProperty.mode&&(e.selectedItem=t.selectedItem,e.selectedShape=t.selectedShape),t.selectedShape.getStencil().id().endsWith("Lane")&&t.selectedItem.properties.map(function(t){e.laneValueAry.includes(t.key)&&!t.noValue&&(e.laneEnableValue=t.key)})}),a["a"].addListener(o["a"].EVENT_TYPE_DOUBLE_CLICK,function(e,t){console.log(111,t)})},computed:{modelData:function(){return this.editorManager?this.editorManager.getBaseModelData():{}},currentShapeType:function(){return this.selectedShape?this.selectedShape.getStencil().idWithoutNs():null}},methods:{propertyWindowStateToggle:function(){this.propertyWindowState.collapsed=!this.propertyWindowState.collapsed,setTimeout(function(){window.dispatchEvent(new Event("resize"))},100)},propertyClicked:function(e){this.currentShapeType.endsWith("Lane")&&this.laneEnableValue&&this.laneValueAry.includes(e.key)&&e.key!=this.laneEnableValue||(e.hidden||(e.mode="write"),this.currentSelectedProperty=e)},getTemplateComponentName:function(e){var t=null;return e.hasReadWriteMode||(t=e.templateUrl),e.hasReadWriteMode&&"read"==e.mode&&(t=e.readModeTemplateUrl),e.hasReadWriteMode&&"write"==e.mode&&(t=e.writeModeTemplateUrl),t},updatePropertyInModel:function(e){var t=e.property,i=e.shapeId,n=this.selectedShape;if(i&&(n=n.id!=i&&this.previousSelectedShape&&this.previousSelectedShape.id==i?this.previousSelectedShape:null),n){var s=t.key,a=t.value,r=n.properties.get(s),c=this;if(a!=r){this.editorManager.assignCommand("SetProperty",s,r,a,n,c.editorManager.getEditor()),this.editorManager.handleEvents({type:o["a"].EVENT_PROPWINDOW_PROP_CHANGED,elements:[n],key:s}),t.mode="read";var h={type:o["a"].EVENT_TYPE_PROPERTY_VALUE_CHANGED,property:t,oldValue:r,newValue:a};this.editorManager.dispatchFlowEvent(h.type,h)}else t.mode="read"}}}},c=r,h=(i("ebd4"),i("2877")),l=Object(h["a"])(c,n,s,!1,null,"b1d41464",null),d=l.exports;d.install=function(e){e.component(d.name,d)};t["a"]=d},"8b15":function(e,t,i){"use strict";i("7f7f");var n=i("a4bb"),s=i.n(n),a=(i("ac6a"),i("cadf"),i("551c"),i("f751"),i("097d"),i("2b0e")),o=i("8c4f"),r=i("ee95"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-height"},[i("div",{staticClass:"navbar navbar-fixed-top navbar-inverse",attrs:{role:"navigation",id:"main-header"}},[i("router-link",{attrs:{to:"/list"}},[e._v("流程图列表")]),e._v(" =============\n    "),i("router-link",{attrs:{to:"/design/kpm/1"}},[e._v("KPM-流程图")]),e._v("  =============\n    "),i("router-link",{attrs:{to:"/design/bpm/1"}},[e._v("BPM-流程图")])],1),i("router-view")],1)},h=[],l={name:"example",data:function(){return{}},created:function(){},computed:{},mounted:function(){},methods:{}},d=l,u=i("2877"),g=Object(u["a"])(d,c,h,!1,null,null,null),A=g.exports;a["default"].use(o["a"]);var p=[];s()(r).forEach(function(e){p=p.concat(r[e])});var f=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/docs";t.forEach(function(t){t.items?(e(t.items,n+(t.path||"")),p=p.concat(t.items)):(t.path&&(t.path=n+t.path),t.component=function(e){return i.e("chunk-399e2613").then(function(){return e(i("62cd")("./".concat(t.name,".md")))}.bind(null,i)).catch(i.oe)})})};f(p);var E=[{path:"/docs",name:"docs",redirect:"/docs/introduce",component:function(){return i.e("chunk-84e17dd0").then(i.bind(null,"0d6c"))},children:p.filter(function(e){return e.path})}],v=function(){return new o["a"]({routes:[{path:"/",name:"home",redirect:"/design/kpm/1",component:A},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"c2a7"))}},{path:"/list",name:"list",component:function(){return i.e("chunk-d63807ee").then(i.bind(null,"d8d1"))}},{path:"/design/kpm/:id",name:"design-kpm",component:function(){return i.e("chunk-04ba02e7").then(i.bind(null,"a908"))}},{path:"/design/bpm/:id",name:"design-bpm",component:function(){return i.e("chunk-bcd97db4").then(i.bind(null,"4cac"))}}]})},_=v();_.addRoutes(E);t["a"]=_},"8eec":function(e,t,i){"use strict";i.d(t,"a",function(){return g});var n=i("59ad"),s=i.n(n),a=(i("3b2b"),i("4917"),i("d225")),o=i("b0b4"),r=i("bd86"),c={VERSION:"1.0",NAMESPACE:"http://www.w3.org/2000/svg"},h=function(){function e(t){Object(a["a"])(this,e),Object(r["a"])(this,"VERSION",1),null==t&&(t=""),this.setPathData(t)}return Object(o["a"])(e,[{key:"setPathData",value:function(e){if("string"!==typeof e)throw new Error("PathLexer.setPathData: The first parameter must be a string");this._pathData=e}},{key:"getNextToken",value:function(){var e=null,t=this._pathData;while(null==e)if(null==t||""===t)e=new d(l.EOD,"");else if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([AaCcHhLlMmQqSsTtVvZz])/))e=new d(l.COMMAND,RegExp.$1),t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))throw new Error("PathLexer.getNextToken: unrecognized path data "+t);e=new d(l.NUMBER,s()(RegExp.$1)),t=t.substr(RegExp.$1.length)}return this._pathData=t,e}}]),e}(),l={UNDEFINED:0,COMMAND:1,NUMBER:2,EOD:3},d=function(){function e(t,i){Object(a["a"])(this,e),arguments.length>0&&this.init(t,i)}return Object(o["a"])(e,[{key:"init",value:function(e,t){this.type=e,this.text=t}},{key:"typeis",value:function(e){return this.type===e}}]),e}(),u={PARAMCOUNT:{A:7,C:6,H:1,L:2,M:2,Q:4,S:4,T:2,V:1,Z:0},METHODNAME:{A:"arcAbs",a:"arcRel",C:"curvetoCubicAbs",c:"curvetoCubicRel",H:"linetoHorizontalAbs",h:"linetoHorizontalRel",L:"linetoAbs",l:"linetoRel",M:"movetoAbs",m:"movetoRel",Q:"curvetoQuadraticAbs",q:"curvetoQuadraticRel",S:"curvetoCubicSmoothAbs",s:"curvetoCubicSmoothRel",T:"curvetoQuadraticSmoothAbs",t:"curvetoQuadraticSmoothRel",V:"linetoVerticalAbs",v:"linetoVerticalRel",Z:"closePath",z:"closePath"}},g=function(){function e(){Object(a["a"])(this,e),this._lexer=new h,this._handler=null}return Object(o["a"])(e,[{key:"parsePath",value:function(e){if(null==e||e.namespaceURI!==c.NAMESPACE||"path"!==e.localName)throw new Error("PathParser.parsePath: The first parameter must be an SVG path element");this.parseData(e.getAttributeNS(null,"d"))}},{key:"parseData",value:function(e){if("string"!==typeof e)throw new Error("PathParser.parseData: The first parameter must be a string");null!=this._handler&&null!=this._handler.beginParse&&this._handler.beginParse();var t=this._lexer;t.setPathData(e);var i="BOP",n=t.getNextToken();while(!n.typeis(l.EOD)){var s=void 0,a=[];switch(n.type){case l.COMMAND:if("BOP"===i&&"M"!==n.text&&"m"!==n.text)throw new Error("PathParser.parseData: a path must begin with a moveto command");i=n.text,s=u.PARAMCOUNT[n.text.toUpperCase()],n=t.getNextToken();break;case l.NUMBER:break;default:throw new Error("PathParser.parseData: unrecognized token type: "+n.type)}for(var o=0;o<s;o++){switch(n.type){case l.COMMAND:throw new Error("PathParser.parseData: parameter must be a number: "+n.text);case l.NUMBER:a[o]=n.text-0;break;default:throw new Error("PathParser.parseData: unrecognized token type: "+n.type)}n=t.getNextToken()}if(null!=this._handler){var r=this._handler,c=u.METHODNAME[i];null!=r[c]&&r[c].apply(r,a)}"M"===i&&(i="L"),"m"===i&&(i="l")}}},{key:"setHandler",value:function(e){this._handler=e}}]),e}()},"8f42":function(e,t,i){"use strict";i.d(t,"a",function(){return c});i("7514"),i("ac6a"),i("a481"),i("4917");var n=i("d225"),s=i("b0b4"),a=i("0130"),o=i("af70"),r=i("aeae"),c=function(){function e(t,i,s,o,r,c){if(Object(n["a"])(this,e),!t)throw"Stencilset seems corrupt.";if(!i)throw"Stencil does not provide namespace.";if(!s)throw"Stencil does not provide SVG source.";if(!o)throw"Fatal internal error loading stencilset.";if(this._source=s,this._jsonStencil=t,this._stencilSet=o,this._namespace=i,this._propertyPackages=r,c&&!this._jsonStencil.position&&(this._jsonStencil.position=c),this._view=null,this._properties=new Hash,!this._jsonStencil.type||"edge"!==this._jsonStencil.type&&"node"!==this._jsonStencil.type)throw"ORYX.Core.StencilSet.Stencil(construct): Type is not defined.";if(!this._jsonStencil.id||""===this._jsonStencil.id)throw"ORYX.Core.StencilSet.Stencil(construct): Id is not defined.";if(!this._jsonStencil.title||""===this._jsonStencil.title)throw"ORYX.Core.StencilSet.Stencil(construct): Title is not defined.";this._jsonStencil.description||(this._jsonStencil.description=""),this._jsonStencil.groups||(this._jsonStencil.groups=[]),this._jsonStencil.roles||(this._jsonStencil.roles=[]),this._jsonStencil.roles.push(this._jsonStencil.id),this._jsonStencil.roles.each(function(e,t){this._jsonStencil.roles[t]=i+e}.bind(this)),this._jsonStencil.roles=this._jsonStencil.roles.uniq(),this._jsonStencil.id=i+this._jsonStencil.id,this.postProcessProperties(),this._jsonStencil.serialize||(this._jsonStencil.serialize={}),this._jsonStencil.deserialize||(this._jsonStencil.deserialize={}),this._jsonStencil.layout||(this._jsonStencil.layout=[]);var h=s+"view/"+t.view;if(this._jsonStencil.view.trim().match(/</)){var l=new DOMParser,d=l.parseFromString(this._jsonStencil.view,"text/xml");if(!a["a"].checkClassType(d.documentElement,SVGSVGElement))throw"ORYX.Core.StencilSet.Stencil(_loadSVGOnSuccess): The response is not a valid SVG document.";this._view=d.documentElement}else new Ajax.Request(h,{asynchronous:!1,method:"get",onSuccess:this._loadSVGOnSuccess.bind(this),onFailure:this._loadSVGOnFailure.bind(this)})}return Object(s["a"])(e,[{key:"postProcessProperties",value:function(){if(this._jsonStencil.icon=o["a"].SERVER_HANDLER_ROOT+"/stencilsetitem/"+this._jsonStencil.objectId+"/image",this._jsonStencil.propertyPackages&&this._jsonStencil.propertyPackages instanceof Array){var e=this._jsonStencil.hiddenPropertyPackages;this._jsonStencil.propertyPackages.each(function(t){var i=this._propertyPackages.get(t);i&&i.each(function(t){var i=new r["a"](t,this._namespace,this),n=i.prefix()+"-"+i.id();this._properties.set(n,i),e.indexOf(i.id())>-1&&i.hide()}.bind(this))}.bind(this))}this._jsonStencil.properties&&this._jsonStencil.properties instanceof Array&&this._jsonStencil.properties.each(function(e){var t=new r["a"](e,this._namespace,this),i=t.prefix()+"-"+t.id();this._properties.set(i,t)}.bind(this))}},{key:"equals",value:function(e){return this.id()===e.id()}},{key:"stencilSet",value:function(){return this._stencilSet}},{key:"type",value:function(){return this._jsonStencil.type}},{key:"namespace",value:function(){return this._namespace}},{key:"id",value:function(){return this._jsonStencil.id}},{key:"idWithoutNs",value:function(){return this.id().replace(this.namespace(),"")}},{key:"title",value:function(){return this._jsonStencil.title}},{key:"description",value:function(){return this._jsonStencil.description}},{key:"groups",value:function(){return this._jsonStencil.groups}},{key:"position",value:function(){return isNaN(this._jsonStencil.position)?0:this._jsonStencil.position}},{key:"view",value:function(){return this._view.cloneNode(!0)||this._view}},{key:"icon",value:function(){return this._jsonStencil.icon}},{key:"fixedAspectRatio",value:function(){return!0===this._jsonStencil.fixedAspectRatio}},{key:"hasMultipleRepositoryEntries",value:function(){return this.getRepositoryEntries().length>0}},{key:"getRepositoryEntries",value:function(){return this._jsonStencil.repositoryEntries?$A(this._jsonStencil.repositoryEntries):$A([])}},{key:"properties",value:function(){return this._properties.values()}},{key:"property",value:function(e){return this._properties.get(e)}},{key:"roles",value:function(){return this._jsonStencil.roles}},{key:"defaultAlign",value:function(){return this._jsonStencil.defaultAlign?this._jsonStencil.defaultAlign:"east"}},{key:"serialize",value:function(e,t){return this._jsonStencil.serialize}},{key:"deserialize",value:function(e,t){return this._jsonStencil.deserialize}},{key:"layout",value:function(e){return this._jsonStencil.layout}},{key:"addProperty",value:function(e,t){if(e&&t){var i=new r["a"](e,t,this);this._properties[i.prefix()+"-"+i.id()]=i}}},{key:"removeProperty",value:function(e){if(e){var t=this._properties.values().find(function(t){return e==t.id()});t&&delete this._properties[t.prefix()+"-"+t.id()]}}},{key:"_loadSVGOnSuccess",value:function(e){var t=null;if(t=e.responseXML,!a["a"].checkClassType(t.documentElement,SVGSVGElement))throw"ORYX.Core.StencilSet.Stencil(_loadSVGOnSuccess): The response is not a SVG document.";this._view=t.documentElement}},{key:"_loadSVGOnFailure",value:function(e){throw"ORYX.Core.StencilSet.Stencil(_loadSVGOnFailure): Loading SVG document failed."}},{key:"toString",value:function(){return"Stencil "+this.title()+" ("+this.id()+")"}}]),e}()},9059:function(e,t,i){"use strict";i.d(t,"a",function(){return O});var n=i("59ad"),s=i.n(n),a=(i("28a5"),i("7f7f"),i("a481"),i("7514"),i("ac6a"),i("e814")),o=i.n(a),r=(i("f559"),i("aef6"),i("d225")),c=i("b0b4"),h=i("308d"),l=i("6bb5"),d=i("2a88"),u=i("4e2b"),g=i("19ce"),A=i("abda"),p=i("4883"),f=i("0130"),E=i("af70"),v=i("c5e4"),_=i("6f1d"),m=i("4346"),S=i("aca4"),b=i("8eec"),O=function(e){function t(e,i,n){var s;Object(r["a"])(this,t),s=Object(h["a"])(this,Object(l["a"])(t).apply(this,arguments)),s.isMovable=!0,s.isSelectable=!0,s._dockerUpdated=!1,s._markers=new Hash,s._paths=[],s._interactionPaths=[],s._dockersByPath=new Hash,s._markersByPath=new Hash,s.attachedNodePositionData=new Hash;var a=s.node.childNodes[0].childNodes[0];return a=f["a"].graft("http://www.w3.org/2000/svg",a,["g",{"pointer-events":"painted"}]),s.addEventHandlers(a.parentNode),s._oldBounds=s.bounds.clone(),s._init(s._stencil.view()),i instanceof Array&&s.deserialize(i),s}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"_update",value:function(e){if(this._dockerUpdated||this.isChanged||e){this.dockers.invoke("update");var t=this.bounds.upperLeft(),i=this._oldBounds.upperLeft(),n=0===this._oldBounds.width()?this.bounds.width():this._oldBounds.width(),s=0===this._oldBounds.height()?this.bounds.height():this._oldBounds.height(),a=t.x-i.x,r=t.y-i.y,c=this.bounds.width()/n||1,h=this.bounds.height()/s||1;if(this.dockers.each(function(e){if(e.bounds.unregisterCallback(this._dockerChangedCallback),!this._dockerUpdated&&(e.bounds.moveBy(a,r),1!==c||1!==h)){var i=e.bounds.upperLeft().x-t.x,n=e.bounds.upperLeft().y-t.y;e.bounds.moveTo(t.x+i*c,t.y+n*h)}e.update(),e.bounds.registerCallback(this._dockerChangedCallback)}.bind(this)),this._dockerUpdated){var l=this.dockers.first().bounds.center(),d=this.dockers.first().bounds.center();this.dockers.each(function(e){var t=e.bounds.center();l.x=Math.min(l.x,t.x),l.y=Math.min(l.y,t.y),d.x=Math.max(d.x,t.x),d.y=Math.max(d.y,t.y)}.bind(this)),this.bounds.set(Object.clone(l),Object.clone(d))}t=this.bounds.upperLeft(),i=this._oldBounds.upperLeft(),c=this.bounds.width()/(n||this.bounds.width()),h=this.bounds.height()/(s||this.bounds.height()),a=t.x-i.x,r=t.y-i.y,this.getLabels().each(function(e){if(e.getReferencePoint()){var t=e.getReferencePoint(),i=t.segment.from,n=t.segment.to;if(!i||!i.parent||!n||!n.parent)return;var s=i.bounds.center(),l=n.bounds.center();if(s.x===t.segment.fromPosition.x&&s.y===t.segment.fromPosition.y&&l.x===t.segment.toPosition.x&&l.y===t.segment.toPosition.y&&!t.dirty)return;if(this.parent.initializingShapes){var d=p["a"].getOrthogonalIdentityVector(s,l);d.x*=t.distance,d.y*=t.distance,d.x+=t.intersection.x,d.y+=t.intersection.y,e.setX(d.x),e.setY(d.y),t.segment.fromPosition=s,t.segment.toPosition=l}else{var u=p["a"].getDistanceBetweenTwoPoints(t.segment.fromPosition,t.segment.toPosition,t.intersection),g=p["a"].getPointBetweenTwoPoints(s,l,isNaN(u)?.5:u),A=p["a"].getOrthogonalIdentityVector(s,l),f=1===Math.abs(A.y),E=1===Math.abs(A.x);A.x*=t.distance,A.y*=t.distance,A.x+=g.x,A.y+=g.y;var v=f&&t.orientation&&(t.iorientation||t.orientation).endsWith("r")?-e.getWidth():0,_=E&&t.orientation&&(t.iorientation||t.orientation).startsWith("l")?2-e.getHeight():0;e.setX(A.x+v),e.setY(A.y+_),this.updateReferencePointOfLabel(e,g,i,n)}}else{if(e.position&&!this.parent.initializingShapes){var m=e.position.x+a*(c||1);m>this.bounds.lowerRight().x&&(m+=this.bounds.width()-this.bounds.width()/(c||1));var S=e.position.y+r*(h||1);return S>this.bounds.lowerRight().y&&(S+=this.bounds.height()-this.bounds.height()/(h||1)),e.setX(m),void e.setY(S)}var b,O,y,T,C;switch(e.getEdgePosition()){case"starttop":b=this._getAngle(this.dockers[0],this.dockers[1]),O=this.dockers.first().bounds.center(),b<=90||b>270?(e.horizontalAlign("left"),e.verticalAlign("bottom"),e.x=O.x+e.getOffsetTop(),e.y=O.y-e.getOffsetTop(),e.rotate(360-b,O)):(e.horizontalAlign("right"),e.verticalAlign("bottom"),e.x=O.x-e.getOffsetTop(),e.y=O.y-e.getOffsetTop(),e.rotate(180-b,O));break;case"startmiddle":b=this._getAngle(this.dockers[0],this.dockers[1]),O=this.dockers.first().bounds.center(),b<=90||b>270?(e.horizontalAlign("left"),e.verticalAlign("bottom"),e.x=O.x+2,e.y=O.y+4,e.rotate(360-b,O)):(e.horizontalAlign("right"),e.verticalAlign("bottom"),e.x=O.x+1,e.y=O.y+4,e.rotate(180-b,O));break;case"startbottom":b=this._getAngle(this.dockers[0],this.dockers[1]),O=this.dockers.first().bounds.center(),b<=90||b>270?(e.horizontalAlign("left"),e.verticalAlign("top"),e.x=O.x+e.getOffsetBottom(),e.y=O.y+e.getOffsetBottom(),e.rotate(360-b,O)):(e.horizontalAlign("right"),e.verticalAlign("top"),e.x=O.x-e.getOffsetBottom(),e.y=O.y+e.getOffsetBottom(),e.rotate(180-b,O));break;case"midtop":if(y=this.dockers.length,y%2==0){var N=this._getAngle(this.dockers[y/2-1],this.dockers[y/2]),I=this.dockers[y/2-1].bounds.center(),R=this.dockers[y/2].bounds.center(),P={x:(I.x+R.x)/2,y:(I.y+R.y)/2};e.horizontalAlign("center"),e.verticalAlign("bottom"),e.x=P.x,e.y=P.y-e.getOffsetTop(),N<=90||N>270?e.rotate(360-N,P):e.rotate(180-N,P)}else T=o()(y/2),b=this._getAngle(this.dockers[T],this.dockers[T+1]),O=this.dockers[T].bounds.center(),b<=90||b>270?(e.horizontalAlign("left"),e.verticalAlign("bottom"),e.x=O.x+e.getOffsetTop(),e.y=O.y-e.getOffsetTop(),e.rotate(360-b,O)):(e.horizontalAlign("right"),e.verticalAlign("bottom"),e.x=O.x-e.getOffsetTop(),e.y=O.y-e.getOffsetTop(),e.rotate(180-b,O));break;case"midbottom":if(y=this.dockers.length,y%2==0){var k=this._getAngle(this.dockers[y/2-1],this.dockers[y/2]),L=this.dockers[y/2-1].bounds.center(),D=this.dockers[y/2].bounds.center(),x={x:(L.x+D.x)/2,y:(L.y+D.y)/2};e.horizontalAlign("center"),e.verticalAlign("top"),e.x=x.x,e.y=x.y+e.getOffsetTop(),k<=90||k>270?e.rotate(360-k,x):e.rotate(180-k,x)}else T=o()(y/2),b=this._getAngle(this.dockers[T],this.dockers[T+1]),O=this.dockers[T].bounds.center(),b<=90||b>270?(e.horizontalAlign("left"),e.verticalAlign("top"),e.x=O.x+e.getOffsetBottom(),e.y=O.y+e.getOffsetBottom(),e.rotate(360-b,O)):(e.horizontalAlign("right"),e.verticalAlign("top"),e.x=O.x-e.getOffsetBottom(),e.y=O.y+e.getOffsetBottom(),e.rotate(180-b,O));break;case"endtop":C=this.dockers.length,b=this._getAngle(this.dockers[C-2],this.dockers[C-1]),O=this.dockers.last().bounds.center(),b<=90||b>270?(e.horizontalAlign("right"),e.verticalAlign("bottom"),e.x=O.x-e.getOffsetTop(),e.y=O.y-e.getOffsetTop(),e.rotate(360-b,O)):(e.horizontalAlign("left"),e.verticalAlign("bottom"),e.x=O.x+e.getOffsetTop(),e.y=O.y-e.getOffsetTop(),e.rotate(180-b,O));break;case"endbottom":C=this.dockers.length,b=this._getAngle(this.dockers[C-2],this.dockers[C-1]),O=this.dockers.last().bounds.center(),b<=90||b>270?(e.horizontalAlign("right"),e.verticalAlign("top"),e.x=O.x-e.getOffsetBottom(),e.y=O.y+e.getOffsetBottom(),e.rotate(360-b,O)):(e.horizontalAlign("left"),e.verticalAlign("top"),e.x=O.x+e.getOffsetBottom(),e.y=O.y+e.getOffsetBottom(),e.rotate(180-b,O));break}}}.bind(this)),this.children.each(function(e){e instanceof S["a"]&&this.calculatePositionOfAttachedChildNode.call(this,e)}.bind(this)),this.refreshAttachedNodes(),this.refresh(),this.isChanged=!1,this._dockerUpdated=!1,this._oldBounds=this.bounds.clone()}f["a"].ifIE10()&&this.node.parentNode.insertBefore(this.node,this.node)}},{key:"movePointToUpperLeftOfNode",value:function(e,t){e.x-=t.width()/2,e.y-=t.height()/2}},{key:"refreshAttachedNodes",value:function(){var e=this;this.attachedNodePositionData.values().each(function(t){var i=t.segment.docker1.bounds.center(),n=t.segment.docker2.bounds.center();e.relativizePoint(i),e.relativizePoint(n);var s={};s.x=i.x+t.relativDistanceFromDocker1*(n.x-i.x),s.y=i.y+t.relativDistanceFromDocker1*(n.y-i.y),e.movePointToUpperLeftOfNode(s,t.node.bounds),t.node.bounds.moveTo(s),t.node._update()})}},{key:"calculatePositionOfAttachedChildNode",value:function(e){this.attachedNodePositionData.get(e.getId())?e.isChanged&&this.findEdgeSegmentForNode(e):(this.attachedNodePositionData.set(e.getId(),{}),this.attachedNodePositionData.get(e.getId()).relativDistanceFromDocker1=0,this.attachedNodePositionData.get(e.getId()).node=e,this.attachedNodePositionData.get(e.getId()).segment={},this.findEdgeSegmentForNode(e))}},{key:"findEdgeSegmentForNode",value:function(e){for(var t=this.dockers.length,i=void 0,n=1;n<t;n++){var s=this.dockers[n-1].bounds.center(),a=this.dockers[n].bounds.center();this.relativizePoint(s),this.relativizePoint(a);var o=e.bounds.center(),r=p["a"].distancePointLinie(s,a,o,!0);if((r||0==r)&&(!i&&0!=i||r<i)&&(i=r,this.attachedNodePositionData.get(e.getId()).segment.docker1=this.dockers[n-1],this.attachedNodePositionData.get(e.getId()).segment.docker2=this.dockers[n]),!r&&!i&&0!=i){var c=p["a"].getDistancePointToPoint(o,s),h=p["a"].getDistancePointToPoint(o,a);this.attachedNodePositionData.get(e.getId()).relativDistanceFromDocker1=c<h?0:1,this.attachedNodePositionData.get(e.getId()).segment.docker1=this.dockers[n-1],this.attachedNodePositionData.get(e.getId()).segment.docker2=this.dockers[n]}}(i||0==i)&&(this.attachedNodePositionData.get(e.getId()).relativDistanceFromDocker1=this.getLineParameterForPosition(this.attachedNodePositionData.get(e.getId()).segment.docker1,this.attachedNodePositionData.get(e.getId()).segment.docker2,e))}},{key:"findSegment",value:function(e){for(var t,i=this.dockers.length,n=e instanceof m["a"]?e.bounds.center():e,s=1;s<i;s++){var a=this.dockers[s-1].bounds.center(),o=this.dockers[s].bounds.center(),r=p["a"].distancePointLinie(a,o,n,!0);"number"==typeof r&&(void 0===t||r<t.distance)&&(t={distance:r,fromDocker:this.dockers[s-1],toDocker:this.dockers[s]})}return t}},{key:"getLineParameterForPosition",value:function(e,t,i){var n=e.bounds.center(),s=t.bounds.center();this.relativizePoint(n),this.relativizePoint(s);var a=p["a"].getPointOfIntersectionPointLine(n,s,i.bounds.center(),!0);if(!a)return 0;var o=p["a"].getDistancePointToPoint(a,n)/p["a"].getDistancePointToPoint(n,s);return o}},{key:"relativizePoint",value:function(e){e.x-=this.bounds.upperLeft().x,e.y-=this.bounds.upperLeft().y}},{key:"optimizedUpdate",value:function(){var e=function(e){if(e._dockedShape&&e._dockedShapeBounds){var t={x:e._dockedShape.bounds.a.x-e._dockedShapeBounds.a.x,y:e._dockedShape.bounds.a.y-e._dockedShapeBounds.a.y};e.bounds.moveBy(t),e._dockedShapeBounds.moveBy(t)}};e(this.dockers.first()),e(this.dockers.last()),this.refresh()}},{key:"refresh",value:function(){var e;if(Object(d["a"])(Object(l["a"])(t.prototype),"refresh",this).call(this),this._paths.each(function(t,i){var n=this._dockersByPath.get(t.id),s=void 0,a=void 0;e?a="M"+e.x+" "+e.y:(s=n[0].bounds.center(),e=s,a="M"+s.x+" "+s.y);for(var o=1;o<n.length;o++)s=n[o].bounds.center(),a=a+"L"+s.x+" "+s.y+" ",e=s;t.setAttributeNS(null,"d",a),this._interactionPaths[i].setAttributeNS(null,"d",a)}.bind(this)),this.getChildNodes().length>0){var i=this.bounds.upperLeft().x,n=this.bounds.upperLeft().y;this.node.firstChild.childNodes[1].setAttributeNS(null,"transform","translate("+i+", "+n+")")}}},{key:"getIntersectionPoint",value:function(){var e=Math.floor(this.dockers.length/2);return p["a"].midPoint(this.dockers[e-1].bounds.center(),this.dockers[e].bounds.center())}},{key:"isBoundsIncluded",value:function(e){var t=this.dockers,i=t.length;return t.any(function(n,s){if(s==i-1)return!1;var a=n.bounds.center(),o=t[s+1].bounds.center();return p["a"].isRectOverLine(a.x,a.y,o.x,o.y,e.a.x,e.a.y,e.b.x,e.b.y)})}},{key:"isPointIncluded",value:function(e,t){var i=this.absoluteBounds().isIncluded(e,t,E["a"].OFFSET_EDGE_BOUNDS),n=void 0;if(i&&this.dockers.length>0){var s,a,o=0;do{s=this.dockers[o].bounds.center(),a=this.dockers[++o].bounds.center(),n=p["a"].isPointInLine(e,t,s.x,s.y,a.x,a.y,E["a"].OFFSET_EDGE_BOUNDS)}while(!n&&o<this.dockers.length-1)}return n}},{key:"isPointOverOffset",value:function(){return!1}},{key:"containsNode",value:function(e){return!(!this._paths.include(e)&&!this._interactionPaths.include(e))}},{key:"_getAngle",value:function(e,t){var i=e instanceof v["a"].Docker?e.absoluteCenterXY():e,n=t instanceof v["a"].Docker?t.absoluteCenterXY():t;return p["a"].getAngle(i,n)}},{key:"alignDockers",value:function(){this._update(!0);var e=this.dockers.first().bounds.center(),t=this.dockers.last().bounds.center(),i=t.x-e.x,n=t.y-e.y,s=this.dockers.length-1;this.dockers.each(function(t,a){var o=a/s;t.bounds.unregisterCallback(this._dockerChangedCallback),t.bounds.moveTo(e.x+o*i,e.y+o*n),t.bounds.registerCallback(this._dockerChangedCallback)}.bind(this)),this._dockerChanged()}},{key:"add",value:function(e){if(Object(d["a"])(Object(l["a"])(t.prototype),"add",this).call(this,e),e instanceof v["a"].Docker&&this.dockers.include(e)){var i=this._dockersByPath.values()[0];i&&i.splice(this.dockers.indexOf(e),0,e),this.handleChildShapesAfterAddDocker(e)}}},{key:"handleChildShapesAfterAddDocker",value:function(e){if(e instanceof v["a"].Docker){var t=this.dockers.indexOf(e);if(0<t&&t<this.dockers.length-1){var i=this.dockers[t-1],n=this.dockers[t+1],s=this.getAttachedNodePositionDataForSegment(i,n),a=p["a"].getDistancePointToPoint(i.bounds.center(),e.bounds.center()),o=p["a"].getDistancePointToPoint(n.bounds.center(),e.bounds.center());if(a+o){var r=a/(a+o);s.each(function(t){if(t.value.relativDistanceFromDocker1<r)t.value.segment.docker2=e,t.value.relativDistanceFromDocker1=t.value.relativDistanceFromDocker1/r;else{t.value.segment.docker1=e;var i=1-r,n=t.value.relativDistanceFromDocker1-r;t.value.relativDistanceFromDocker1=n/i}}),this.getLabels().each(function(t){var i=t.getReferencePoint();if(i){var n=this.dockers.indexOf(e);if(n>=i.segment.fromIndex&&n<=i.segment.toIndex){var s=this.findSegment(i.intersection);s||(s.fromDocker=i.segment.fromIndex>=this.dockers.length/2?this.dockers[0]:this.dockers[this.dockers.length-2],s.toDocker=this.dockers[this.dockers.indexOf(from)+1]);var a=s.fromDocker.bounds.center(),o=s.toDocker.bounds.center(),r=p["a"].getPointOfIntersectionPointLine(a,o,i.intersection,!0);this.updateReferencePointOfLabel(t,r,s.fromDocker,s.toDocker,!0)}}}.bind(this)),this.refreshAttachedNodes()}}}}},{key:"getAttachedNodePositionDataForSegment",value:function(e,t){if(!(e instanceof v["a"].Docker&&t instanceof v["a"].Docker))return[];var i=this.attachedNodePositionData.findAll(function(i){return i.value.segment.docker1===e&&i.value.segment.docker2===t});return i||[]}},{key:"remove",value:function(e){Object(d["a"])(Object(l["a"])(t.prototype),"remove",this).call(this,e),this.attachedNodePositionData.get(e.getId())&&this.attachedNodePositionData.unset[e.getId()],e instanceof v["a"].Docker&&this.handleChildShapesAfterRemoveDocker(e)}},{key:"updateReferencePointOfLabel",value:function(e,t,i,n,s){if(e.getReferencePoint()&&e.isVisible){var a=e.getReferencePoint();if(a.orientation&&"ce"!==a.orientation){var o=this._getAngle(i,n);a.distance>=0?0==o?(e.horizontalAlign("left"),e.verticalAlign("bottom")):o>0&&o<90?(e.horizontalAlign("right"),e.verticalAlign("bottom")):90==o?(e.horizontalAlign("right"),e.verticalAlign("top")):o>90&&o<180?(e.horizontalAlign("right"),e.verticalAlign("top")):180==o?(e.horizontalAlign("left"),e.verticalAlign("top")):o>180&&o<270?(e.horizontalAlign("left"),e.verticalAlign("top")):270==o?(e.horizontalAlign("left"),e.verticalAlign("top")):o>270&&o<=360&&(e.horizontalAlign("left"),e.verticalAlign("bottom")):0==o?(e.horizontalAlign("left"),e.verticalAlign("top")):o>0&&o<90?(e.horizontalAlign("left"),e.verticalAlign("top")):90==o?(e.horizontalAlign("left"),e.verticalAlign("top")):o>90&&o<180?(e.horizontalAlign("left"),e.verticalAlign("bottom")):180==o?(e.horizontalAlign("left"),e.verticalAlign("bottom")):o>180&&o<270?(e.horizontalAlign("right"),e.verticalAlign("bottom")):270==o?(e.horizontalAlign("right"),e.verticalAlign("top")):o>270&&o<=360&&(e.horizontalAlign("right"),e.verticalAlign("top")),a.iorientation=a.iorientation||a.orientation,a.orientation=("top"==e.verticalAlign()?"u":"l")+("left"==e.horizontalAlign()?"l":"r")}e.setReferencePoint(jQuery.extend({},{intersection:t,segment:{from:i,fromIndex:this.dockers.indexOf(i),fromPosition:i.bounds.center(),to:n,toIndex:this.dockers.indexOf(n),toPosition:n.bounds.center()},dirty:s||!1},a))}}},{key:"handleChildShapesAfterRemoveDocker",value:function(e){e instanceof v["a"].Docker&&(this.attachedNodePositionData.each(function(t){if(t.value.segment.docker1===e){var i=this.dockers.indexOf(t.value.segment.docker2);if(-1==i)return;t.value.segment.docker1=this.dockers[i-1]}else if(t.value.segment.docker2===e){var n=this.dockers.indexOf(t.value.segment.docker1);if(-1==n)return;t.value.segment.docker2=this.dockers[n+1]}}.bind(this)),this.getLabels().each(function(t){var i=t.getReferencePoint();if(i){var n=i.segment.from,s=i.segment.to;if(n===e||s===e){var a=this.findSegment(i.intersection);a?(n=n===e?this.dockers[this.dockers.indexOf(s)-1]:n,s=this.dockers[this.dockers.indexOf(n)+1]):(n=a.fromDocker,s=a.toDocker);var o=p["a"].getPointOfIntersectionPointLine(n.bounds.center(),s.bounds.center(),i.intersection,!0);this.updateReferencePointOfLabel(t,o,n,s,!0)}}}.bind(this)),this.refreshAttachedNodes())}},{key:"addDocker",value:function(e,t){var i,n;return this._dockersByPath.any(function(s){return s.value.any(function(a,o){if(i){var r=i.bounds.center(),c=a.bounds.center(),h=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var l=navigator.userAgent;if(l.indexOf("MSIE")>=0){var d=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==d&&(h=d/100)}}if(1!==h&&(e.x=e.x/h,e.y=e.y/h),p["a"].isPointInLine(e.x,e.y,r.x,r.y,c.x,c.y,10)){var u=this._paths.find(function(e){return e.id===s.key});if(u){var g=u.getAttributeNS(E["a"].NAMESPACE_ORYX,"allowDockers");if(g&&"no"===g.toLowerCase())return!0}var A=t||this.createDocker(this.dockers.indexOf(i)+1,e);return A.bounds.centerMoveTo(e),t&&this.add(A,this.dockers.indexOf(i)+1),n=A,!0}return i=a,!1}return i=a,!1}.bind(this))}.bind(this)),n}},{key:"removeDocker",value:function(e){this.dockers.length>2&&this.dockers.first()!==e&&this._dockersByPath.any(function(t){return!!t.value.member(e)&&(e===t.value.last()||(this.remove(e),this._dockersByPath.set(t.key,t.value.without(e)),this.isChanged=!0,this._dockerChanged(),!0))}.bind(this))}},{key:"removeUnusedDockers",value:function(){var e=new Hash;return this.dockers.each(function(t,i){if(0!=i&&i!=this.dockers.length-1){var n=this.dockers[i-1];-1!=e.values().indexOf(n)&&this.dockers[i-2]&&(n=this.dockers[i-2]);var s=this.dockers[i+1],a=n.getDockedShape()&&n.referencePoint?n.getAbsoluteReferencePoint():n.bounds.center(),o=s.getDockedShape()&&s.referencePoint?s.getAbsoluteReferencePoint():s.bounds.center(),r=t.bounds.center();p["a"].isPointInLine(r.x,r.y,a.x,a.y,o.x,o.y,1)&&e.set(i,t)}}.bind(this)),e.each(function(e){this.removeDocker(e.value)}.bind(this)),e.values().length>0&&this._update(!0),e}},{key:"_init",value:function(e){var i,n,s,a;Object(d["a"])(Object(l["a"])(t.prototype),"_init",this).call(this,e);var o=e.getElementsByTagNameNS(E["a"].NAMESPACE_SVG,"defs");if(o.length>0){o=o[0];var r,c=$A(o.getElementsByTagNameNS(E["a"].NAMESPACE_SVG,"marker")),h=this;c.each(function(e){try{r=new A["a"].SVGMarker(e.cloneNode(!0)),h._markers.set(r.id,r);var t,i=$A(r.element.getElementsByTagNameNS(E["a"].NAMESPACE_SVG,"text"));i.each(function(e){t=new A["a"].Label({textElement:e,shapeId:this.id}),h._labels.set(t.id,t)})}catch(n){}})}var u=e.getElementsByTagNameNS(E["a"].NAMESPACE_SVG,"g");if(u.length<=0)throw"Edge: No g element found.";var g=u[0];g.setAttributeNS(null,"id",null);var p=!0;$A(g.childNodes).each(function(e,t){if(f["a"].checkClassType(e,SVGPathElement)){e=e.cloneNode(!1);var o=this.id+"_"+t;e.setAttributeNS(null,"id",o),this._paths.push(e);var r=[],c=e.getAttributeNS(null,"marker-start");if(c&&""!==c){c=c.strip(),c=c.replace(/^url\(#/,"");var h=this.getValidMarkerId(c);e.setAttributeNS(null,"marker-start","url(#"+h+")"),r.push(this._markers.get(h))}if(c=e.getAttributeNS(null,"marker-mid"),c&&""!==c){c=c.strip(),c=c.replace(/^url\(#/,"");var l=this.getValidMarkerId(c);e.setAttributeNS(null,"marker-mid","url(#"+l+")"),r.push(this._markers.get(l))}if(c=e.getAttributeNS(null,"marker-end"),c&&""!==c){c=c.strip();var d=this.getValidMarkerId(c);e.setAttributeNS(null,"marker-end","url(#"+d+")"),r.push(this._markers.get(d))}this._markersByPath[o]=r;var u=new b["a"],g=new A["a"].PointsPathHandler;if(u.setHandler(g),u.parsePath(e),g.points.length<4)throw"Edge: Path has to have two or more points specified.";this._dockersByPath.set(o,[]);for(var E=0;E<g.points.length;E+=2){var _=g.points[E],m=g.points[E+1];if(p||E>0){var S=new v["a"].Docker({eventHandlerCallback:this.eventHandlerCallback});S.bounds.centerMoveTo(_,m),S.bounds.registerCallback(this._dockerChangedCallback),this.add(S,this.dockers.length),i?(i=Math.min(_,i),n=Math.min(m,n)):(i=_,n=m),s?(s=Math.max(_,s),a=Math.max(m,a)):(s=_,a=m)}}p=!1}}.bind(this)),this.bounds.set(i,n,s,a),this._oldBounds=this.bounds.clone(),this._paths.reverse();var _=[];this._paths.each(function(e){_.push(this.node.childNodes[0].childNodes[0].childNodes[0].appendChild(e))}.bind(this)),this._paths=_,this._paths.each(function(e){var t=e.cloneNode(!1);t.setAttributeNS(null,"id",void 0),t.setAttributeNS(null,"stroke-width",10),t.setAttributeNS(null,"visibility","hidden"),t.setAttributeNS(null,"stroke-dasharray",null),t.setAttributeNS(null,"stroke","black"),t.setAttributeNS(null,"fill","none"),t.setAttributeNS(null,"title",this.getStencil().title()),this._interactionPaths.push(this.node.childNodes[0].childNodes[0].childNodes[0].appendChild(t))}.bind(this)),this._paths.reverse(),this._interactionPaths.reverse();var m=e.getElementsByTagNameNS(E["a"].NAMESPACE_SVG,"text");$A(m).each(function(e){var t=new A["a"].Label({textElement:e,shapeId:this.id});this.node.childNodes[0].childNodes[0].appendChild(t.node),this._labels.set(t.id,t),t.registerOnChange(this.layout.bind(this))}.bind(this)),this.propertiesChanged.each(function(e){e.value=!0})}},{key:"getValidMarkerId",value:function(e){if(e.indexOf('url("#')>=0){var t=e.replace(/^url\(\"#/,"").replace(/\"\)$/,"");return this.id+t}return e=e.replace(/^url\(#/,""),this.id.concat(e.replace(/\)$/,""))}},{key:"addMarkers",value:function(e){this._markers.each(function(t){e.ownerDocument.getElementById(t.value.id)||(t.value.element=e.appendChild(t.value.element))})}},{key:"removeMarkers",value:function(){var e=this.node.ownerSVGElement;if(e){var t=e.getElementsByTagNameNS(E["a"].NAMESPACE_SVG,"defs");t.length>0&&(t=t[0],this._markers.each(function(e){var i=t.ownerDocument.getElementById(e.value.id);i&&(e.value.element=t.removeChild(e.value.element))}))}}},{key:"_dockerChanged",value:function(){this._dockerUpdated=!0}},{key:"serialize",value:function(){var e=Object(d["a"])(Object(l["a"])(t.prototype),"serialize",this).call(this),i="";this._dockersByPath.each(function(e){e.value.each(function(e){var t=e.getDockedShape()&&e.referencePoint?e.referencePoint:e.bounds.center();i=i.concat(t.x+" "+t.y+" ")}),i+=" # "}.bind(this)),e.push({name:"dockers",prefix:"oryx",value:i,type:"literal"});var n=this.dockers.last(),s=n.getDockedShape();s&&e.push({name:"target",prefix:"raziel",value:"#"+_["a"].__stripHashes(s.resourceId),type:"resource"});try{var a=this.getStencil().serialize();a.type&&(a.shape=this,a.data=e,a.result=void 0,a.forceExecution=!0,this._delegateEvent(a),a.result&&(e=a.result))}catch(o){}return e}},{key:"deserialize",value:function(e){try{var i=this.getStencil().deserialize();i.type&&(i.shape=this,i.data=e,i.result=void 0,i.forceExecution=!0,this._delegateEvent(i),i.result&&(e=i.result))}catch(h){}var n,a=e.find(function(e){return e.prefix+"-"+e.name=="raziel-target"});a&&(n=this.getCanvas().getChildShapeByResourceId(a.value));var o=e.findAll(function(e){return e.prefix+"-"+e.name=="raziel-outgoing"});o.each(function(e){if(this.parent){var i=this.getCanvas().getChildShapeByResourceId(e.value);i&&(i==n?(this.dockers.last().setDockedShape(i),this.dockers.last().setReferencePoint({x:i.bounds.width()/2,y:i.bounds.height()/2})):i instanceof t&&i.dockers.first().setDockedShape(this))}}.bind(this));var r=e.find(function(e){return"oryx"===e.prefix&&"dockers"===e.name});if(r){var c=r.value.split("#").without("").without(" ");c.each(function(e,t){var i=e.replace(/,/g," ").split(" ").without("");if(i.length%2===0){var n=this._paths[t];if(n){if(0===t)while(this._dockersByPath.get(n.id).length>2)this.removeDocker(this._dockersByPath.get(n.id)[1]);else while(this._dockersByPath.get(n.id).length>1)this.removeDocker(this._dockersByPath.get(n.id)[0]);var a=this._dockersByPath.get(n.id);if(0===t){var o=s()(i.shift()),r=s()(i.shift());a.first().getDockedShape()?a.first().setReferencePoint({x:o,y:r}):a.first().bounds.centerMoveTo(o,r)}var c=s()(i.pop()),h=s()(i.pop());a.last().getDockedShape()?a.last().setReferencePoint({x:h,y:c}):a.last().bounds.centerMoveTo(h,c);for(var l=0;l<i.length;l++){h=s()(i[l]),c=s()(i[++l]);var d=this.createDocker();d.bounds.centerMoveTo(h,c)}}}}.bind(this))}else this.alignDockers();Object(d["a"])(Object(l["a"])(t.prototype),"deserialize",this).apply(this,arguments),this._changed()}},{key:"toString",value:function(){return this.getStencil().title()+" "+this.id}},{key:"getTarget",value:function(){return this.dockers.last()?this.dockers.last().getDockedShape():null}},{key:"getSource",value:function(){return this.dockers.first()?this.dockers.first().getDockedShape():null}},{key:"isDocked",value:function(){var e=!1;return this.dockers.each(function(t){if(t.isDocked())throw e=!0,$break}),e}},{key:"toJSON",value:function(){var e=Object(d["a"])(Object(l["a"])(t.prototype),"toJSON",this).call(this);return this.getTarget()&&(e.target={resourceId:this.getTarget().resourceId}),e}},{key:"getInstanceofType",value:function(){return"Edge, Shape"}}]),t}(g["a"])},"96ac":function(e,t,i){"use strict";var n=i("031d"),s=i.n(n);s.a},"976e":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAI3SURBVDiNdZNPiI5RFMZ/54pJmh0hu4lpym6+YaHIykSzpHnv9w4xFixkKNmMkFJYYNiQv9H3npmNmprMQinDzBRmpaaJKKWYshAp/3ofi++O3o27ubdzn+e559zzHJNEdWVZ1m5mDaAFWJ7CM8CMpGJ4ePh1FR8WDmZm9Xr9iJlNA13AWmAH0CXppqSlZjaZMPaPJwkzs97e3jEzawVGgd3APPDB3fcvgPM8byvL8q6kFkl9IyMjbwJAjHHAzFo7Ojq2AjVgHDgK9MUYOxcEGo3GuxDCHjOrhRDOAIQsy9olDYYQ9s7NzQFsAx66+yxwDbhUrbksy6vAIqA7y7L2YGZ1SbcbjcY7YGO6nE7408D6GOPOlOkuoAeYl3TDzGJIKU8lwnbgEbA6xngI+AqcBC7EGFcBV9LfPE2crgDUzOxFRWAcuAVcBfYA14HvwHPgPfAGmEic2r82xhhXAJ3AmrSfAE6lkgaAn8Dh1OKJBV6gaZANQDfwGTiWgOeBX8ABd3/s7uuAxcAP4FXizASaLtuU0l8JPHH3wt3/pPoHY4zL0oObgUl3LxPnZZBUmFl/EvgCHKx0bQT4lDIC2AJM5HneZmb9ktwkUa/XL0o6amb9RVHcqQgQY+wB7tO09lsz2yHpnJk9KIricgAoy/IZ8FHSvjzP26oC7j4GzAL3gCWSzkv65u5DkGYBmsMUYxyQNCjpNjBVae9e4Czw28yOu/uQEtH+M851mgarpfAM0A6MuvvxKv4vcuLvYtMimB8AAAAASUVORK5CYII="},"995b":function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("d225"),s=i("b0b4"),a=function(){function e(t,i,s){if(Object(n["a"])(this,e),!t)throw"ORYX.Core.StencilSet.PropertyItem(construct): Parameter jsonItem is not defined.";if(!i)throw"ORYX.Core.StencilSet.PropertyItem(construct): Parameter namespace is not defined.";if(!s)throw"ORYX.Core.StencilSet.PropertyItem(construct): Parameter property is not defined.";if(this._jsonItem=t,this._namespace=i,this._property=s,!t.value)throw"ORYX.Core.StencilSet.PropertyItem(construct): Value is not defined.";this._jsonItem.refToView?this._jsonItem.refToView instanceof Array||(this._jsonItem.refToView=[this._jsonItem.refToView]):this._jsonItem.refToView=[]}return Object(s["a"])(e,[{key:"equals",value:function(e){return this.property().equals(e.property())&&this.value()===e.value()}},{key:"namespace",value:function(){return this._namespace}},{key:"property",value:function(){return this._property}},{key:"value",value:function(){return this._jsonItem.value}},{key:"title",value:function(){return this._jsonItem.title}},{key:"refToView",value:function(){return this._jsonItem.refToView}},{key:"icon",value:function(){return this._jsonItem.icon?this.property().stencil()._source+"icons/"+this._jsonItem.icon:""}},{key:"toString",value:function(){return"PropertyItem "+this.property()+" ("+this.value()+")"}}]),e}()},"9be4":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHwSURBVDiNpZO7ahtREIb//2zlgEq/QAxmm1RSHJBSqA0IFSn2mkLkBWQMBoMLWYXBpDBJb0SK7OpSpJADadNIEBw1qUQKvYGrsO52/xQ+axaRuMnAgTkz8w3DXCgJVQmCYJ9kBKBuHwCsAKwkpZPJ5Fc13pQKSUZRdEhyIWlH0hWABoCGpCtJOyQXNoYPnCSQpO/7X0jWjDG9JEk2tppTAJhMJucAEMfx06IoPkr6PZ1OO5JkACAMwz7Jmuu67Qq8R/KI5FEQBHsAkCTJxnXdNslaGIZ9AKDv+/skF8aYFyUMAFEUzST9tN9n4/HYL322ku+SWoZkJGlUheM4PpDUyrLsMsuySwAv4zg+KP1JkmwkjUiGxnZ6We1sURTvAJzN5/O7+Xx+B+DM2qqyBNAwAOokbypj7JDczfN8VNryPB+R3A2CoFOZ2g2Auqmm9DzPIXkB4GQ2m+Wl3eonJC88z3OqjMH9gjwHAMdxeiRv0zS93ioXaZpek7x1HKcHAJZZGdxvWbPb7T4BMCR5vA1Xyj4GMLSxTQA/HsZI8o2krwD4rwRWRPKVpE+SWpSEKIoOJb12Xbc9GAyKx+jhcGjW6/U3kp/TNH3/6Cpvy99WmeU1kmQYhn1Jp5JGAJbleG3DmiTfkjwfj8cfZEH+7zn/AYEtEGe76vxlAAAAAElFTkSuQmCC"},a09b:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHdSURBVDiNlZA/aFNRFMZ/517TBCuVUsFAUXCQBAcnqVDIkEmK4KI8cpPwNsnmWBzjlkUdugjFofD+OLg5qOhiBxUFtaBDS+0SBwXx3/p877i8V5MUrL1wufc79/t+h3tEVfE8b95aewF4EsfxkAMs45y7Z60dAneBbedco3jsdDqznuedKXSz2Ty0ByAiD4HvuZ4CLIDv+9NZlm1Ya98458632+3L1Wr1p3Pu4hggiqI1YLsoiMh7gCRJVoETQFlE1lT1NnAYWPF9f3oX0Ov1SsBCrj/UarVvrVZrFXCFSVVrOQzgVJIkg92Gqopz7gdwFEiA18DiPrNTY8xSGIaPC8A60NgnNLm+lEqlsyb/9+8DhgEkSZLrBkBVX/1naAcomm0BRwxApVIZAM8AnQi8yM87ItKo1+ungZW8NisiD0T1b8Y5twikwE3gnTHmVpZlH0VkKYqiRwDdbncmTdMt4LiqLpvRdnEcP0/T9C1wzlo7CMNwB9gAZgpPEAS/VHUZQESujAEAyuXyHLAZBMGnfD5PgWMTtpfAV2B+DyBN00vAeqFF5LOqVkc9xpgaMASmxgCe550EronI/TwsquoD1RGPVdUbIrKpqldR1X9u51yv3W4vjNb6/b4p7n8ANDrN08J3/dUAAAAASUVORK5CYII="},a1e5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAA4ElEQVQ4jcXTMUoDYRQE4E/RxkKIVsFGlniCdGJhZ+0BbGOuZG0nHsDSQrCKFxAWK1OpYGFjRAvfg5dULls4sOzO8L/ZmX/3pyfW4r6HE2z8cW6BGzyn8IDvjtesJnjFI96Dj/GCp+D72M0hbOMAO4pBUyJeYVL4JLREEzNLnavBAMOiDUNrVtfWCpv4LBEX+Ai+FS/Lirl2qcKoJLjGtPBpaIlRVljXE70r1E08RRvPF7jDZfAzHOE8eCO+SjVoi8Eb5oXPQ2utICvc+92PLj/SFw7TYIBj3c7CbaT6Z/wA/KJBKwSJwNIAAAAASUVORK5CYII="},a2d5:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAG6SURBVDiNpVMxixNBFP6+2YgEDCmsrrU4thRSHOQsUocrzsJsZiNExD6CpdUW6ZVrQ0gCm52kUvAnmJMTYyukCFjZiCB2QuazuF1ZJHcg98HAe/Pe92Z473uUhDK63e4hyRhAIz8AsAawljR3zm3K+aYwSDKO4+ckV5KqkkYADgAcSBpJqpJc5Tn8y5MEkoyi6B3JmjHmSZqmW+xBr9e7572fSPq1WCxOJMkAgLV2QLIWhmHrKjIApGm6DcOwRbJmrR0AAKMoOiS5MsYcXUcGgDiOHwP4TnLjvb+QdFwhGUsaX0fudDrVIAjOALQkdZxz2263OyZpK3mnR3teewDglaRbQRDcAfB5t9s1lsvlzzzlHMCzCoAGyRMALBeQdAbgfu5+zbLsUTlO8g2AbwZX43fJrrbb7dv7kgwuBXL6b4DkCwAfSa4BfKnX6x/6/f7d0g9PAawruFRZE8DbcoH5fP4ewFHhW2sfzmazH9PptLhqAvj0X2MskAvqQtKxcc5tSA6995MkSa7rCQAgSRLjvZ+QHDrnNjeWMottJElr7UDSS0ljAOf5qIqGNUk+JTnMsuy1ciJvus5/AKMw7BIT3RiXAAAAAElFTkSuQmCC"},a6b1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAA6ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOk1vZGlmeURhdGU+MjAxNS0wMy0zMVQxODowMzoxNzwveG1wOk1vZGlmeURhdGU+CiAgICAgICAgIDx4bXA6Q3JlYXRvclRvb2w+UGl4ZWxtYXRvciAzLjM8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6Q29tcHJlc3Npb24+NTwvdGlmZjpDb21wcmVzc2lvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPHRpZmY6WVJlc29sdXRpb24+NzI8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjcyPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+MTY8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpDb2xvclNwYWNlPjE8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxZRGltZW5zaW9uPjE2PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CuoDqDMAAADmSURBVDgRtZK7DgFRFEXH4yckGpHoFDoNGhGJwh+oBIWoxAfodELrUxRKFX8gkeiIjhDxWDsxyR1mJjMRO1kz556zz537GMv6UZEQ/VG8OchCBjYwg0Aq4FrA02BMHEgdXCdQ8xDUqLgBVlwPH3WpTcDe6oH4AXdYw5dSZLTcKvThBuay7XhOPgYOJRhtwTZ5vc948o7O92AaoFnLb7s1F0lqX15fVf4CPXBVnewSRtCCI3xONiDnK/ukZSrDHsxJKiqEUROzOUHJrVm/p5fSRmFHLAJLd7yCK+h2khBKOo8a6Hb+qxfAEUnyloiAAQAAAABJRU5ErkJggg=="},a791:function(e,t,i){"use strict";i("a481");var n=5,s=4,a=3,o=2,r=1,c=0,h=3;function l(){for(var e=arguments[0],t=1;t<arguments.length;t++)e=e.replace("%"+(t-1),arguments[t]);return e}var d={__appenders:[{append:function(e){"undefined"!==typeof console&&void 0!==console.log&&console.log(e)}}],trace:function(){h>=n&&d.__log("TRACE",arguments)},debug:function(){h>=s&&d.__log("DEBUG",arguments)},info:function(){h>=a&&d.__log("INFO",arguments)},warn:function(){h>=o&&d.__log("WARN",arguments)},error:function(){h>=r&&d.__log("ERROR",arguments)},fatal:function(){h>=c&&d.__log("FATAL",arguments)},__log:function(e,t){t[0]=(new Date).getTime()+" "+e+" "+t[0];var i=l.apply(null,t);d.__appenders.each(function(e){e.append(i)})},addAppender:function(e){d.__appenders.push(e)}};t["a"]=d},aafb:function(e,t,i){"use strict";var n={listeners:{},addListener:function(e,t,i){"undefined"!==typeof this.listeners[e]?this.listeners[e].push({scope:i,callback:t}):this.listeners[e]=[{scope:i,callback:t}]},removeListener:function(e,t,i){if("undefined"!==typeof this.listeners[e]){for(var n=this.listeners[e].length,s=[],a=0;a<n;a++){var o=this.listeners[e][a];o.scope===i&&o.callback===t||s.push(o)}this.listeners[e]=s}},hasListener:function(e,t,i){if("undefined"!==typeof this.listeners[e]){var n=this.listeners[e].length;if(void 0===t&&void 0===i)return n>0;for(var s=0;s<n;s++){var a=this.listeners[e][s];if(a.scope===i&&a.callback===t)return!0}}return!1},dispatch:function(e,t,i){if("undefined"!==typeof this.listeners[e])for(var n=this.listeners[e].length,s=0;s<n;s++){var a=this.listeners[e][s];a&&a.callback&&a.callback.apply(a.scope,[t,i])}}};t["a"]=n},ab77:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAEaSURBVDiNnZMxTsNAEEX/TFxYgoIWijSUiDJISIjg3MFreyUKt1TcBAp6I6XxLiegwVIqTuACiQO4o6D07lA5IgSMnZF+szv/z5NmFyKCXRTH8VREQCKCsZUkySUzW+fc2eiANE2PvfdEREfGmBWPMWutF0T0ysxijFkBwOCAPM8PAOwRUVKW5Xt3HgydLCLLMAxPiqL4+H73L0EURYH3/pyIrn+aAfRvQWs9997fN00zq6qq/a2nl0BEbpj59i9z17SlLMvmaZo+DXlQWwRKqYmI3BHRQx9dVxtb0FpfMPPCOTez1rohAWsCpdS+iCyZ+WWoeU2QZdlVEASHbdueWms/h5oBYFLX9ZSZnwE8GmPexpgBYONr7qIvNHLtFa0NliQAAAAASUVORK5CYII="},abda:function(e,t,i){"use strict";var n=i("59ad"),s=i.n(n),a=i("d225"),o=i("b0b4"),r=function(){function e(){Object(a["a"])(this,e),this.x=0,this.y=0,this.oldX=0,this.oldY=0,this.deltaWidth=1,this.deltaHeight=1,this.d=""}return Object(o["a"])(e,[{key:"init",value:function(e,t,i,n,s,a){this.x=e,this.y=t,this.oldX=i,this.oldY=n,this.deltaWidth=s,this.deltaHeight=a,this.d=""}},{key:"editPointsAbs",value:function(e){if(e instanceof Array){for(var t,i,n=[],a=0;a<e.length;a++)t=(s()(e[a])-this.oldX)*this.deltaWidth+this.x,a++,i=(s()(e[a])-this.oldY)*this.deltaHeight+this.y,n.push(t),n.push(i);return n}}},{key:"editPointsRel",value:function(e){if(e instanceof Array){for(var t,i,n=[],a=0;a<e.length;a++)t=s()(e[a])*this.deltaWidth,a++,i=s()(e[a])*this.deltaHeight,n.push(t),n.push(i);return n}}},{key:"arcAbs",value:function(e,t,i,n,s,a,o){var r=this.editPointsAbs([a,o]),c=this.editPointsRel([e,t]);this.d=this.d.concat(" A"+c[0]+" "+c[1]+" "+i+" "+n+" "+s+" "+r[0]+" "+r[1]+" ")}},{key:"arcRel",value:function(e,t,i,n,s,a,o){var r=this.editPointsRel([e,t,a,o]);this.d=this.d.concat(" a"+r[0]+" "+r[1]+" "+i+" "+n+" "+s+" "+r[2]+" "+r[3]+" ")}},{key:"curvetoCubicAbs",value:function(e,t,i,n,s,a){var o=this.editPointsAbs([e,t,i,n,s,a]);this.d=this.d.concat(" C"+o[0]+" "+o[1]+" "+o[2]+" "+o[3]+" "+o[4]+" "+o[5]+" ")}},{key:"curvetoCubicRel",value:function(e,t,i,n,s,a){var o=this.editPointsRel([e,t,i,n,s,a]);this.d=this.d.concat(" c"+o[0]+" "+o[1]+" "+o[2]+" "+o[3]+" "+o[4]+" "+o[5]+" ")}},{key:"linetoHorizontalAbs",value:function(e){var t=this.editPointsAbs([e,0]);this.d=this.d.concat(" H"+t[0]+" ")}},{key:"linetoHorizontalRel",value:function(e){var t=this.editPointsRel([e,0]);this.d=this.d.concat(" h"+t[0]+" ")}},{key:"linetoAbs",value:function(e,t){var i=this.editPointsAbs([e,t]);this.d=this.d.concat(" L"+i[0]+" "+i[1]+" ")}},{key:"linetoRel",value:function(e,t){var i=this.editPointsRel([e,t]);this.d=this.d.concat(" l"+i[0]+" "+i[1]+" ")}},{key:"movetoAbs",value:function(e,t){var i=this.editPointsAbs([e,t]);this.d=this.d.concat(" M"+i[0]+" "+i[1]+" ")}},{key:"movetoRel",value:function(e,t){var i;i=""===this.d?this.editPointsAbs([e,t]):this.editPointsRel([e,t]),this.d=this.d.concat(" m"+i[0]+" "+i[1]+" ")}},{key:"curvetoQuadraticAbs",value:function(e,t,i,n){var s=this.editPointsAbs([e,t,i,n]);this.d=this.d.concat(" Q"+s[0]+" "+s[1]+" "+s[2]+" "+s[3]+" ")}},{key:"curvetoQuadraticRel",value:function(e,t,i,n){var s=this.editPointsRel([e,t,i,n]);this.d=this.d.concat(" q"+s[0]+" "+s[1]+" "+s[2]+" "+s[3]+" ")}},{key:"curvetoCubicSmoothAbs",value:function(e,t,i,n){var s=this.editPointsAbs([e,t,i,n]);this.d=this.d.concat(" S"+s[0]+" "+s[1]+" "+s[2]+" "+s[3]+" ")}},{key:"curvetoCubicSmoothRel",value:function(e,t,i,n){var s=this.editPointsRel([e,t,i,n]);this.d=this.d.concat(" s"+s[0]+" "+s[1]+" "+s[2]+" "+s[3]+" ")}},{key:"curvetoQuadraticSmoothAbs",value:function(e,t){var i=this.editPointsAbs([e,t]);this.d=this.d.concat(" T"+i[0]+" "+i[1]+" ")}},{key:"curvetoQuadraticSmoothRel",value:function(e,t){var i=this.editPointsRel([e,t]);this.d=this.d.concat(" t"+i[0]+" "+i[1]+" ")}},{key:"linetoVerticalAbs",value:function(e){var t=this.editPointsAbs([0,e]);this.d=this.d.concat(" V"+t[1]+" ")}},{key:"linetoVerticalRel",value:function(e){var t=this.editPointsRel([0,e]);this.d=this.d.concat(" v"+t[1]+" ")}},{key:"closePath",value:function(){this.d=this.d.concat(" z")}}]),e}(),c=function(){function e(){Object(a["a"])(this,e),this.minX=void 0,this.minY=void 0,this.maxX=void 0,this.maxY=void 0,this._lastAbsX=void 0,this._lastAbsY=void 0}return Object(o["a"])(e,[{key:"calculateMinMax",value:function(e){if(e instanceof Array)for(var t,i,n=0;n<e.length;n++)t=s()(e[n]),n++,i=s()(e[n]),this.minX=void 0!==this.minX?Math.min(this.minX,t):t,this.maxX=void 0!==this.maxX?Math.max(this.maxX,t):t,this.minY=void 0!==this.minY?Math.min(this.minY,i):i,this.maxY=void 0!==this.maxY?Math.max(this.maxY,i):i,this._lastAbsX=t,this._lastAbsY=i}},{key:"arcAbs",value:function(e,t,i,n,s,a,o){this.calculateMinMax([a,o])}},{key:"arcRel",value:function(e,t,i,n,s,a,o){this.calculateMinMax([this._lastAbsX+a,this._lastAbsY+o])}},{key:"curvetoCubicAbs",value:function(e,t,i,n,s,a){this.calculateMinMax([e,t,i,n,s,a])}},{key:"curvetoCubicRel",value:function(e,t,i,n,s,a){this.calculateMinMax([this._lastAbsX+e,this._lastAbsY+t,this._lastAbsX+i,this._lastAbsY+n,this._lastAbsX+s,this._lastAbsY+a])}},{key:"linetoHorizontalAbs",value:function(e){this.calculateMinMax([e,this._lastAbsY])}},{key:"linetoHorizontalRel",value:function(e){this.calculateMinMax([this._lastAbsX+e,this._lastAbsY])}},{key:"linetoAbs",value:function(e,t){this.calculateMinMax([e,t])}},{key:"linetoRel",value:function(e,t){this.calculateMinMax([this._lastAbsX+e,this._lastAbsY+t])}},{key:"movetoAbs",value:function(e,t){this.calculateMinMax([e,t])}},{key:"movetoRel",value:function(e,t){this._lastAbsX&&this._lastAbsY?this.calculateMinMax([this._lastAbsX+e,this._lastAbsY+t]):this.calculateMinMax([e,t])}},{key:"curvetoQuadraticAbs",value:function(e,t,i,n){this.calculateMinMax([e,t,i,n])}},{key:"curvetoQuadraticRel",value:function(e,t,i,n){this.calculateMinMax([this._lastAbsX+e,this._lastAbsY+t,this._lastAbsX+i,this._lastAbsY+n])}},{key:"curvetoCubicSmoothAbs",value:function(e,t,i,n){this.calculateMinMax([e,t,i,n])}},{key:"curvetoCubicSmoothRel",value:function(e,t,i,n){this.calculateMinMax([this._lastAbsX+e,this._lastAbsY+t,this._lastAbsX+i,this._lastAbsY+n])}},{key:"curvetoQuadraticSmoothAbs",value:function(e,t){this.calculateMinMax([e,t])}},{key:"curvetoQuadraticSmoothRel",value:function(e,t){this.calculateMinMax([this._lastAbsX+e,this._lastAbsY+t])}},{key:"linetoVerticalAbs",value:function(e){this.calculateMinMax([this._lastAbsX,e])}},{key:"linetoVerticalRel",value:function(e){this.calculateMinMax([this._lastAbsX,this._lastAbsY+e])}},{key:"closePath",value:function(){}}]),e}(),h=function(){function e(){Object(a["a"])(this,e),this.points=[],this._lastAbsX=void 0,this._lastAbsY=void 0}return Object(o["a"])(e,[{key:"addPoints",value:function(e){if(e instanceof Array)for(var t,i,n=0;n<e.length;n++)t=s()(e[n]),n++,i=s()(e[n]),this.points.push(t),this.points.push(i),this._lastAbsX=t,this._lastAbsY=i}},{key:"arcAbs",value:function(e,t,i,n,s,a,o){this.addPoints([a,o])}},{key:"arcRel",value:function(e,t,i,n,s,a,o){this.addPoints([this._lastAbsX+a,this._lastAbsY+o])}},{key:"curvetoCubicAbs",value:function(e,t,i,n,s,a){this.addPoints([s,a])}},{key:"curvetoCubicRel",value:function(e,t,i,n,s,a){this.addPoints([this._lastAbsX+s,this._lastAbsY+a])}},{key:"linetoHorizontalAbs",value:function(e){this.addPoints([e,this._lastAbsY])}},{key:"linetoHorizontalRel",value:function(e){this.addPoints([this._lastAbsX+e,this._lastAbsY])}},{key:"linetoAbs",value:function(e,t){this.addPoints([e,t])}},{key:"linetoRel",value:function(e,t){this.addPoints([this._lastAbsX+e,this._lastAbsY+t])}},{key:"movetoAbs",value:function(e,t){this.addPoints([e,t])}},{key:"movetoRel",value:function(e,t){this._lastAbsX&&this._lastAbsY?this.addPoints([this._lastAbsX+e,this._lastAbsY+t]):this.addPoints([e,t])}},{key:"curvetoQuadraticAbs",value:function(e,t,i,n){this.addPoints([i,n])}},{key:"curvetoQuadraticRel",value:function(e,t,i,n){this.addPoints([this._lastAbsX+i,this._lastAbsY+n])}},{key:"curvetoCubicSmoothAbs",value:function(e,t,i,n){this.addPoints([i,n])}},{key:"curvetoCubicSmoothRel",value:function(e,t,i,n){this.addPoints([this._lastAbsX+i,this._lastAbsY+n])}},{key:"curvetoQuadraticSmoothAbs",value:function(e,t){this.addPoints([e,t])}},{key:"curvetoQuadraticSmoothRel",value:function(e,t){this.addPoints([this._lastAbsX+e,this._lastAbsY+t])}},{key:"linetoVerticalAbs",value:function(e){this.addPoints([this._lastAbsX,e])}},{key:"linetoVerticalRel",value:function(e){this.addPoints([this._lastAbsX,this._lastAbsY+e])}},{key:"closePath",value:function(){}}]),e}(),l=i("af70"),d=(i("4917"),i("28a5"),i("a481"),i("0130")),u=i("4883"),g=i("8eec"),A=function(){function e(t){Object(a["a"])(this,e),this.type=null,this.element=t,this.x=void 0,this.y=void 0,this.width=void 0,this.height=void 0,this.oldX=void 0,this.oldY=void 0,this.oldWidth=void 0,this.oldHeight=void 0,this.radiusX=void 0,this.radiusY=void 0,this.isHorizontallyResizable=!1,this.isVerticallyResizable=!1,this.anchorLeft=!1,this.anchorRight=!1,this.anchorTop=!1,this.anchorBottom=!1,this.allowDockers=!0,this.resizeMarkerMid=!1,this.editPathParser=null,this.editPathHandler=null,this.init()}return Object(o["a"])(e,[{key:"init",value:function(){if(d["a"].checkClassType(this.element,SVGRectElement)||d["a"].checkClassType(this.element,SVGImageElement)){this.type="Rect";var e=this.element.getAttributeNS(null,"x");if(!e)throw"Missing attribute in element "+this.element;this.oldX=s()(e);var t=this.element.getAttributeNS(null,"y");if(!t)throw"Missing attribute in element "+this.element;this.oldY=s()(t);var i=this.element.getAttributeNS(null,"width");if(!i)throw"Missing attribute in element "+this.element;this.oldWidth=s()(i);var n=this.element.getAttributeNS(null,"height");if(!n)throw"Missing attribute in element "+this.element;this.oldHeight=s()(n)}else if(d["a"].checkClassType(this.element,SVGCircleElement)){this.type="Circle";var a=void 0,o=void 0,h=this.element.getAttributeNS(null,"cx");if(!h)throw"Missing attribute in element "+this.element;a=s()(h);var u=this.element.getAttributeNS(null,"cy");if(!u)throw"Missing attribute in element "+this.element;o=s()(u);var A=this.element.getAttributeNS(null,"r");if(!A)throw"Missing attribute in element "+this.element;this.radiusX=s()(A),this.oldX=a-this.radiusX,this.oldY=o-this.radiusX,this.oldWidth=2*this.radiusX,this.oldHeight=2*this.radiusX}else if(d["a"].checkClassType(this.element,SVGEllipseElement)){this.type="Ellipse";var p=void 0,f=void 0,E=this.element.getAttributeNS(null,"cx");if(!E)throw"Missing attribute in element "+this.element;p=s()(E);var v=this.element.getAttributeNS(null,"cy");if(!v)throw"Missing attribute in element "+this.element;f=s()(v);var _=this.element.getAttributeNS(null,"rx");if(!_)throw"Missing attribute in element "+this.element;this.radiusX=s()(_);var m=this.element.getAttributeNS(null,"ry");if(!m)throw"Missing attribute in element "+this.element;this.radiusY=s()(m),this.oldX=p-this.radiusX,this.oldY=f-this.radiusY,this.oldWidth=2*this.radiusX,this.oldHeight=2*this.radiusY}else if(d["a"].checkClassType(this.element,SVGLineElement)){this.type="Line";var S=void 0,b=void 0,O=void 0,y=void 0,T=this.element.getAttributeNS(null,"x1");if(!T)throw"Missing attribute in element "+this.element;S=s()(T);var C=this.element.getAttributeNS(null,"y1");if(!C)throw"Missing attribute in element "+this.element;b=s()(C);var N=this.element.getAttributeNS(null,"x2");if(!N)throw"Missing attribute in element "+this.element;O=s()(N);var I=this.element.getAttributeNS(null,"y2");if(!I)throw"Missing attribute in element "+this.element;y=s()(I),this.oldX=Math.min(S,O),this.oldY=Math.min(b,y),this.oldWidth=Math.abs(S-O),this.oldHeight=Math.abs(b-y)}else if(d["a"].checkClassType(this.element,SVGPolylineElement)||d["a"].checkClassType(this.element,SVGPolygonElement)){this.type="Polyline";var R=[];if(this.element.points&&this.element.points.numberOfItems)for(var P=0,k=this.element.points.numberOfItems;P<k;P++)R.push(this.element.points.getItem(P).x),R.push(this.element.points.getItem(P).y);else{var L=this.element.getAttributeNS(null,"points");if(!L)throw"Missing attribute in element "+this.element;L=L.replace(/,/g," "),R=L.split(" "),R=R.without("")}if(!(R&&R.length&&R.length>1))throw"Missing attribute in element "+this.element;for(var D=s()(R[0]),x=s()(R[1]),w=s()(R[0]),M=s()(R[1]),B=0;B<R.length;B++)D=Math.min(D,s()(R[B])),w=Math.max(w,s()(R[B])),B++,x=Math.min(x,s()(R[B])),M=Math.max(M,s()(R[B]));this.oldX=D,this.oldY=x,this.oldWidth=w-D,this.oldHeight=M-x}else{if(!d["a"].checkClassType(this.element,SVGPathElement))throw"Element is not a shape.";this.type="Path",this.editPathParser=new g["a"],this.editPathHandler=new r,this.editPathParser.setHandler(this.editPathHandler);var U=new g["a"],V=new c;U.setHandler(V),U.parsePath(this.element),this.oldX=V.minX,this.oldY=V.minY,this.oldWidth=V.maxX-V.minX,this.oldHeight=V.maxY-V.minY}var H=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"resize");H?(H=H.toLowerCase(),H.match(/horizontal/)?this.isHorizontallyResizable=!0:this.isHorizontallyResizable=!1,H.match(/vertical/)?this.isVerticallyResizable=!0:this.isVerticallyResizable=!1):(this.isHorizontallyResizable=!1,this.isVerticallyResizable=!1);var j=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"anchors");if(j){j=j.replace("/,/g"," ");for(var Y=j.split(" ").without(""),F=0;F<Y.length;F++)switch(Y[F].toLowerCase()){case"left":this.anchorLeft=!0;break;case"right":this.anchorRight=!0;break;case"top":this.anchorTop=!0;break;case"bottom":this.anchorBottom=!0;break}}if(d["a"].checkClassType(this.element,SVGPathElement)){var z=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"allowDockers");z&&("no"===z.toLowerCase()?this.allowDockers=!1:this.allowDockers=!0);var G=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"resizeMarker-mid");G&&("yes"===G.toLowerCase()?this.resizeMarkerMid=!0:this.resizeMarkerMid=!1)}this.x=this.oldX,this.y=this.oldY,this.width=this.oldWidth,this.height=this.oldHeight}},{key:"update",value:function(){if(this.x!==this.oldX||this.y!==this.oldY||this.width!==this.oldWidth||this.height!==this.oldHeight){switch(this.type){case"Rect":this.x!==this.oldX&&this.element.setAttributeNS(null,"x",this.x),this.y!==this.oldY&&this.element.setAttributeNS(null,"y",this.y),this.width!==this.oldWidth&&this.element.setAttributeNS(null,"width",this.width),this.height!==this.oldHeight&&this.element.setAttributeNS(null,"height",this.height);break;case"Circle":this.radiusX=(this.width<this.height?this.width:this.height)/2,this.element.setAttributeNS(null,"cx",this.x+this.width/2),this.element.setAttributeNS(null,"cy",this.y+this.height/2),this.element.setAttributeNS(null,"r",this.radiusX);break;case"Ellipse":this.radiusX=this.width/2,this.radiusY=this.height/2,this.element.setAttributeNS(null,"cx",this.x+this.radiusX),this.element.setAttributeNS(null,"cy",this.y+this.radiusY),this.element.setAttributeNS(null,"rx",this.radiusX),this.element.setAttributeNS(null,"ry",this.radiusY);break;case"Line":this.x!==this.oldX&&this.element.setAttributeNS(null,"x1",this.x),this.y!==this.oldY&&this.element.setAttributeNS(null,"y1",this.y),this.x===this.oldX&&this.width===this.oldWidth||this.element.setAttributeNS(null,"x2",this.x+this.width),this.y===this.oldY&&this.height===this.oldHeight||this.element.setAttributeNS(null,"y2",this.y+this.height);break;case"Polyline":var e=this.element.getAttributeNS(null,"points");if(e&&(e=e.replace(/,/g," ").split(" ").without(""),e&&e.length&&e.length>1)){for(var t=0===this.oldWidth?0:this.width/this.oldWidth,i=0===this.oldHeight?0:this.height/this.oldHeight,n="",a=0;a<e.length;a++){var o=(s()(e[a])-this.oldX)*t+this.x;a++;var r=(s()(e[a])-this.oldY)*i+this.y;n+=o+" "+r+" "}this.element.setAttributeNS(null,"points",n)}break;case"Path":var c=0===this.oldWidth?0:this.width/this.oldWidth,h=0===this.oldHeight?0:this.height/this.oldHeight;this.editPathHandler.init(this.x,this.y,this.oldX,this.oldY,c,h),this.editPathParser.parsePath(this.element),this.element.setAttributeNS(null,"d",this.editPathHandler.d);break}this.oldX=this.x,this.oldY=this.y,this.oldWidth=this.width,this.oldHeight=this.height}delete this.visible,delete this.handler}},{key:"isPointIncluded",value:function(e,t){if(!e||!t||!this.isVisible())return!1;switch(this.type){case"Rect":return e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height;case"Circle":return u["a"].isPointInEllipse(e,t,this.x+this.width/2,this.y+this.height/2,this.radiusX,this.radiusX);case"Ellipse":return u["a"].isPointInEllipse(e,t,this.x+this.radiusX,this.y+this.radiusY,this.radiusX,this.radiusY);case"Line":return u["a"].isPointInLine(e,t,this.x,this.y,this.x+this.width,this.y+this.height);case"Polyline":var i=this.element.getAttributeNS(null,"points");return!!i&&(i=i.replace(/,/g," ").split(" ").without(""),i=i.collect(function(e){return s()(e)}),u["a"].isPointInPolygone(e,t,i));case"Path":if(!this.handler){var n=new g["a"];this.handler=new h,n.setHandler(this.handler),n.parsePath(this.element)}return u["a"].isPointInPolygone(e,t,this.handler.points);default:return!1}}},{key:"isVisible",value:function(e){if(void 0!==this.visible)return this.visible;e||(e=this.element);var t=!1;try{t=!!e.ownerSVGElement}catch(a){}if(t){if(d["a"].checkClassType(e,SVGGElement)&&e.className&&"me"==e.className.baseVal)return this.visible=!0,this.visible;var i=e.getAttributeNS(null,"fill"),n=e.getAttributeNS(null,"stroke");if(i&&"none"==i&&n&&"none"==n)this.visible=!1;else{var s=e.getAttributeNS(null,"display");this.visible=s?"none"!=s:this.isVisible(e.parentNode)}}else this.visible=!0;return this.visible}},{key:"toString",value:function(){return this.element?"SVGShape "+this.element.id:"SVGShape "+this.element}}]),e}(),p=function(){function e(t){Object(a["a"])(this,e),this.id=void 0,this.element=t,this.refX=void 0,this.refY=void 0,this.markerWidth=void 0,this.markerHeight=void 0,this.oldRefX=void 0,this.oldRefY=void 0,this.oldMarkerWidth=void 0,this.oldMarkerHeight=void 0,this.optional=!1,this.enabled=!0,this.minimumLength=void 0,this.resize=!1,this.svgShapes=[],this._init()}return Object(o["a"])(e,[{key:"_init",value:function(){if("[object SVGMarkerElement]"!=this.element)throw"SVGMarker: Argument is not an instance of SVGMarkerElement.";this.id=this.element.getAttributeNS(null,"id");var e=this.element.getAttributeNS(null,"refX");this.refX=e?s()(e):0;var t=this.element.getAttributeNS(null,"refY");this.refY=t?s()(t):0;var i=this.element.getAttributeNS(null,"markerWidth");this.markerWidth=i?s()(i):3;var n=this.element.getAttributeNS(null,"markerHeight");this.markerHeight=n?s()(n):3,this.oldRefX=this.refX,this.oldRefY=this.refY,this.oldMarkerWidth=this.markerWidth,this.oldMarkerHeight=this.markerHeight;var a=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"optional");a?(a=a.strip(),this.optional="yes"===a.toLowerCase()):this.optional=!1;var o=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"enabled");o?(o=o.strip(),this.enabled=!("no"===o.toLowerCase())):this.enabled=!0;var r=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"minimumLength");r&&(this.minimumLength=s()(r));var c=this.element.getAttributeNS(l["a"].NAMESPACE_ORYX,"resize");c?(c=c.strip(),this.resize="yes"===c.toLowerCase()):this.resize=!1}},{key:"_getSVGShapes",value:function(e){if(e.hasChildNodes){var t=[],i=this;return $A(e.childNodes).each(function(e){try{var n=new A(e);t.push(n)}catch(s){t=t.concat(i._getSVGShapes(e))}}),t}}},{key:"update",value:function(){this.oldRefX=this.refX,this.oldRefY=this.refY,this.oldMarkerWidth=this.markerWidth,this.oldMarkerHeight=this.markerHeight}},{key:"toString",value:function(){return this.element?"SVGMarker "+this.element.id:"SVGMarker "+this.element}}]),e}(),f=(i("3b2b"),i("c5f6"),i("6b54"),i("e814")),E=i.n(f),v=i("bd86"),_=i("a791"),m=function(){function e(t){if(Object(a["a"])(this,e),Object(v["a"])(this,"_characterSets",["%W","@","m","wDGMOQ√ñ#+=<>~^","ABCHKNRSUVXZ√ú√Ñ&","bdghnopqux√∂√ºETY1234567890√ü_¬ß${}*¬¥`¬µ‚Ç¨","aeksvyz√§FLP?¬∞¬≤¬≥","c-",'rtJ"/()[]:;!|\\',"fjI., ","'","il"]),Object(v["a"])(this,"_characterSetValues",[15,14,13,11,10,9,8,7,6,5,4,3]),!t.textElement)throw"Label: No parameter textElement.";if(!d["a"].checkClassType(t.textElement,SVGTextElement))throw"Label: Parameter textElement is not an SVGTextElement.";this.invisibleRenderPoint=-5e3,this.node=t.textElement,this.node.setAttributeNS(null,"stroke-width","0pt"),this.node.setAttributeNS(null,"letter-spacing","0px"),this.shapeId=t.shapeId;var i=this.node.getAttributeNS(null,"id");i&&(this.id=i),this.fitToElemId=null,this.edgePosition=null,this.x=null,this.y=null,this.oldX=null,this.oldY=null,this.isVisible=!0,this._text=null,this._verticalAlign=null,this._horizontalAlign=null,this._rotate=null,this._rotationPoint=null,this.anchorLeft=null,this.anchorRight=null,this.anchorTop=null,this.anchorBottom=null,this._isChanged=!0,this.fitToElemId=this.node.getAttributeNS(l["a"].NAMESPACE_ORYX,"fittoelem"),this.fitToElemId&&(this.fitToElemId=this.shapeId+this.fitToElemId);var n=this.node.getAttributeNS(l["a"].NAMESPACE_ORYX,"align");n&&(n=n.replace(/,/g," "),n=n.split(" "),n=n.without(""),n.each(function(e){switch(e){case"top":case"middle":case"bottom":this._verticalAlign||(this._originVerticalAlign=this._verticalAlign=e);break;case"left":case"center":case"right":this._horizontalAlign||(this._originHorizontalAlign=this._horizontalAlign=e);break}}.bind(this))),this.edgePosition=this.node.getAttributeNS(l["a"].NAMESPACE_ORYX,"edgePosition"),this.edgePosition&&(this.originEdgePosition=this.edgePosition=this.edgePosition.toLowerCase()),this.offsetTop=this.node.getAttributeNS(l["a"].NAMESPACE_ORYX,"offsetTop")||l["a"].CustomConfigs.OFFSET_EDGE_LABEL_TOP,this.offsetTop&&(this.offsetTop=E()(this.offsetTop)),this.offsetBottom=this.node.getAttributeNS(l["a"].NAMESPACE_ORYX,"offsetBottom")||l["a"].CustomConfigs.OFFSET_EDGE_LABEL_BOTTOM,this.offsetBottom&&(this.offsetBottom=E()(this.offsetBottom));var o=this.node.getAttributeNS(l["a"].NAMESPACE_ORYX,"rotate");if(o)try{this._rotate=s()(o)}catch(A){this._rotate=0}else this._rotate=0;var r=this.node.getAttributeNS(l["a"].NAMESPACE_ORYX,"anchors");if(r){r=r.replace("/,/g"," ");for(var c=r.split(" ").without(""),h=0;h<c.length;h++)switch(c[h].toLowerCase()){case"left":this.originAnchorLeft=this.anchorLeft=!0;break;case"right":this.originAnchorRight=this.anchorRight=!0;break;case"top":this.originAnchorTop=this.anchorTop=!0;break;case"bottom":this.originAnchorBottom=this.anchorBottom=!0;break}}this._verticalAlign||(this._verticalAlign="bottom"),this._horizontalAlign||(this._horizontalAlign="left");var u=this.node.getAttributeNS(null,"x");u&&(this.oldX=this.x=s()(u));var g=this.node.getAttributeNS(null,"y");g&&(this.oldY=this.y=s()(g)),this.text(this.node.textContent)}return Object(o["a"])(e,[{key:"resetAnchorPosition",value:function(){this.anchorLeft=this.originAnchorLeft||!1,this.anchorRight=this.originAnchorRight||!1,this.anchorTop=this.originAnchorTop||!1,this.anchorBottom=this.originAnchorBottom||!1}},{key:"isOriginAnchorLeft",value:function(){return this.originAnchorLeft||!1}},{key:"isOriginAnchorRight",value:function(){return this.originAnchorRight||!1}},{key:"isOriginAnchorTop",value:function(){return this.originAnchorTop||!1}},{key:"isOriginAnchorBottom",value:function(){return this.originAnchorBottom||!1}},{key:"isAnchorLeft",value:function(){return this.anchorLeft||!1}},{key:"isAnchorRight",value:function(){return this.anchorRight||!1}},{key:"isAnchorTop",value:function(){return this.anchorTop||!1}},{key:"isAnchorBottom",value:function(){return this.anchorBottom||!1}},{key:"getX",value:function(){try{var e=this.node.x.baseVal.getItem(0).value;switch(this.horizontalAlign()){case"left":return e;case"center":return e-this.getWidth()/2;case"right":return e-this.getWidth()}return this.node.getBBox().x}catch(t){return this.x}}},{key:"setX",value:function(e){this.position?this.position.x=e:this.setOriginX(e)}},{key:"getY",value:function(){try{return this.node.getBBox().y}catch(e){return this.y}}},{key:"setY",value:function(e){this.position?this.position.y=e:this.setOriginY(e)}},{key:"setOriginX",value:function(e){this.x=e}},{key:"setOriginY",value:function(e){this.y=e}},{key:"getWidth",value:function(){try{try{var e,t=this.node.childNodes;if(0==t.length)e=this.node.getBBox().width;else for(var i=0,n=t.length;i<n;++i){var s=t[i].getComputedTextLength();("undefined"==typeof e||e<s)&&(e=s)}return e+(e%2==0?0:1)}catch(a){return this.node.getBBox().width}}catch(o){return 0}}},{key:"getOriginUpperLeft",value:function(){var e=this.x,t=this.y;switch(this._horizontalAlign){case"center":e-=this.getWidth()/2;break;case"right":e-=this.getWidth();break}switch(this._verticalAlign){case"middle":t-=this.getHeight()/2;break;case"bottom":t-=this.getHeight();break}return{x:e,y:t}}},{key:"getHeight",value:function(){try{return this.node.getBBox().height}catch(e){return 0}}},{key:"getCenter",value:function(){var e={x:this.getX(),y:this.getY()};return e.x+=this.getWidth()/2,e.y+=this.getHeight()/2,e}},{key:"setPosition",value:function(e){e&&void 0!==e.x&&void 0!==e.y?this.position=e:delete this.position,this.position&&(delete this._referencePoint,delete this.edgePosition),this._isChanged=!0,this.update()}},{key:"getPosition",value:function(){return this.position}},{key:"setReferencePoint",value:function(e){e?this._referencePoint=e:delete this._referencePoint,this._referencePoint&&delete this.position}},{key:"getReferencePoint",value:function(){return this._referencePoint||void 0}},{key:"changed",value:function(){this._isChanged=!0}},{key:"registerOnChange",value:function(e){this.changeCallbacks||(this.changeCallbacks=[]),e instanceof Function&&!this.changeCallbacks.include(e)&&this.changeCallbacks.push(e)}},{key:"unregisterOnChange",value:function(e){this.changeCallbacks&&e instanceof Function&&this.changeCallbacks.include(e)&&(this.changeCallbacks=this.changeCallbacks.without(e))}},{key:"isUpdating",value:function(){return!!this._isUpdating}},{key:"getOriginEdgePosition",value:function(){return this.originEdgePosition}},{key:"getEdgePosition",value:function(){return this.edgePosition||null}},{key:"setEdgePosition",value:function(e){["starttop","startmiddle","startbottom","midtop","midbottom","endtop","endbottom"].include(e)?(this.edgePosition=e,delete this.position,delete this._referencePoint):delete this.edgePosition}},{key:"update",value:function(e){var t=this.x,i=this.y;if(this.position&&(t=this.position.x,i=this.position.y),t=Math.floor(t),i=Math.floor(i),this._isChanged||t!==this.oldX||i!==this.oldY||!0===e)if(this.isVisible){this._isChanged=!1,this._isUpdating=!0,this.node.setAttributeNS(null,"x",t),this.node.setAttributeNS(null,"y",i),this.node.removeAttributeNS(null,"fill-opacity"),this.oldX=t,this.oldY=i,this.position||this.getReferencePoint()?this.node.removeAttributeNS(null,"transform"):void 0!==this._rotate&&(this._rotationPoint?this.node.setAttributeNS(null,"transform","rotate("+this._rotate+" "+Math.floor(this._rotationPoint.x)+" "+Math.floor(this._rotationPoint.y)+")"):this.node.setAttributeNS(null,"transform","rotate("+this._rotate+" "+Math.floor(t)+" "+Math.floor(i)+")"));var n=this._text.split("\n");while(""==n.last())n.pop();this.node.ownerDocument&&((this.fitToElemId||this._textHasChanged)&&(this.node.textContent="",n.each(function(e,t){var i=this.node.ownerDocument.createElementNS(l["a"].NAMESPACE_SVG,"tspan");i.textContent=e.trim(),this.fitToElemId&&(i.setAttributeNS(null,"x",this.invisibleRenderPoint),i.setAttributeNS(null,"y",this.invisibleRenderPoint)),""===i.textContent&&(i.textContent=" "),this.node.appendChild(i)}.bind(this)),delete this._textHasChanged,delete this.indices),this.isVisible&&this.fitToElemId&&this.node.setAttributeNS(null,"visibility","hidden"),this.fitToElemId?window.setTimeout(this._checkFittingToReferencedElem.bind(this),0):window.setTimeout(this._positionText.bind(this),0))}else this.node.textContent=""}},{key:"_checkFittingToReferencedElem",value:function(){try{var e=$A(this.node.getElementsByTagNameNS(l["a"].NAMESPACE_SVG,"tspan")),t=[],i=this.node.ownerDocument.getElementById(this.fitToElemId);if(i){for(var n=i.getBBox(),s=this.getFontSize(),a=0;a<e.length;a++){var o=e[a],r=this._getRenderedTextLength(o,void 0,void 0,s),c=0!=this._rotate&&this._rotate%180!=0&&this._rotate%90==0?n.height:n.width;if(r>c){for(var h=0,d=0,u=this.getTrimmedTextLength(o.textContent),g=0;g<u;g++){var A=this._getRenderedTextLength(o,h,g-h,s);if(A>c-2){var p=this.node.ownerDocument.createElementNS(l["a"].NAMESPACE_SVG,"tspan");d<=h?(d=0==g?g:g-1,p.textContent=o.textContent.slice(h,d).trim()):p.textContent=o.textContent.slice(h,++d).trim(),p.setAttributeNS(null,"x",this.invisibleRenderPoint),p.setAttributeNS(null,"y",this.invisibleRenderPoint),t.push(p),h=d}else{var f=o.textContent.charAt(g);" "!=f&&"-"!=f&&"."!=f&&","!=f&&";"!=f&&":"!=f||(d=g)}}o.textContent=o.textContent.slice(h).trim()}t.push(o)}while(this.node.hasChildNodes())this.node.removeChild(this.node.childNodes[0]);while(t.length>0)this.node.appendChild(t.shift())}}catch(E){_["a"].fatal("Error "+E)}window.setTimeout(this._positionText.bind(this),0)}},{key:"_positionText",value:function(){try{var e=this.node.childNodes,t=this.getFontSize(this.node),i=[],n=this.x,s=this.y;this.position&&(n=this.position.x,s=this.position.y),n=Math.floor(n),s=Math.floor(s);var a=0,o=[],r=this.indices||$R(0,e.length-1).toArray(),c=r.length;switch(r.each(function(r){if("undefined"!=typeof r){var h=e[a++];if(""===h.textContent.trim())i.push(h);else{var d=0;switch(this._verticalAlign){case"bottom":d=-(c-r-1)*t;break;case"middle":d=-(c/2-r-1)*t,d-=l["a"].LABEL_LINE_DISTANCE/2;break;case"top":d=r*t,d+=t;break}h.setAttributeNS(null,"dy",Math.floor(d)),h.setAttributeNS(null,"x",n),h.setAttributeNS(null,"y",s),o.push(r)}}}.bind(this)),o.length=e.length,this.indices=this.indices||o,i.each(function(e){this.node.removeChild(e)}.bind(this)),this._horizontalAlign){case"left":this.node.setAttributeNS(null,"text-anchor","start");break;case"center":this.node.setAttributeNS(null,"text-anchor","middle");break;case"right":this.node.setAttributeNS(null,"text-anchor","end");break}}catch(h){this._isChanged=!0}this.isVisible&&this.node.removeAttributeNS(null,"visibility"),delete this._isUpdating,(this.changeCallbacks||[]).each(function(e){e.apply(e)})}},{key:"_getRenderedTextLength",value:function(e,t,i,n){return void 0===t?e.getComputedTextLength():e.getSubStringLength(t,i)}},{key:"_estimateTextWidth",value:function(e,t){for(var i=0,n=0;n<e.length;n++)i+=this._estimateCharacterWidth(e.charAt(n));return i*(t/14)}},{key:"_estimateCharacterWidth",value:function(e){for(var t=0;t<this._characterSets.length;t++)if(this._characterSets[t].indexOf(e)>=0)return this._characterSetValues[t];return 9}},{key:"getReferencedElementWidth",value:function(){var e=this.node.ownerDocument.getElementById(this.fitToElemId);if(e){var t=e.getBBox();if(t)return 0!=this._rotate&&this._rotate%180!=0&&this._rotate%90==0?t.height:t.width}}},{key:"text",value:function(){switch(arguments.length){case 0:return this._text;case 1:var e=this._text;arguments[0]?(this._text=arguments[0].toString(),null!=this._text&&void 0!=this._text&&(this._text=this._text.replace(/ {2,}/g," "))):this._text="",e!==this._text&&(this._isChanged=!0,this._textHasChanged=!0);break;default:break}}},{key:"getOriginVerticalAlign",value:function(){return this._originVerticalAlign}},{key:"verticalAlign",value:function(){switch(arguments.length){case 0:return this._verticalAlign;case 1:if(["top","middle","bottom"].member(arguments[0])){var e=this._verticalAlign;this._verticalAlign=arguments[0],this._verticalAlign!==e&&(this._isChanged=!0)}break;default:break}}},{key:"getOriginHorizontalAlign",value:function(){return this._originHorizontalAlign}},{key:"horizontalAlign",value:function(){switch(arguments.length){case 0:return this._horizontalAlign;case 1:if(["left","center","right"].member(arguments[0])){var e=this._horizontalAlign;this._horizontalAlign=arguments[0],this._horizontalAlign!==e&&(this._isChanged=!0)}break;default:break}}},{key:"rotate",value:function(){switch(arguments.length){case 0:return this._rotate;case 1:this._rotate!=arguments[0]&&(this._rotate=arguments[0],this._rotationPoint=void 0,this._isChanged=!0);break;case 2:this._rotate==arguments[0]&&this._rotationPoint&&this._rotationPoint.x==arguments[1].x&&this._rotationPoint.y==arguments[1].y||(this._rotate=arguments[0],this._rotationPoint=arguments[1],this._isChanged=!0)}}},{key:"hide",value:function(){this.isVisible&&(this.isVisible=!1,this._isChanged=!0)}},{key:"show",value:function(){this.isVisible||(this.isVisible=!0,this._isChanged=!0,this._textHasChanged=!0)}},{key:"getInheritedFontSize",value:function(e){if(e&&e.getAttributeNS){var t=e.getAttributeNS(null,"font-size");return t?s()(t):d["a"].checkClassType(e,SVGSVGElement)?void 0:this.getInheritedFontSize(e.parentNode)}}},{key:"getFontSize",value:function(e){var t=this.node.getElementsByTagNameNS(l["a"].NAMESPACE_SVG,"tspan"),i=this.getInheritedFontSize(this.node);return i||(i=t[0]&&/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&new Number(RegExp.$1)>=3?t[0].getExtentOfChar(0).height:l["a"].LABEL_DEFAULT_LINE_HEIGHT,i<=0&&(i=l["a"].LABEL_DEFAULT_LINE_HEIGHT)),i&&this.node.setAttribute("oryx:fontSize",i),i}},{key:"getTrimmedTextLength",value:function(e){var t;e=e.strip().gsub("  "," ");do{t=e.length,e=e.gsub("  "," ")}while(t>e.length);return e.length}},{key:"getOffsetBottom",value:function(){return this.offsetBottom}},{key:"getOffsetTop",value:function(){return this.offsetTop}},{key:"deserialize",value:function(e,t){if(e&&"undefined"!=typeof e.x&&"undefined"!=typeof e.y){if(this.setPosition({x:e.x,y:e.y}),"undefined"!=typeof e.distance){var i=t.dockers[e.from],n=t.dockers[e.to];i&&n&&this.setReferencePoint({dirty:!0,distance:e.distance,intersection:{x:e.x,y:e.y},orientation:e.orientation,segment:{from:i,fromIndex:e.from,fromPosition:i.bounds.center(),to:n,toIndex:e.to,toPosition:n.bounds.center()}})}e.left&&(this.anchorLeft=!0),e.right&&(this.anchorRight=!0),e.top&&(this.anchorTop=!0),e.bottom&&(this.anchorBottom=!0),e.valign&&this.verticalAlign(e.valign),e.align&&this.horizontalAlign(e.align)}else e&&"undefined"!=typeof e.edge&&this.setEdgePosition(e.edge)}},{key:"serialize",value:function(){if(this.getEdgePosition())return this.getOriginEdgePosition()!==this.getEdgePosition()?{edge:this.getEdgePosition()}:null;if(this.position){var e={x:this.position.x,y:this.position.y};return this.isAnchorLeft()&&this.isAnchorLeft()!==this.isOriginAnchorLeft()&&(e.left=!0),this.isAnchorRight()&&this.isAnchorRight()!==this.isOriginAnchorRight()&&(e.right=!0),this.isAnchorTop()&&this.isAnchorTop()!==this.isOriginAnchorTop()&&(e.top=!0),this.isAnchorBottom()&&this.isAnchorBottom()!==this.isOriginAnchorBottom()&&(e.bottom=!0),this.getOriginVerticalAlign()!==this.verticalAlign()&&(e.valign=this.verticalAlign()),this.getOriginHorizontalAlign()!==this.horizontalAlign()&&(e.align=this.horizontalAlign()),e}if(this.getReferencePoint()){var t=this.getReferencePoint();return{distance:t.distance,x:t.intersection.x,y:t.intersection.y,from:t.segment.fromIndex,to:t.segment.toIndex,orientation:t.orientation,valign:this.verticalAlign(),align:this.horizontalAlign()}}return null}},{key:"toString",value:function(){return"Label "+this.id}}]),e}(),S={EditPathHandler:r,MinMaxPathHandler:c,PointsPathHandler:h,SVGMarker:p,SVGShape:A,Label:m};t["a"]=S},ac6f:function(e,t){e.exports="data:image/png;base64,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"},aca4:function(e,t,i){"use strict";i.d(t,"a",function(){return v});var n=i("59ad"),s=i.n(n),a=(i("a481"),i("28a5"),i("7514"),i("7f7f"),i("ac6a"),i("d225")),o=i("b0b4"),r=i("308d"),c=i("6bb5"),h=i("2a88"),l=i("4e2b"),d=i("19ce"),u=i("f5b6"),g=i("abda"),A=i("9059"),p=i("c5e4"),f=i("af70"),E=i("a791"),v=function(e){function t(e,i,n){var s;return Object(a["a"])(this,t),s=Object(r["a"])(this,Object(c["a"])(t).apply(this,arguments)),s.isSelectable=!0,s.isMovable=!0,s._dockerUpdated=!1,s.facade=n,s._oldBounds=new u["a"],s._svgShapes=[],s.minimumSize=void 0,s.maximumSize=void 0,s.isHorizontallyResizable=!1,s.isVerticallyResizable=!1,s.dataId=void 0,s._init(s._stencil.view()),s.forcedHeight=-1,s}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"_update",value:function(){if(this.dockers.invoke("update"),this.isChanged){var e=this.bounds,t=this._oldBounds;if(this.isResized){var i=e.width()/t.width(),n=e.height()/t.height();this._svgShapes.each(function(s){var a;s.isHorizontallyResizable&&(s.width=s.oldWidth*i),s.isVerticallyResizable&&(s.height=s.oldHeight*n);var o=s.anchorLeft,r=s.anchorRight;r?(a=t.width()-(s.oldX+s.oldWidth),o?s.width=e.width()-s.x-a:s.x=e.width()-(a+s.width)):o||(s.x=i*s.oldX,s.isHorizontallyResizable||(s.x=s.x+s.width*i/2-s.width/2));var c=s.anchorTop,h=s.anchorBottom;h?(a=t.height()-(s.oldY+s.oldHeight),c?s.height=e.height()-s.y-a:s._isYLocked||(s.y=e.height()-(a+s.height))):c||(s.y=n*s.oldY,s.isVerticallyResizable||(s.y=s.y+s.height*n/2-s.height/2))});var s,a,o,r,c,h,l,d,u,g={x:0,y:0};this.isHorizontallyResizable||e.width()===t.width()||(g.x=t.width()-e.width()),this.isVerticallyResizable||e.height()===t.height()||(g.y=t.height()-e.height()),0===g.x&&0===g.y||e.extend(g),g={x:0,y:0},this.minimumSize&&(E["a"].debug("Shape (%0)'s min size: (%1x%2)",this,this.minimumSize.width,this.minimumSize.height),s=this.minimumSize.width-e.width(),s>0&&(g.x+=s),a=this.minimumSize.height-e.height(),a>0&&(g.y+=a)),this.maximumSize&&(E["a"].debug("Shape (%0)'s max size: (%1x%2)",this,this.maximumSize.width,this.maximumSize.height),s=e.width()-this.maximumSize.width,s>0&&(g.x-=s),a=e.height()-this.maximumSize.height,a>0&&(g.y-=a)),0===g.x&&0===g.y||e.extend(g),this.magnets.each(function(s){o=s.anchorLeft,r=s.anchorRight,c=s.anchorTop,h=s.anchorBottom,l=s.bounds.center(),d=o?l.x:r?e.width()-(t.width()-l.x):l.x*i,u=c?l.y:h?e.height()-(t.height()-l.y):l.y*n,l.x===d&&l.y===u||s.bounds.centerMoveTo(d,u)}),this.getLabels().each(function(s){s.isAnchorLeft()||(s.isAnchorRight()?s.setX(e.width()-(t.width()-s.oldX)):s.setX((s.position?s.position.x:s.x)*i)),s.isAnchorTop()||(s.isAnchorBottom()?s.setY(e.height()-(t.height()-s.oldY)):s.setY((s.position?s.position.y:s.y)*n)),s.position&&(s.isOriginAnchorLeft()||(s.isOriginAnchorRight()?s.setOriginX(e.width()-(t.width()-s.oldX)):s.setOriginX(s.x*i)),s.isOriginAnchorTop()||(s.isOriginAnchorBottom()?s.setOriginY(e.height()-(t.height()-s.oldY)):s.setOriginY(s.y*n)))});var A=this.dockers[0];A&&(A.bounds.unregisterCallback(this._dockerChangedCallback),this._dockerUpdated||(A.bounds.centerMoveTo(this.bounds.center()),this._dockerUpdated=!1),A.update(),A.bounds.registerCallback(this._dockerChangedCallback)),this.isResized=!1}this.refresh(),this.isChanged=!1,this._oldBounds=this.bounds.clone()}this.children.each(function(e){e instanceof p["a"].Docker||e._update()}),this.dockers.length>0&&!this.dockers.first().getDockedShape()&&this.dockers.each(function(e){e.bounds.centerMoveTo(this.bounds.center())}.bind(this))}},{key:"refresh",value:function(){Object(h["a"])(Object(c["a"])(t.prototype),"refresh",this).call(this);var e=this.bounds.upperLeft().x,i=this.bounds.upperLeft().y;this.node.firstChild.setAttributeNS(null,"transform","translate("+e+", "+i+")"),this.node.childNodes[1].childNodes[1].setAttributeNS(null,"transform","translate("+e+", "+i+")"),this._svgShapes.each(function(e){e.update()})}},{key:"_dockerChanged",value:function(){var e=this.dockers[0];this.bounds.centerMoveTo(e.bounds.center()),this._dockerUpdated=!0}},{key:"_initSVGShapes",value:function(e){var t=[];try{var i=new g["a"].SVGShape(e);t.push(i)}catch(s){}if(e.hasChildNodes())for(var n=0;n<e.childNodes.length;n++)t=t.concat(this._initSVGShapes(e.childNodes[n]));return t}},{key:"isPointIncluded",value:function(e,t,i){var n=i&&i instanceof u["a"]?i:this.absoluteBounds();if(!n.isIncluded(e,t))return!1;var s=n.upperLeft(),a=e-s.x,o=t-s.y,r=0,c=!1;do{c=this._svgShapes[r++].isPointIncluded(a,o)}while(!c&&r<this._svgShapes.length);return c}},{key:"isPointOverOffset",value:function(e,i){var n=Object(h["a"])(Object(c["a"])(t.prototype),"isPointOverOffset",this).apply(e,i);if(n){var s=this.absoluteBounds();if(s.widen(f["a"].CustomConfigs.BORDER_OFFSET),!s.isIncluded(e,i))return!0}return!1}},{key:"serialize",value:function(){var e=Object(h["a"])(Object(c["a"])(t.prototype),"serialize",this).call(this);this.dockers.each(function(t){if(t.getDockedShape()){var i=t.referencePoint;i=i||t.bounds.center(),e.push({name:"docker",prefix:"oryx",value:$H(i).values().join(","),type:"literal"})}}.bind(this));try{var i=this.getStencil().serialize();i.type&&(i.shape=this,i.data=e,i.result=void 0,i.forceExecution=!0,this._delegateEvent(i),i.result&&(e=i.result))}catch(n){}return e}},{key:"deserialize",value:function(e){Object(h["a"])(Object(c["a"])(t.prototype),"deserialize",this).call(this,e);try{var i=this.getStencil().deserialize();i.type&&(i.shape=this,i.data=e,i.result=void 0,i.forceExecution=!0,this._delegateEvent(i),i.result&&(e=i.result))}catch(r){}var n,a=e.findAll(function(e){return e.prefix+"-"+e.name=="raziel-outgoing"});if((a.each(function(e){if(this.parent){var t=this.getCanvas().getChildShapeByResourceId(e.value);t&&(t instanceof A["a"]?(t.dockers.first().setDockedShape(this),t.dockers.first().setReferencePoint(t.dockers.first().bounds.center())):t.dockers.length>0&&t.dockers.first().setDockedShape(this))}}.bind(this)),1===this.dockers.length)&&(n=e.find(function(e){return e.prefix+"-"+e.name==="oryx-dockers"}),n)){var o=n.value.replace(/,/g," ").split(" ").without("").without("#");2===o.length&&this.dockers[0].getDockedShape()?this.dockers[0].setReferencePoint({x:s()(o[0]),y:s()(o[1])}):this.dockers[0].bounds.centerMoveTo(s()(o[0]),s()(o[1]))}}},{key:"_init",value:function(e){Object(h["a"])(Object(c["a"])(t.prototype),"_init",this).call(this,e);var i=e.getElementsByTagName("g")[0],n=e.ownerDocument.createAttribute("title");n.nodeValue=this.getStencil().title(),i.setAttributeNode(n);var a=e.ownerDocument.createAttribute("id");a.nodeValue=this.id,i.setAttributeNode(a);var o=this.node.childNodes[0].childNodes[0];i=o.appendChild(i),this.addEventHandlers(i.parentNode);var r=i.getAttributeNS(f["a"].NAMESPACE_ORYX,"minimumSize");if(r){r=r.replace("/,/g"," ");var l=r.split(" ");l=l.without(""),l.length>1?this.minimumSize={width:s()(l[0]),height:s()(l[1])}:this.minimumSize={width:1,height:1}}var d=i.getAttributeNS(f["a"].NAMESPACE_ORYX,"maximumSize");if(d){d=d.replace("/,/g"," ");var u=d.split(" ");u=u.without(""),u.length>1&&(this.maximumSize={width:s()(u[0]),height:s()(u[1])})}if(this.minimumSize&&this.maximumSize&&(this.minimumSize.width>this.maximumSize.width||this.minimumSize.height>this.maximumSize.height))throw this+": Minimum Size must be greater than maxiumSize.";this._svgShapes=this._initSVGShapes(i);var A={x:void 0,y:void 0},E={x:void 0,y:void 0},v=this;this._svgShapes.each(function(e){A.x=void 0!==A.x?Math.min(A.x,e.x):e.x,A.y=void 0!==A.y?Math.min(A.y,e.y):e.y,E.x=void 0!==E.x?Math.max(E.x,e.x+e.width):e.x+e.width,E.y=void 0!==E.y?Math.max(E.y,e.y+e.height):e.y+e.height,e.isHorizontallyResizable&&(v.isHorizontallyResizable=!0,v.isResizable=!0),e.isVerticallyResizable&&(v.isVerticallyResizable=!0,v.isResizable=!0),e.anchorTop&&e.anchorBottom&&(v.isVerticallyResizable=!0,v.isResizable=!0),e.anchorLeft&&e.anchorRight&&(v.isHorizontallyResizable=!0,v.isResizable=!0)}),this._svgShapes.each(function(e){e.x-=A.x,e.y-=A.y,e.update()});var _=A.x,m=A.y;E.x-=_,E.y-=m,A.x=0,A.y=0,0===E.x&&(E.x=1),0===E.y&&(E.y=1),this._oldBounds.set(A,E),this.bounds.set(A,E);var S=e.getElementsByTagNameNS(f["a"].NAMESPACE_ORYX,"magnets");if(S&&S.length>0){S=$A(S[0].getElementsByTagNameNS(f["a"].NAMESPACE_ORYX,"magnet"));var b=this;S.each(function(e){var t=new p["a"].Magnet({eventHandlerCallback:b.eventHandlerCallback}),i=s()(e.getAttributeNS(f["a"].NAMESPACE_ORYX,"cx")),n=s()(e.getAttributeNS(f["a"].NAMESPACE_ORYX,"cy"));t.bounds.centerMoveTo({x:i-_,y:n-m});var a=e.getAttributeNS(f["a"].NAMESPACE_ORYX,"anchors");if(a){a=a.replace("/,/g"," "),a=a.split(" ").without("");for(var o=0;o<a.length;o++)switch(a[o].toLowerCase()){case"left":t.anchorLeft=!0;break;case"right":t.anchorRight=!0;break;case"top":t.anchorTop=!0;break;case"bottom":t.anchorBottom=!0;break}}if(b.add(t),!b._defaultMagnet){var r=e.getAttributeNS(f["a"].NAMESPACE_ORYX,"default");r&&"yes"===r.toLowerCase()&&(b._defaultMagnet=t)}})}else{var O=new p["a"].Magnet;O.bounds.centerMoveTo(this.bounds.width()/2,this.bounds.height()/2),this.add(O)}var y=e.getElementsByTagNameNS(f["a"].NAMESPACE_ORYX,"docker");if(y&&y.length>0){y=y[0];var T=this.createDocker(),C=s()(y.getAttributeNS(f["a"].NAMESPACE_ORYX,"cx")),N=s()(y.getAttributeNS(f["a"].NAMESPACE_ORYX,"cy"));T.bounds.centerMoveTo({x:C-_,y:N-m});var I=y.getAttributeNS(f["a"].NAMESPACE_ORYX,"anchors");if(I){I=I.replace("/,/g"," "),I=I.split(" ").without("");for(var R=0;R<I.length;R++)switch(I[R].toLowerCase()){case"left":T.anchorLeft=!0;break;case"right":T.anchorRight=!0;break;case"top":T.anchorTop=!0;break;case"bottom":T.anchorBottom=!0;break}}}var P=i.getElementsByTagNameNS(f["a"].NAMESPACE_SVG,"text");$A(P).each(function(e){var t=new g["a"].Label({textElement:e,shapeId:this.id});t.x-=_,t.y-=m,this._labels.set(t.id,t),t.registerOnChange(this.layout.bind(this))}.bind(this))}},{key:"createDocker",value:function(){var e=new p["a"].Docker({eventHandlerCallback:this.eventHandlerCallback});return e.bounds.registerCallback(this._dockerChangedCallback),this.dockers.push(e),e.parent=this,e.bounds.registerCallback(this._changedCallback),e}},{key:"toString",value:function(){return this._stencil.title()+" "+this.id}},{key:"getInstanceofType",value:function(){return"Node, Shape"}}]),t}(d["a"])},aeae:function(e,t,i){"use strict";i.d(t,"a",function(){return h});i("ac6a"),i("6c7b"),i("c5f6");var n=i("d225"),s=i("b0b4"),a=i("af70"),o=i("a791"),r=i("995b"),c=i("000c"),h=function(){function e(t,i,s){Object(n["a"])(this,e),this._jsonProp=t||o["a"].error("Parameter jsonProp is not defined."),this._namespace=i||o["a"].error("Parameter namespace is not defined."),this._stencil=s||o["a"].error("Parameter stencil is not defined."),this._items={},this._complexItems={},this._hidden=!1,t.id=t.id||o["a"].error("ORYX.Core.StencilSet.Property(construct): Id is not defined."),t.id=t.id.toLowerCase(),t.type?t.type=t.type.toLowerCase():(o["a"].info("Type is not defined for stencil '%0', id '%1'. Falling back to 'String'.",s,t.id),t.type="string"),t.prefix=t.prefix||"oryx",t.title=t.title||"",t.value=t.value||"",t.description=t.description||"",t.readonly=t.readonly||!1,t.optional=!1!==t.optional,this._jsonProp.refToView?this._jsonProp.refToView instanceof Array||(this._jsonProp.refToView=[this._jsonProp.refToView]):this._jsonProp.refToView=[];var h=this.getMinForType(t.type);void 0===t.min||null===t.min?t.min=h:t.min<h&&(t.min=h);var l=this.getMaxForType(t.type);if(void 0===t.max||null===t.max?t.max=l:t.max>l&&(t.min=l),t.fillOpacity||(t.fillOpacity=!1),"number"!=typeof t.lightness?t.lightness=1:t.lightness=Math.max(0,Math.min(1,t.lightness)),t.strokeOpacity||(t.strokeOpacity=!1),void 0!==t.length&&null!==t.length||(t.length=Number.MAX_VALUE),t.wrapLines||(t.wrapLines=!1),t.dateFormat||(t.dateFormat="m/d/y"),t.fill||(t.fill=!1),t.stroke||(t.stroke=!1),t.inverseBoolean||(t.inverseBoolean=!1),t.directlyEditable||0==t.directlyEditable||(t.directlyEditable=!0),!1!==t.visible&&(t.visible=!0),!0!==t.isList&&(t.isList=!1,t.list&&t.list instanceof Array||(t.list=[])),t.category||(t.popular?t.category="popular":t.category="others"),t.alwaysAppearInMultiselect||(t.alwaysAppearInMultiselect=!1),t.type===a["a"].TYPE_CHOICE){if(!(t.items&&t.items instanceof Array))throw"ORYX.Core.StencilSet.Property(construct): No property items defined.";t.items.each(function(e){this._items[e.value.toLowerCase()]=new r["a"](e,i,this)}.bind(this))}else t.type!==a["a"].TYPE_COMPLEX&&t.type!=a["a"].TYPE_MULTIPLECOMPLEX||t.complexItems&&t.complexItems instanceof Array&&t.complexItems.each(function(e){this._complexItems[e.id.toLowerCase()]=new c["a"](e,i,this)}.bind(this))}return Object(s["a"])(e,[{key:"getMinForType",value:function(e){return e.toLowerCase()==a["a"].TYPE_INTEGER?-Math.pow(2,31):1-Number.MAX_VALUE}},{key:"getMaxForType",value:function(e){return e.toLowerCase()==a["a"].TYPE_INTEGER?Math.pow(2,31)-1:Number.MAX_VALUE}},{key:"equals",value:function(e){return this._namespace===e.namespace()&&this.id()===e.id()}},{key:"namespace",value:function(){return this._namespace}},{key:"stencil",value:function(){return this._stencil}},{key:"id",value:function(){return this._jsonProp.id}},{key:"prefix",value:function(){return this._jsonProp.prefix}},{key:"type",value:function(){return this._jsonProp.type}},{key:"inverseBoolean",value:function(){return this._jsonProp.inverseBoolean}},{key:"category",value:function(){return this._jsonProp.category}},{key:"setCategory",value:function(e){this._jsonProp.category=e}},{key:"directlyEditable",value:function(){return this._jsonProp.directlyEditable}},{key:"visible",value:function(){return this._jsonProp.visible}},{key:"title",value:function(){return this._jsonProp.title}},{key:"value",value:function(){return this._jsonProp.value}},{key:"readonly",value:function(){return this._jsonProp.readonly}},{key:"optional",value:function(){return this._jsonProp.optional}},{key:"description",value:function(){return this._jsonProp.description}},{key:"refToView",value:function(){return this._jsonProp.refToView}},{key:"min",value:function(){return this._jsonProp.min}},{key:"max",value:function(){return this._jsonProp.max}},{key:"fillOpacity",value:function(){return this._jsonProp.fillOpacity}},{key:"strokeOpacity",value:function(){return this._jsonProp.strokeOpacity}},{key:"length",value:function(){return this._jsonProp.length?this._jsonProp.length:Number.MAX_VALUE}},{key:"wrapLines",value:function(){return this._jsonProp.wrapLines}},{key:"dateFormat",value:function(){return this._jsonProp.dateFormat}},{key:"fill",value:function(){return this._jsonProp.fill}},{key:"lightness",value:function(){return this._jsonProp.lightness}},{key:"stroke",value:function(){return this._jsonProp.stroke}},{key:"items",value:function(){return $H(this._items).values()}},{key:"item",value:function(e){return e?this._items[e.toLowerCase()]:null}},{key:"toString",value:function(){return"Property "+this.title()+" ("+this.id()+")"}},{key:"complexItems",value:function(){return $H(this._complexItems).values()}},{key:"complexItem",value:function(e){return e?this._complexItems[e.toLowerCase()]:null}},{key:"complexAttributeToView",value:function(){return this._jsonProp.complexAttributeToView||""}},{key:"isList",value:function(){return!!this._jsonProp.isList}},{key:"getListItems",value:function(){return this._jsonProp.list}},{key:"linkableType",value:function(){return this._jsonProp.linkableType||""}},{key:"alwaysAppearInMultiselect",value:function(){return this._jsonProp.alwaysAppearInMultiselect}},{key:"popular",value:function(){return this._jsonProp.popular||!1}},{key:"setPopular",value:function(){this._jsonProp.popular=!0}},{key:"hide",value:function(){this._hidden=!0}},{key:"isHidden",value:function(){return this._hidden}},{key:"enableHiddenPro",value:function(){this._hidden=!1}},{key:"disableHiddenPro",value:function(){this._hidden=!0}}]),e}()},af70:function(e,t,i){"use strict";var n=i("5176"),s=i.n(n),a={DISABLE_GRADIENT:!0,BACKEND_SWITCH:!0,PANEL_LEFT_WIDTH:250,PANEL_RIGHT_COLLAPSED:!0,PANEL_RIGHT_WIDTH:300,APPNAME:"Flowable",WEB_URL:".",OFFSET_HEADER:61,SHOW_GRIDLINE:!0,MODE_READONLY:"readonly",MODE_FULLSCREEN:"fullscreen",WINDOW_HEIGHT:800,PREVENT_LOADINGMASK_AT_READY:!1,PLUGINS_ENABLED:!0,PLUGINS_FOLDER:"Plugins/",BPMN20_SCHEMA_VALIDATION_ON:!0,NAMESPACE_ORYX:"http://www.b3mn.org/oryx",NAMESPACE_SVG:"http://www.w3.org/2000/svg",SHAPEMENU_RIGHT:"Oryx_Right",SHAPEMENU_BOTTOM:"Oryx_Bottom",SHAPEMENU_LEFT:"Oryx_Left",SHAPEMENU_TOP:"Oryx_Top",MORPHITEM_DISABLED:"Oryx_MorphItem_disabled",TYPE_STRING:"string",TYPE_BOOLEAN:"boolean",TYPE_INTEGER:"integer",TYPE_FLOAT:"float",TYPE_COLOR:"color",TYPE_DATE:"date",TYPE_CHOICE:"choice",TYPE_URL:"url",TYPE_DIAGRAM_LINK:"diagramlink",TYPE_COMPLEX:"complex",TYPE_MULTIPLECOMPLEX:"multiplecomplex",TYPE_TEXT:"text",TYPE_FLOWABLE_MULTIINSTANCE:"flowable-multiinstance",TYPE_MODEL_LINK:"modellink",TYPE_FORM_FLOW_LINK:"formflowlink",TYPE_FORM_LINK:"formlink",TYPE_SUB_PROCESS_LINK:"subprocess-link",TYPE_SERVICE_LINK:"servicelink",TYPE_CONDITIONS:"conditions",TYPE_constIABLES:"constiables",TYPE_LISTENER:"listener",TYPE_EPC_FREQ:"epcfrequency",TYPE_GLOSSARY_LINK:"glossarylink",TYPE_EXPRESSION:"expression",TYPE_DATASOURCE:"datasource",TYPE_DATASOURCE_MINIMAL:"datasource-minimal",TYPE_VALIDATORS:"validators",TYPE_FLOWABLE_HTTP_REQUEST_METHOD:"flowable-http-request-method",LABEL_LINE_DISTANCE:2,LABEL_DEFAULT_LINE_HEIGHT:12,ENABLE_MORPHMENU_BY_HOVER:!1,EDITOR_ALIGN_BOTTOM:1,EDITOR_ALIGN_MIDDLE:2,EDITOR_ALIGN_TOP:4,EDITOR_ALIGN_LEFT:8,EDITOR_ALIGN_CENTER:16,EDITOR_ALIGN_RIGHT:32,EDITOR_ALIGN_SIZE:48,EVENT_MOUSEDOWN:"mousedown",EVENT_MOUSEUP:"mouseup",EVENT_MOUSEOVER:"mouseover",EVENT_MOUSEOUT:"mouseout",EVENT_MOUSEMOVE:"mousemove",EVENT_CLICK:"click",EVENT_DBLCLICK:"dblclick",EVENT_KEYDOWN:"keydown",EVENT_KEYUP:"keyup",EVENT_LOADED:"editorloaded",EVENT_SAVED:"editorSaved",EVENT_EXECUTE_COMMANDS:"executeCommands",EVENT_STENCIL_SET_LOADED:"stencilSetLoaded",EVENT_SELECTION_CHANGED:"selectionchanged",EVENT_SHAPEADDED:"shapeadded",EVENT_SHAPEREMOVED:"shaperemoved",EVENT_PROPERTY_CHANGED:"propertyChanged",EVENT_DRAGDROP_START:"dragdrop.start",EVENT_SHAPE_MENU_CLOSE:"shape.menu.close",EVENT_DRAGDROP_END:"dragdrop.end",EVENT_RESIZE_START:"resize.start",EVENT_RESIZE_END:"resize.end",EVENT_DRAGDOCKER_DOCKED:"dragDocker.docked",EVENT_HIGHLIGHT_SHOW:"highlight.showHighlight",EVENT_HIGHLIGHT_HIDE:"highlight.hideHighlight",EVENT_LOADING_ENABLE:"loading.enable",EVENT_LOADING_DISABLE:"loading.disable",EVENT_LOADING_STATUS:"loading.status",EVENT_OVERLAY_SHOW:"overlay.show",EVENT_OVERLAY_HIDE:"overlay.hide",EVENT_ARRANGEMENT_TOP:"arrangement.setToTop",EVENT_ARRANGEMENT_BACK:"arrangement.setToBack",EVENT_ARRANGEMENT_FORWARD:"arrangement.setForward",EVENT_ARRANGEMENT_BACKWARD:"arrangement.setBackward",EVENT_PROPWINDOW_PROP_CHANGED:"propertyWindow.propertyChanged",EVENT_LAYOUT_ROWS:"layout.rows",EVENT_LAYOUT_BPEL:"layout.BPEL",EVENT_LAYOUT_BPEL_VERTICAL:"layout.BPEL.vertical",EVENT_LAYOUT_BPEL_HORIZONTAL:"layout.BPEL.horizontal",EVENT_LAYOUT_BPEL_SINGLECHILD:"layout.BPEL.singlechild",EVENT_LAYOUT_BPEL_AUTORESIZE:"layout.BPEL.autoresize",EVENT_AUTOLAYOUT_LAYOUT:"autolayout.layout",EVENT_UNDO_EXECUTE:"undo.execute",EVENT_UNDO_ROLLBACK:"undo.rollback",EVENT_UNDO_RESET:"undo.reset",EVENT_BUTTON_UPDATE:"toolbar.button.update",EVENT_LAYOUT:"layout.dolayout",EVENT_GLOSSARY_LINK_EDIT:"glossary.link.edit",EVENT_GLOSSARY_SHOW:"glossary.show.info",EVENT_GLOSSARY_NEW:"glossary.show.new",EVENT_DOCKERDRAG:"dragTheDocker",EVENT_CANVAS_SCROLL:"canvas.scroll",EVENT_SHOW_PROPERTYWINDOW:"propertywindow.show",EVENT_ABOUT_TO_SAVE:"file.aboutToSave",EVENT_EDITOR_INIT_COMPLETED:"editor.init.completed",EVENT_TYPE_EDITOR_READY:"event-type-editor-ready",EVENT_TYPE_EDITOR_BOOTED:"event-type-editor-booted",EVENT_TYPE_SELECTION_CHANGE:"event-type-selection-change",EVENT_TYPE_TOOLBAR_BUTTON_CLICKEDEVENT_TYPE_TOOLBAR_BUTTON_CLICKED:"event-type-toolbar-button-clicked",EVENT_TYPE_ITEM_DROPPED:"event-type-item-dropped",EVENT_TYPE_PROPERTY_VALUE_CHANGED:"event-type-property-value-changed",EVENT_TYPE_SELECTION_CHANGED:"event-type-selection-changed",EVENT_TYPE_DOUBLE_CLICK:"event-type-double-click",EVENT_TYPE_MOUSE_OUT:"event-type-mouse-out",EVENT_TYPE_MOUSE_OVER:"event-type-mouse-over",EVENT_TYPE_MODEL_SAVED:"event-type-model-saved",EVENT_TYPE_HIDE_SHAPE_BUTTONS:"event-type-hide-shape-buttons",EVENT_TYPE_SHOW_VALIDATION_POPUP:"event-type-show-validation-popup",EVENT_TYPE_NAVIGATE_TO_PROCESS:"event-type-navigate-to-process",EVENT_TYPE_UNDO_REDO_RESET:"event-type-undo-redo-reset",ACTION_DELETE_COMPLETED:"delete.action.completed",SELECTION_HIGHLIGHT_SIZE:5,SELECTION_HIGHLIGHT_COLOR:"#4444FF",SELECTION_HIGHLIGHT_COLOR2:"#9999FF",SELECTION_HIGHLIGHT_STYLE_CORNER:"corner",SELECTION_HIGHLIGHT_STYLE_RECTANGLE:"rectangle",SELECTION_VALID_COLOR:"#00FF00",SELECTION_INVALID_COLOR:"#FF0000",DOCKER_DOCKED_COLOR:"#00FF00",DOCKER_UNDOCKED_COLOR:"#FF0000",DOCKER_SNAP_OFFSET:10,EDIT_OFFSET_PASTE:10,KEY_CODE_X:88,KEY_CODE_C:67,KEY_CODE_V:86,KEY_CODE_DELETE:46,KEY_CODE_META:224,KEY_CODE_BACKSPACE:8,KEY_CODE_LEFT:37,KEY_CODE_RIGHT:39,KEY_CODE_UP:38,KEY_CODE_DOWN:40,KEY_Code_enter:12,KEY_Code_left:37,KEY_Code_right:39,KEY_Code_top:38,KEY_Code_bottom:40,META_KEY_META_CTRL:"metactrl",META_KEY_ALT:"alt",META_KEY_SHIFT:"shift",KEY_ACTION_DOWN:"down",KEY_ACTION_UP:"up",FORM_ROW_WIDTH:350,FORM_GROUP_MARGIN:5,FORM_GROUP_EMPTY_HEIGHT:100,XMLNS:{ATOM:"http://www.w3.org/2005/Atom",XHTML:"http://www.w3.org/1999/xhtml",ERDF:"http://purl.org/NET/erdf/profile",RDFS:"http://www.w3.org/2000/01/rdf-schema#",RDF:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",RAZIEL:"http://b3mn.org/Raziel",SCHEMA:""},CustomConfigs:{CANVAS_WIDTH:1200,CANVAS_HEIGHT:1050,CANVAS_RESIZE_INTERVAL:100,CANVAS_MIN_WIDTH:800,CANVAS_MIN_HEIGHT:300,SELECTED_AREA_PADDING:4,CANVAS_BACKGROUND_COLOR:"none",GRID_DISTANCE:30,GRID_ENABLED:!0,ZOOM_OFFSET:.1,DEFAULT_SHAPE_MARGIN:60,SCALERS_SIZE:7,MINIMUM_SIZE:20,MAXIMUM_SIZE:1e4,OFFSET_MAGNET:15,OFFSET_EDGE_LABEL_TOP:8,OFFSET_EDGE_LABEL_BOTTOM:8,OFFSET_EDGE_BOUNDS:5,COPY_MOVE_OFFSET:30,BORDER_OFFSET:14,MAX_NUM_SHAPES_NO_GROUP:20,SHAPEMENU_CREATE_OFFSET_CORNER:30,SHAPEMENU_CREATE_OFFSET:45},setCustomConfigs:function(e){this.CustomConfigs=s()(this.CustomConfigs,e.editorCustomConfigs)}};t["a"]=a},b0bf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHDSURBVDiNpVOxahtBFJzZ5Qoj9A2qZA5SGUkOKI2bdKnS3O0ZQdAPyOAydUpD0hsRMJZOTap0adJIEJRDVUBYlb4hpDr2JoVX4jAyIuTBwhYzw7w371ES6pWm6SnJDEAnPAAoABSSJnmeP9TxZvchySzLrkjOJZ1IugXQBdCVdCvphOQ8YLjnSQJJJknylWTTGPOuLMuttfZMUi+IL733qyiKWlVVfZb0ezabvZEkAwDOuRHJZhzHFyQb1tpC0pjkOclzSWNrbUGyETBN59wIAJgkySnJuTHmJcmG9/6bpOs8z++fzOaS5I219rWkP1VV/ZD0ypDMJI3Lstx67+8OkQEgz/N7Sdfe+7uyLLfBoTNh0ovQszlEfiJirLVnABYAugZAh+RSUo9k8Ry5llYRsEsAHXOMcKwMHhekF1x0jhEk7R0DKAwet6zvvV+RrNI0vXyOHJKovPcrAH0AP42kCclhFEUta+2A5M0hkVqMgyiKWiSHkqaUhCzLriS9jeP4YrPZvAhxmt1Qg+3KWjtot9u/1uv1d5JfJpPJx/9eZe6ukSSdcyNJ7yWNASxCVAhCfZJDkh+m0+knBeJeoNbrP53zX7n/LnDno5TvAAAAAElFTkSuQmCC"},b14e:function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i("d225"),s=i("b0b4"),a=i("308d"),o=i("6bb5"),r=i("4e2b"),c=i("aca4"),h=i("9059"),l=i("c5e4"),d=i("ffea"),u=function(e){function t(e,i,s,r,h){var l;return Object(n["a"])(this,t),l=Object(a["a"])(this,Object(o["a"])(t).call(this)),l.moveShapes=e,l.selectedShapes=r,l.offset=i,l.plugin=h,l.newParents=e.collect(function(e){return s||e.parent}),l.oldParents=e.collect(function(e){return e.parent}),l.dockedNodes=e.findAll(function(e){return e instanceof c["a"]&&1==e.dockers.length}).collect(function(e){return{docker:e.dockers[0],dockedShape:e.dockers[0].getDockedShape(),refPoint:e.dockers[0].referencePoint}}),l}return Object(r["a"])(t,e),Object(s["a"])(t,[{key:"execute",value:function(){this.dockAllShapes(),this.move(this.offset),this.addShapeToParent(this.newParents),this.selectCurrentShapes(),this.plugin.facade.getCanvas().update(),this.plugin.facade.updateSelection()}},{key:"rollback",value:function(){var e={x:-this.offset.x,y:-this.offset.y};this.move(e),this.addShapeToParent(this.oldParents),this.dockAllShapes(!0),this.selectCurrentShapes(),this.plugin.facade.getCanvas().update(),this.plugin.facade.updateSelection()}},{key:"move",value:function(e,t){for(var i=this,n=function(t){var n=i.moveShapes[t];if(n.bounds.moveBy(e),n instanceof c["a"]){(n.dockers||[]).each(function(t){t.bounds.moveBy(e)});var s=[].concat(n.getIncomingShapes()).concat(n.getOutgoingShapes()).findAll(function(e){return e instanceof h["a"]&&!this.moveShapes.any(function(t){return t==e||t instanceof l["a"].Docker&&t.parent==e})}.bind(i)).findAll(function(e){return(e.dockers.first().getDockedShape()==n||!this.moveShapes.include(e.dockers.first().getDockedShape()))&&(e.dockers.last().getDockedShape()==n||!this.moveShapes.include(e.dockers.last().getDockedShape()))}.bind(i));i.plugin.layoutEdges(n,s,e);for(var a=[].concat(n.getIncomingShapes()).concat(n.getOutgoingShapes()).findAll(function(e){return e instanceof h["a"]&&e.dockers.first().isDocked()&&e.dockers.last().isDocked()&&!this.moveShapes.include(e)&&!this.moveShapes.any(function(t){return t==e||t instanceof l["a"].Docker&&t.parent==e})}.bind(i)).findAll(function(e){return this.moveShapes.indexOf(e.dockers.first().getDockedShape())>t||this.moveShapes.indexOf(e.dockers.last().getDockedShape())>t}.bind(i)),o=0;o<a.length;o++)for(var r=1;r<a[o].dockers.length-1;r++){var d=a[o].dockers[r];d.getDockedShape()||i.moveShapes.include(d)||d.bounds.moveBy(e)}}},s=0;s<this.moveShapes.length;s++)n(s)}},{key:"dockAllShapes",value:function(e){for(var t=0;t<this.dockedNodes.length;t++){var i=this.dockedNodes[t].docker;i.setDockedShape(e?this.dockedNodes[t].dockedShape:void 0),i.getDockedShape()&&i.setReferencePoint(this.dockedNodes[t].refPoint)}}},{key:"addShapeToParent",value:function(e){for(var t=this,i=function(i){var n=t.moveShapes[i];if(n instanceof c["a"]&&n.parent!==e[i]){var s=e[i].absoluteXY(),a=n.absoluteXY(),o=a.x-s.x,r=a.y-s.y;if(e[i].add(n),n.getOutgoingShapes(function(t){t instanceof c["a"]&&!this.moveShapes.member(t)&&e[i].add(t)}.bind(t)),n instanceof c["a"]&&1==n.dockers.length){var h=n.bounds;o+=h.width()/2,r+=h.height()/2,n.dockers.first().bounds.centerMoveTo(o,r)}else n.bounds.moveTo(o,r)}},n=0;n<this.moveShapes.length;n++)i(n)}},{key:"selectCurrentShapes",value:function(){this.plugin.facade.setSelection(this.selectedShapes)}}]),t}(d["a"])},b664:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAI+SURBVDiNdZNPSFRRGMV/5z6MkVpHgVARmJCbaGOKUltx06J576kb20gSTEbbcGMlMpCbaKe0mHlvZtcfWlZrQWkzOQwkiFCbcSEkgnrna9Ebm8Q+uIv73XPO94dzZWZ0RhRFvZLGgZvZAVgH1s3sTZqm3zvxagtIUhzHBTN7DnRzeuxLenp0dLRUrVY9gGuTwzD8YGYvgRywdwp5D8iZWdE5906SjgXiOC5IGgU2JA2Z2cxJtpnNSBrKMKNxHD8GUBiGvZK+Ai3n3PVSqbSViX4Gbmf8L0mS3AGYmJi41Gq1akCX9/6GyxbWDSyUSqWtfD4ftCsCB8BBu6Pp6emurMACcMY5d9d1bPoTQBAEzyYnJ3vSNN0AikAxTdONfD5/ZXd3d7ETK2nkWCCXy33LHie898uS5L2f997PS1IQBCuS7nViJd1SFEU/gIvOud7Dw8OtIAh2gHPAwyRJXgFEUVSQtATs9PX1nW80GldbrVYD+OmAtWzmwWq1eiDpbdbJYhiGI2EYjkh6keXez83NtcxsMLuvBf39/deybV+o1WorzWZzFRgCLkuakjQFdAGrwINarfar2Wy+BnqAsjOzMrAPDNTr9UKSJNve+2Fgs8MGm9774SRJtuv1egEYAPbNLJGZMT4+/ihzoQeKZrYsqQ7or4+sT9J94AkQSJotl8tLMrNjK2duhD+2Pcu/cZwzs4+VSmXMzMy15SuVypik2Wyck2Sy3L6k2TYZOn5jO/7zndeANTMrp2na6MT/BtzDEcNaxKOwAAAAAElFTkSuQmCC"},b9de:function(e,t,i){var n={"./adhoc.subprocess.png":"270f","./event.subprocess.collapsed.png":"f896","./event.subprocess.png":"f3da","./expanded.subprocess.png":"02a5","./list/type.business.rule.png":"c033","./list/type.camel.png":"a09b","./list/type.decision.png":"a1e5","./list/type.http.png":"a6b1","./list/type.manual.png":"ce61","./list/type.mule.png":"b664","./list/type.receive.png":"7824","./list/type.script.png":"c030","./list/type.send.png":"4587","./list/type.service.png":"20a9","./list/type.shell.png":"5c5c","./list/type.user.png":"d725","./subprocess.png":"1e68","./task.png":"4bea"};function s(e){var t=a(e);return i(t)}function a(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}s.keys=function(){return Object.keys(n)},s.resolve=a,e.exports=s,s.id="b9de"},beb1:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH3wcQDh0VVaoqKAAAAxtJREFUOMtlU09II3cYfTPzcxxmnD+GJMwadcLApEbBwkBY9ZCsc9C25mZrilB2XXoQby2CTkmhu4uHtTVKYasHhWV76LE9iL30oLi5FNxDvAR7aIotqCuORqSJk8n0UA3qfqf3Pb7v8L3vPQCAIAgAgPX1dViWRQNgZmdn1cXFxe8WFhYeA0BfXx/JZDIUAEiShEYxDNPAuq4H+/v7X3Z1dfkAfAA1AHVRFP1EInFkWdb49SwhBABAXRMsy3YSQjZrtZoajUY3BUH4eXh4mD06OvK2trbaqtXqo4ODgxDP8y/K5fI0ACQSif+XTdM0GIb5U1GUP2zbHh8dHeVwp2ZmZt5LJpMrTU1NpxzH5RzHIQBALy8vy+fn57/JstyayWQ+zufz0d3d3TzHcerVLqVp2sONjY0fVVX9pb29/bmiKF9YlpUFAGQymU8B+BMTE99OT0/fD4VCPgBfFMXXqqrGZVn+jGXZfwkhfiwW+3VtbS1pGEZBkqTX8/PzOjRNeyFJkuv7fgAA3dra+oxl2UsAviAI+yzLHl/hN4qiPACA7u7uJ7Is/93R0WGRzs7OjwKBQJ2iqBMAcBzn63A47DiOs3BxcdFOURR4ni9GIpFHe3t7BQCgafofwzAizc3N3bTruhd3BatUKrd63/fhOM5NivI8D9Vq9RJtbW25qxNCAOiWlpZnhJDLKx32OY47BuBzHPeG5/kHABCPx5+KolgKh8NJJp1OB3Z2dj4plUr00NDQabFYfFUulxlFUfKKoowB2K3X6x96nteh67o6Nze3v729/WWlUnlr2/YrrKysyIZh/BUIBE6npqbeT6fTX8Xj8R1Jkhpv1HX9oWmav09OTn6gaZqtqqpvmuY3jYNuGimbzY6PjY2xd3XJZrOxVCrVMNLJyQl5x8osy266rhvp6ekpuq77/cjICHd4eOjl8/mo53lTpVKJCILwwy0r3wxTLBYLplKpl729vbfCJMuyPzAw8HZwcPCdMNGe50EURQDA6urqMc/zjwuFArFt+97S0tJSLpf7/OzsjGIY5l4wGPzpOs61Wg0A8B/ebh73FMuimwAAAABJRU5ErkJggg=="},c030:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACpSURBVDiN7ZOxDcJADEXfWWkQPUPQ0LAKSM4WSIiWEViBJskAzECZIh0SNQV92jvToVOIyEWhxOW3/rO/JTszY0plXSHP862ZnYHZF18jIpuiKO4Sq6ramllmZseBwasQwglAOo05cBCRy/DyrKEnArAsy/IGuAQILj6iqiZdtKqqN7wbYXT9AT8AZACq+gQWiZ5H3wb1iKHXD4D3fgc0CeYa2MeCm/rOL3c0MK1X048BAAAAAElFTkSuQmCC"},c033:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAABOSURBVDiN7ZMxCgBBCAPHYx+pL/SZucpm2WI5C5sTAgoqiUGTRCee1jSwACLiE43MtDaD+QVIwt0licJen1A98xJWJbuV19b+N8DGv/EFjYhsHwgrCXQAAAAASUVORK5CYII="},c047:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAADXSURBVDiNpZIxbsMwDEUfLS+5RKYco0NWdzcBG71L2jP0DhbgHiBLhwxZep8CWQz/LnGRtkojtQQECKTeA0XJJPGfqEsOu/uqqqot0JjZJsZ4f1Pg7pu6rhtJTQhhC6wAJD1ndRBCeJC0S5T2ANUtQYzxEXj6lj7N83zIEgCY2SvwfpE6jON4yhL0fX8n6cXMmqUTM9sv9V9ncAG3wzAcgWPXdUzT9Cmwa/8gAScjeYVcOCkogX8ISuEvgr/AcB6iu69DCG+lMACSkETbtutlX7KuPmNufAAvnZlEO/hlVgAAAABJRU5ErkJggg=="},c117:function(e,t,i){},c19a:function(e,t,i){"use strict";i.d(t,"a",function(){return m});i("4917"),i("aef6");var n=i("d225"),s=i("b0b4"),a=i("308d"),o=i("013f"),r=i("6bb5"),c=i("2a88"),h=i("4e2b"),l=i("bd86"),d=i("d5b2"),u=i("4346"),g=i("a791"),A=i("0130"),p=i("af70"),f=i("19ce"),E=i("aca4"),v=i("9059"),_=i("0f48"),m=function(e){function t(e,i,s){var c;return Object(n["a"])(this,t),c=Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments)),Object(l["a"])(Object(o["a"])(c),"zoomLevel",1),e&&e.width&&e.height?(c.facade=s,c.resourceId=e.id,c.nodes=[],c.edges=[],c.colHighlightState=0,c.colHighlightEnabled=!1,c.rootNode=A["a"].graft("http://www.w3.org/2000/svg",e.parentNode,["svg",{id:c.id,width:e.width,height:e.height},["defs",{}]]),c.rootNode.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),c.rootNode.setAttribute("xmlns:svg","http://www.w3.org/2000/svg"),c._htmlContainer=A["a"].graft("http://www.w3.org/1999/xhtml",e.parentNode,["div",{id:"oryx_canvas_htmlContainer",style:"position:absolute; top:5px"}]),c.underlayNode=A["a"].graft("http://www.w3.org/2000/svg",c.rootNode,["svg",{id:"underlay-container"}]),c.columnHightlight1=A["a"].graft("http://www.w3.org/2000/svg",c.underlayNode,["rect",{x:0,width:p["a"].FORM_ROW_WIDTH+35,height:"100%",style:"fill: #fff6d5",visibility:"hidden"}]),c.columnHightlight2=A["a"].graft("http://www.w3.org/2000/svg",c.underlayNode,["rect",{x:p["a"].FORM_ROW_WIDTH+35,width:p["a"].FORM_ROW_WIDTH+25,height:"100%",style:"fill: #fff6d5",visibility:"hidden"}]),c.node=A["a"].graft("http://www.w3.org/2000/svg",c.rootNode,["g",{},["g",{class:"stencils"},["g",{class:"me"}],["g",{class:"children"}],["g",{class:"edge"}]],["g",{class:"svgcontainer"}]]),c.node.setAttributeNS(null,"stroke","none"),c.node.setAttributeNS(null,"font-family","Verdana, sans-serif"),c.node.setAttributeNS(null,"font-size-adjust","none"),c.node.setAttributeNS(null,"font-style","normal"),c.node.setAttributeNS(null,"font-variant","normal"),c.node.setAttributeNS(null,"font-weight","normal"),c.node.setAttributeNS(null,"line-heigth","normal"),c.node.setAttributeNS(null,"font-size",p["a"].LABEL_DEFAULT_LINE_HEIGHT),c.bounds.set(0,0,e.width,e.height),c.addEventHandlers(c.rootNode.parentNode),c.rootNode.oncontextmenu=function(){return!1},c):(g["a"].fatal("Canvas is missing mandatory parameters options.width and options.height."),Object(a["a"])(c))}return Object(h["a"])(t,e),Object(s["a"])(t,[{key:"focus",value:function(){}},{key:"setHightlightState",value:function(e){this.colHighlightEnabled&&this.colHighlightState!=e&&(0==e?(this.columnHightlight1.setAttribute("visibility","hidden"),this.columnHightlight2.setAttribute("visibility","hidden")):1==e?(this.columnHightlight1.setAttribute("visibility","visible"),this.columnHightlight2.setAttribute("visibility","hidden")):2==e?(this.columnHightlight1.setAttribute("visibility","hidden"),this.columnHightlight2.setAttribute("visibility","visible")):3==e&&(this.columnHightlight1.setAttribute("visibility","visible"),this.columnHightlight2.setAttribute("visibility","visible")),this.colHighlightState=e)}},{key:"setHightlightStateBasedOnX",value:function(e){e>p["a"].FORM_ROW_WIDTH+30?this.setHightlightState(2):this.setHightlightState(1)}},{key:"update",value:function(){this.nodes.each(function(e){this._traverseForUpdate(e)}.bind(this));var e=this.getStencil().layout();e&&e.each(function(e){e.shape=this,e.forceExecution=!0,e.target=this.rootNode,this._delegateEvent(e)}.bind(this)),this.nodes.invoke("_update"),this.edges.invoke("_update",!0)}},{key:"_traverseForUpdate",value:function(e){var t=e.isChanged;return e.getChildNodes(!1,function(e){this._traverseForUpdate(e)&&(t=!0)}.bind(this)),!!t&&(e.layout(),!0)}},{key:"layout",value:function(){}},{key:"getChildNodes",value:function(e,t){if(e||t){var i=[];return this.nodes.each(function(n){t&&t(n),i.push(n),e&&n instanceof f["a"]&&(i=i.concat(n.getChildNodes(e,t)))}),i}return this.nodes.clone()}},{key:"add",value:function(e,t,i){if(e instanceof u["a"])if(this.children.member(e))g["a"].warn("add: ORYX.Core.UIObject is already a child of this object.");else{if(e.parent&&e.parent.remove(e,!0),void 0!=t?this.children.splice(t,0,e):this.children.push(e),e.parent=this,e instanceof f["a"])if(e instanceof v["a"])e.addMarkers(this.rootNode.getElementsByTagNameNS(p["a"].NAMESPACE_SVG,"defs")[0]),e.node=this.node.childNodes[0].childNodes[2].appendChild(e.node),this.edges.push(e);else if(e.getStencil().id().endsWith("Pool")){console.log(888);var n=this.node.childNodes[0].childNodes[1];e.node=n.insertBefore(e.node,n.firstChild),this.nodes.unshift(e)}else e.node=this.node.childNodes[0].childNodes[1].appendChild(e.node),this.nodes.push(e);else e.node=this.node.appendChild(e.node);e.bounds.registerCallback(this._changedCallback),this.eventHandlerCallback&&!0!==i&&this.eventHandlerCallback({type:p["a"].EVENT_SHAPEADDED,shape:e})}else g["a"].fatal("add: Parameter is not of type ORYX.Core.UIObject.")}},{key:"remove",value:function(e,t){if(this.children.member(e)){var i=e.parent;this.children=this.children.without(e),e.parent=void 0,e instanceof f["a"]?e instanceof v["a"]?(e.removeMarkers(),e.node=this.node.childNodes[0].childNodes[2].removeChild(e.node),this.edges=this.edges.without(e)):(e.node=this.node.childNodes[0].childNodes[1].removeChild(e.node),this.nodes=this.nodes.without(e)):e.node=this.node.removeChild(e.node),this.eventHandlerCallback&&!0!==t&&this.eventHandlerCallback({type:p["a"].EVENT_SHAPEREMOVED,shape:e,parent:i}),e.bounds.unregisterCallback(this._changedCallback)}else g["a"].warn("remove: ORYX.Core.UIObject is not a child of this object.")}},{key:"removeAll",value:function(){for(var e=this.getChildShapes(),t=0;t<e.length;t++){var i=e[t];this.remove(i)}}},{key:"addShapeObjects",value:function(e,t){if(e){this.initializingShapes=!0;var i=function(e,i){var n=_["a"].stencil(this.getStencil().namespace()+e.stencil.id),s="node"==n.type()?E["a"]:v["a"],a=new s({eventHandlerCallback:t},n,this.facade);return a.resourceId=e.resourceId,a.node.id="svg-"+e.resourceId,e.parent="#"+(e.parent&&e.parent.resourceId||i.resourceId),this.add(a),{json:e,object:a}}.bind(this),n=function(e){var t=[];return e.childShapes&&e.childShapes.constructor==String&&(e.childShapes=JSON.parse(e.childShapes)),e.childShapes.each(function(s){t.push(i(s,e)),t=t.concat(n(s))}),t}.bind(this),s=n({childShapes:e,resourceId:this.resourceId});return s.each(function(e){var t=[];for(var i in e.json.properties)t.push({prefix:"oryx",name:i,value:e.json.properties[i]});if(e.json.outgoing.each(function(e){t.push({prefix:"raziel",name:"outgoing",value:"#"+e.resourceId})}),e.object instanceof v["a"]){var n=e.json.target||e.json.outgoing[0];n&&t.push({prefix:"raziel",name:"target",value:"#"+n.resourceId})}e.json.bounds&&t.push({prefix:"oryx",name:"bounds",value:e.json.bounds.upperLeft.x+","+e.json.bounds.upperLeft.y+","+e.json.bounds.lowerRight.x+","+e.json.bounds.lowerRight.y}),e.json.dockers&&t.push({prefix:"oryx",name:"dockers",value:e.json.dockers.inject("",function(e,t){return e+t.x+" "+t.y+" "})+" #"}),t.push({prefix:"raziel",name:"parent",value:e.json.parent}),e.__properties=t}.bind(this)),s.each(function(e){e.object instanceof E["a"]&&e.object.deserialize(e.__properties,e.json)}),s.each(function(e){e.object instanceof v["a"]&&(e.object.deserialize(e.__properties,e.json),e.object._oldBounds=e.object.bounds.clone(),e.object._update())}),delete this.initializingShapes,s.pluck("object")}}},{key:"updateSize",value:function(){var e=0,t=0,i=100;this.getChildShapes(!0,function(n){var s=n.bounds;e=Math.max(e,s.lowerRight().x+i),t=Math.max(t,s.lowerRight().y+i)}),(this.bounds.width()<e||this.bounds.height()<t)&&this.setSize({width:Math.max(this.bounds.width(),e),height:Math.max(this.bounds.height(),t)})}},{key:"getRootNode",value:function(){return this.rootNode}},{key:"getUnderlayNode",value:function(){return this.underlayNode}},{key:"getSvgContainer",value:function(){return this.node.childNodes[1]}},{key:"getHTMLContainer",value:function(){return this._htmlContainer}},{key:"getShapesWithSharedParent",value:function(e){return!e||e.length<1?[]:1===e.length?e:e.findAll(function(t){var i=t.parent;while(i){if(e.member(i))return!1;i=i.parent}return!0})}},{key:"setSize",value:function(e,t){e&&e.width&&e.height&&(this.rootNode.parentNode&&(this.rootNode.parentNode.style.width=e.width+"px",this.rootNode.parentNode.style.height=e.height+"px"),this.rootNode.setAttributeNS(null,"width",e.width),this.rootNode.setAttributeNS(null,"height",e.height),t||this.bounds.set({a:{x:0,y:0},b:{x:e.width/this.zoomLevel,y:e.height/this.zoomLevel}}))}},{key:"getSVGRepresentation",value:function(e){var t,i,n,s,a=this.getRootNode().cloneNode(!0);this._removeInvisibleElements(a),this.getChildShapes(!0).each(function(e){var a=e.absoluteBounds(),o=a.upperLeft(),r=a.lowerRight();void 0==t?(t=o.x,i=o.y,n=r.x,s=r.y):(t=Math.min(t,o.x),i=Math.min(i,o.y),n=Math.max(n,r.x),s=Math.max(s,r.y))});var o,r,c=50;void 0==t?(o=0,r=0,0):(o=n,r=s,c/2-t),a.setAttributeNS(null,"width",o+c),a.setAttributeNS(null,"height",r+c),a.childNodes[1].removeAttributeNS(null,"transform");try{var h=a.childNodes[1].childNodes[1];h.parentNode.removeChild(h)}catch(l){}return e&&($A(a.getElementsByTagNameNS(p["a"].NAMESPACE_SVG,"tspan")).each(function(e){e.textContent=e.textContent.escapeHTML()}),$A(a.getElementsByTagNameNS(p["a"].NAMESPACE_SVG,"text")).each(function(e){0==e.childNodes.length&&(e.textContent=e.textContent.escapeHTML())})),$A(a.getElementsByTagNameNS(p["a"].NAMESPACE_SVG,"image")).each(function(e){var t=e.getAttributeNS("http://www.w3.org/1999/xlink","href");t.match("^(http|https)://")||(t=window.location.protocol+"//"+window.location.host+t,e.setAttributeNS("http://www.w3.org/1999/xlink","href",t))}),$A(a.getElementsByTagNameNS(p["a"].NAMESPACE_SVG,"a")).each(function(e){e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",(e.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").escapeHTML())}),a}},{key:"_removeInvisibleElements",value:function(e){var t=0;while(t<e.childNodes.length){var i=e.childNodes[t];i.getAttributeNS&&"hidden"===i.getAttributeNS(null,"visibility")?e.removeChild(i):(this._removeInvisibleElements(i),t++)}}},{key:"_delegateEvent",value:function(e){!this.eventHandlerCallback||e.target!=this.rootNode&&e.target!=this.rootNode.parentNode||this.eventHandlerCallback(e,this)}},{key:"toString",value:function(){return"Canvas "+this.id}},{key:"toJSON",value:function(){var e=Object(c["a"])(Object(r["a"])(t.prototype),"toJSON",this).call(this);return e.stencilset={url:this.getStencil().stencilSet().source(),namespace:this.getStencil().stencilSet().namespace()},e}},{key:"getInstanceofType",value:function(){return"Canvas"}}]),t}(d["a"])},c31f:function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"full-height"},[i("router-view")],1)},a=[],o={name:"App",data:function(){return{}},created:function(){},computed:{},mounted:function(){},methods:{}},r=o,c=i("2877"),h=Object(c["a"])(r,s,a,!1,null,null,null),l=h.exports,d=i("8b15"),u=(i("cbb5"),i("450d"),i("8bbc")),g=i.n(u),A=(i("6611"),i("e772")),p=i.n(A),f=(i("1f1a"),i("4e4b")),E=i.n(f),v=(i("b5d8"),i("f494")),_=i.n(v),m=(i("0fb7"),i("f529")),S=i.n(m),b=(i("5466"),i("ecdf")),O=i.n(b),y=(i("38a0"),i("ad41")),T=i.n(y),C=(i("a7cc"),i("df33")),N=i.n(C),I=(i("9d4c"),i("e450")),R=i.n(I),P=(i("560b"),i("dcdc")),k=i.n(P),L=(i("10cb"),i("f3ad")),D=i.n(L),x=(i("bd49"),i("18ff")),w=i.n(x),M=(i("960d"),i("defb")),B=i.n(M),U=(i("cb70"),i("b370")),V=i.n(U),H=(i("b5c2"),i("20cf")),j=i.n(H),Y=(i("1951"),i("eedf")),F=i.n(Y);n["default"].use(F.a),n["default"].use(j.a),n["default"].use(V.a),n["default"].use(B.a),n["default"].use(w.a),n["default"].use(D.a),n["default"].use(k.a),n["default"].use(R.a),n["default"].use(N.a),n["default"].use(T.a),n["default"].use(O.a),n["default"].use(S.a),n["default"].use(_.a),n["default"].use(E.a),n["default"].use(p.a),n["default"].use(g.a),n["default"].prototype.$message=S.a;i("7f7f"),i("ac6a");var z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editor-main-wrapper",style:{height:e.wrapperHeight},attrs:{id:"main"}},[i("toolbar",{attrs:{editor:e.editor,editorManager:e.editorManager}}),i("div",{staticClass:"flow-content-box"},[e._t("paletteWrapper",[i("paletteWrapper",{attrs:{editorManager:e.editorManager}})],{editorManager:e.editorManager}),i("div",{staticClass:"contentCanvasWrapper",attrs:{id:"contentCanvasWrapper"}},[i("canvasWrapper",{attrs:{editorManager:e.editorManager}}),e._t("propertyWrapper",[i("propertySection",{attrs:{editorManager:e.editorManager}})],{editorManager:e.editorManager})],2)],2)],1)},G=[],W=i("cebc"),X=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"subheader editor-toolbar",attrs:{id:"editor-header"}},[i("div",{staticClass:"btn-group"},[i("div",{staticClass:"btn-toolbar pull-left"},e._l(e.items,function(t,n){return i("button",{key:t.id,staticClass:"btn btn-inverse",class:{separator:"separator"==t.type},attrs:{id:t.id,disabled:"separator"==t.type||0==t.enabled},on:{click:function(t){return e.toolbarButtonClicked(n)}}},["button"==t.type?i("i",{staticClass:"toolbar-button",class:t.cssClass,attrs:{"data-toggle":"tooltip",title:e.t(t.title)}}):e._e(),"separator"==t.type?i("div",{class:t.cssClass}):e._e()])}),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.secondaryItems.length>0,expression:"secondaryItems.length > 0"}],staticClass:"btn-group pull-right"},[i("div",{staticClass:"btn-toolbar pull-right"},e._l(e.secondaryItems,function(t,n){return i("button",{key:t.id,staticClass:"btn btn-inverse",class:{separator:"separator"==t.type},attrs:{id:t.id,title:e.t(t.title),disabled:"separator"==t.type},on:{click:function(t){return e.toolbarSecondaryButtonClicked(n)}}},["button"==t.type?i("i",{staticClass:"toolbar-button",class:t.cssClass,attrs:{"data-toggle":"tooltip",title:e.t(t.title)}}):e._e(),"separator"==t.type?i("div",{class:t.cssClass}):e._e()])}),0)]),i("el-dialog",{attrs:{title:e.t("MODEL.SAVE.TITLE"),visible:e.saveVisible,"append-to-body":"",width:"60%"},on:{close:e.close}},[i("div",{staticClass:"modal-body"},[e.saveDialog.errorMessage&&e.saveDialog.errorMessage.length>0?i("div",{staticClass:"alert error",staticStyle:{"font-size":"14px","margin-top":"20px"}},[i("div",{staticClass:"popup-error",staticStyle:{"font-size":"14px"}},[i("span",{staticClass:"glyphicon glyphicon-remove-circle"}),i("span",[e._v(e._s(e.saveDialog.errorMessage))])])]):e._e(),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"nameField"}},[e._v(e._s(e.t("MODEL.NAME")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.saveDialog.name,expression:"saveDialog.name"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"text",disabled:e.saveLoading||e.error&&"saveAs"==e.error.conflictResolveAction,id:"nameField"},domProps:{value:e.saveDialog.name},on:{input:function(t){t.target.composing||e.$set(e.saveDialog,"name",t.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"keyField"}},[e._v(e._s(e.t("MODEL.KEY")))]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.saveDialog.key,expression:"saveDialog.key"}],staticClass:"form-control",attrs:{type:"text",disabled:e.saveLoading||e.error&&"saveAs"==e.error.conflictResolveAction,id:"keyField"},domProps:{value:e.saveDialog.key},on:{input:function(t){t.target.composing||e.$set(e.saveDialog,"key",t.target.value)}}})]),i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"docTextArea"}},[e._v(e._s(e.t("MODEL.DESCRIPTION")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.saveDialog.description,expression:"saveDialog.description"}],staticClass:"form-control",attrs:{id:"docTextArea",disabled:e.saveLoading},domProps:{value:e.saveDialog.description},on:{input:function(t){t.target.composing||e.$set(e.saveDialog,"description",t.target.value)}}})]),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.error,expression:"!error"}],staticClass:"checkbox"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.saveDialog.newVersion,expression:"saveDialog.newVersion"}],attrs:{type:"checkbox",disabled:e.saveLoading},domProps:{checked:Array.isArray(e.saveDialog.newVersion)?e._i(e.saveDialog.newVersion,null)>-1:e.saveDialog.newVersion},on:{change:function(t){var i=e.saveDialog.newVersion,n=t.target,s=!!n.checked;if(Array.isArray(i)){var a=null,o=e._i(i,a);n.checked?o<0&&e.$set(e.saveDialog,"newVersion",i.concat([a])):o>-1&&e.$set(e.saveDialog,"newVersion",i.slice(0,o).concat(i.slice(o+1)))}else e.$set(e.saveDialog,"newVersion",s)}}}),e._v("\n          "+e._s(e.t("MODEL.SAVE.NEWVERSION"))+"\n        ")])]),e.saveDialog.newVersion?i("div",{staticClass:"form-group"},[i("label",{attrs:{for:"commentTextArea"}},[e._v(e._s(e.t("MODEL.SAVE.COMMENT")))]),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.saveDialog.comment,expression:"saveDialog.comment"}],staticClass:"form-control",attrs:{id:"commentTextArea",disabled:e.saveLoading},domProps:{value:e.saveDialog.comment},on:{input:function(t){t.target.composing||e.$set(e.saveDialog,"comment",t.target.value)}}})]):e._e(),e.saveDialog.validationErrors?i("div",{staticClass:"alert error",staticStyle:{"font-size":"14px","margin-top":"20px"}},[i("div",{staticClass:"popup-error",staticStyle:{"font-size":"14px"}},[i("span",{staticClass:"glyphicon glyphicon-remove-circle"}),i("span",[e._v(e._s(e.t("MODEL.VALIDATIONERRORS")))])])]):e._e()]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e.error&&!e.error.isConflict?i("div",{staticClass:"popup-error"},[i("span",[e._v(e._s(e.t("MODEL.SAVE.ERROR")))])]):e._e(),i("div",[i("el-button",{attrs:{disabled:e.saveLoading},on:{click:e.close}},[e._v(e._s(e.t("ACTION.CANCEL")))]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.error,expression:"!error"}],attrs:{type:"primary",disabled:e.saveLoading||0==e.saveDialog.name.length||0==e.saveDialog.key.length},on:{click:e.saveAndClose}},[e._v("\n          "+e._s(e.t("ACTION.SAVE-AND-CLOSE"))+"\n        ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.error,expression:"!error"}],attrs:{type:"primary",disabled:e.saveLoading||0==e.saveDialog.name.length||0==e.saveDialog.key.length},on:{click:e.save}},[e._v("\n          "+e._s(e.t("ACTION.SAVE"))+"\n        ")]),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.error&&e.error.isConflict,expression:"error && error.isConflict"}],attrs:{type:"primary",disabled:e.isOkButtonDisabled()},on:{click:e.okClicked}},[e._v("\n          "+e._s(e.t("ACTION.OK"))+"\n        ")])],1)])])],1)},K=[],Q=i("f499"),Z=i.n(Q),q=(i("28a5"),i("8a60")),J=i.n(q),$=i("af70"),ee=i("061b"),te=i.n(ee),ie={GENERAL:{"MAIN-TITLE":"Flowable编辑器",NAVIGATION:{PROCESSES:"流程",CASEMODELS:"Case模型",FORMS:"表单","DECISION-TABLES":"决策表",APPS:"应用程序"},TITLE:{"SELECT-GROUP":"选择组","MATCHING-GROUPS":"匹配组",FILTER:"过滤",HISTORY:"历史"},ACTION:{LOGOUT:"退出","RETURN-TO-LIST":"显示所有定义",CANCEL:"取消",CLOSE:"关闭",EDIT:"编辑",SAVE:"保存",OPEN:"打开",OK:"Ok",CONFIRM:"确认","CONFIRM-AND-CLOSE":"确认并且关闭","NEW-FORM":"新表单","CREATE-FORM":"创建表单","NEW-DECISION-TABLE":"新决策表","CREATE-DECISION-TABLE":"创建决策表"},MESSAGE:{"SELECT-GROUP-HELP":"使用 &uparrow; 和 &downarrow; 选择并按回车确认","PEOPLE-NO-MATCHING-RESULTS":"没有找到匹配的用户","GROUP-NO-MATCHING-RESULTS":"没有找到匹配的组","GROUP-SOURCE-TYPE":"组源","GROUP-SOURCE-SEARCH-OPTION":"组搜索","GROUP-SOURCE-FIELD-OPTION":"表单字段"}},EDITOR:{POPUP:{"UNSAVED-CHANGES":{TITLE:"您有未保存的更改",DESCRIPTION:"您想如何处理未保存的更改?",ACTION:{SAVE:"保存更改",DISCARD:"放弃更改",CONTINUE:"继续编辑"}}}},"PROCESS-LIST":{TITLE:"业务流程模型","SEARCH-PLACEHOLDER":"搜索",ACTION:{CREATE:"创建流程",IMPORT:"导入流程"},FILTER:{PROCESSES:"流程模型","PROCESSES-COUNT":"一共有 {total}个流程模型","PROCESSES-ONE":"有一个流程模型","PROCESSES-EMPTY":"目前还没有创建流程模型。您可以设计流程模型、用户表单，然后将它们捆绑到app中。第一步是创建流程模型:","PROCESSES-BPMN-HINT":"使用BPMN可视化编辑器创建BPMN模型.","PROCESSES-BPMN-IMPORT-HINT":"还可以导入现有的BPMN模型。","FILTER-TEXT":', 匹配 "{filterText}"',"FILTER-TEXT-EMPTY":'没有匹配到流程模型 "{filterText}"',RECENT:"最近","RECENT-COUNT":"{total} 最近使用的模型","RECENT-ONE":"最近使用的模型","RECENT-EMPTY":"最近没有使用模型"},SORT:{"MODIFIED-ASC":"按照修改时间升序","MODIFIED-DESC":"按照修改时间降序","NAME-ASC":"按照名称升序","NAME-DESC":"按照名称降序"}},"CASE-LIST":{TITLE:"Case模型","SEARCH-PLACEHOLDER":"搜索",ACTION:{CREATE:"创建Case",IMPORT:"导入Case"},FILTER:{CASES:"Case 模型","CASES-COUNT":"一共有 {total}个 case 模型","CASES-ONE":"有一个case模型","CASES-EMPTY":"目前还没有创建case模型。您可以设计实例模型、用户表单，然后将它们捆绑到app应用程序定义中。第一步是创建一个case模型。:","CASES-CMMN-HINT":"使用CMMN可视化编辑器创建CMMN模型.","CASES-CMMN-IMPORT-HINT":"还可以导入现有CMMN模型。","FILTER-TEXT":', 匹配 "{filterText}"',"FILTER-TEXT-EMPTY":'没有匹配到case模型 "{filterText}"',RECENT:"最近","RECENT-COUNT":"{total} 最近使用的模型","RECENT-ONE":"最近使用的模型","RECENT-EMPTY":"最近没有使用模型"},SORT:{"MODIFIED-ASC":"按照修改时间升序","MODIFIED-DESC":"按照修改时间降序","NAME-ASC":"按照名称升序","NAME-DESC":"按照名称降序"}},"FORMS-LIST":{TITLE:"表单","SEARCH-PLACEHOLDER":"搜索",ACTION:{CREATE:"创建表单","CREATE-INLINE":"现在创建一个新表单!","SHOW-MORE":"显示更多..."},FILTER:{FORMS:"表单","FORMS-COUNT":"一共有{total} 个表单","FORMS-ONE":"有一个表单","FORMS-EMPTY":"没有表单。若要添加一个，请单击创建表单 ","FILTER-TEXT":', 匹配 "{filterText}"',"FILTER-TEXT-EMPTY":'没有匹配到表单 "{filterText}"'},SORT:{"MODIFIED-ASC":"按照修改时间升序","MODIFIED-DESC":"按照修改时间降序","NAME-ASC":"按照名称升序","NAME-DESC":"按照名称降序"}},"DECISION-TABLES-LIST":{TITLE:"决策表","SEARCH-PLACEHOLDER":"搜索",ACTION:{CREATE:"创建决策表",IMPORT:"导入决策表","CREATE-INLINE":"现在创建一个新的决策表!","SHOW-MORE":"显示更多..."},FILTER:{"DECISION-TABLES":"决策表","DECISION-TABLES-COUNT":"一共有 {total} 个决策表","DECISION-TABLES-ONE":"有一个决策表","DECISION-TABLES-EMPTY":"没有决策表。若要添加一个，请单击创建决策表 ","FILTER-TEXT":', 匹配 "{filterText}"',"FILTER-TEXT-EMPTY":'没有匹配到决策表 "{filterText}"'},SORT:{"MODIFIED-ASC":"按照修改时间升序","MODIFIED-DESC":"按照修改时间降序","NAME-ASC":"按照名称升序","NAME-DESC":"按照名称降序"}},"APPS-LIST":{TITLE:"应用程序定义","SEARCH-PLACEHOLDER":"搜索",ACTION:{CREATE:"创建应用程序",IMPORT:"导入应用程序","SHOW-MORE":"显示更多..."},FILTER:{APPS:"应用程序定义","APPS-COUNT":"一共有 {total}个应用程序定义","APPS-ONE":"有一个app定义","APPS-EMPTY":"没有应用程序定义。若要添加一个，请单击创建应用程序定义","FILTER-TEXT":', 匹配 "{filterText}"',"FILTER-TEXT-EMPTY":'没有匹配到应用程序定义  "{filterText}"',"NO-APPS":" 您可以通过发布一批流程模型来创建应用程序定义","NO-APPS-CALL-TO-ACTION":"现在可以创建一个应用程序定义 ","NO-APPS-NOTE":"当你准备好使用它时，记得要发布它。"},SORT:{"MODIFIED-ASC":"按照修改时间升序","MODIFIED-DESC":"按照修改时间降序","NAME-ASC":"按照名称升序","NAME-DESC":"按照名称降序"}},PROCESS:{NAME:"模型名称",KEY:"模型key",DESCRIPTION:"描述","VERSION-COMMENT":"版本注释",ACTION:{DETAILS:"显示详细信息",EDIT:"修改模型属性",DUPLICATE:"复制这个模型",EXPORT_BPMN20:"导出到BPMN2",DELETE:"删除这个模型","CREATE-CONFIRM":"创建新模型","DUPLICATE-CONFIRM":"复制这个模型","OPEN-IN-EDITOR":"可视化编辑器","EDIT-CONFIRM":"保存","DELETE-CONFIRM":"删除流程模型","USE-AS-NEW-VERSION":"作为新版本使用",FAVORITE:"喜欢这个模型"},DETAILS:{"HISTORY-TITLE":"历史","LAST-UPDATED-BY":"最后被{lastUpdatedBy} - {lastUpdated | dateformat}更新","CREATED-BY":"被{createdBy}创建","NO-DESCRIPTION":"这个模型没有描述信息，可以通过修改模型来添加一个描述"},POPUP:{"CREATE-TITLE":"创建一个新的业务流程模型","DUPLICATE-TITLE":"复制这个业务流程模型","CREATE-DESCRIPTION":"您需要为新模型命名，并且您可以在这个操作中添加描述信息。","DUPLICATE-DESCRIPTION":"您可以更改新模型的名称，并且此时您可以更改描述信息。","EDIT-DESCRIPTION":"更改下面的任何模型属性，然后按下保存去更新模型。","DELETE-DESCRIPTION":'确实要删除进程模型吗？ "{name}"?',"EDIT-TITLE":"编辑模型详细信息","DELETE-TITLE":"删除模型","DELETE-LOADING-RELATIONS":"检查模型使用...","DELETE-RELATIONS-DESCRIPTION-SINGLE":"无法删除此模型，因为另一个模型正在使用它:","DELETE-RELATIONS-DESCRIPTION":"无法删除此模型，因为另一个模型正在使用它:","DELETE-PROCESS-RELATION":"流程模型","DELETE-FORM-RELATION":"表单模型","DELETE-APP-RELATION":"App模型","IMPORT-DESCRIPTION":"请浏览或拖拽.bpmn或.bpmn20.xml扩展名的BPMN XML定义","IMPORT-TITLE":"导入一个流程模型","USE-AS-NEW-TITLE":"作为一个新版本使用","USE-AS-NEW-DESCRIPTION":'您确定要使用 {version}版本 去创建一个关于 "{name}"的新版本?',"USE-AS-NEW-UNRESOLVED-MODELS-ERROR":"无法完全恢复app模型到所选择的版本：由于一些引用的模型过去被删除而丢失。请相应地更新app模型。缺失模型:","USE-AS-NEW-UNRESOLVED-MODEL":"模型 '{name}' 内部id {id}, 被 {createdBy}创建","SHARED-WITH":"分享",PERMISSION:"许可",ACTIONS:"动作",IMPORT:{DROPZONE:"拖拽一个 .bpmn 或者 .bpmn20.xml BPMN XML 文件","CANCEL-UPLOAD":"取消上传",ERROR:"处理BPMN XML文件时出错","NO-DROP":"不支持拖放"}},ALERT:{"EDIT-CONFIRM":"模型被更新"},ERROR:{"NOT-FOUND":"所请求的模型不存在"}},SUBPROCESS:{NAME:"子流程名称",DESCRIPTION:"描述信息",ACTION:{"CREATE-CONFIRM":"创建一个子流程"},POPUP:{"CREATE-TITLE":"创建一个新的子流程","CREATE-DESCRIPTION":"您需要为新的子流程命名，并且您可能希望同时添加描述。"}},CASE:{NAME:"模型名称",KEY:"模型key",DESCRIPTION:"描述信息","VERSION-COMMENT":"版本注释",ACTION:{DETAILS:"显示详细信息",EDIT:"修改模型属性",DUPLICATE:"复制这个模型",EXPORT_CMMN:"导出到CMMN1.1",DELETE:"删除这个模型","CREATE-CONFIRM":"创建新模型","DUPLICATE-CONFIRM":"复制这个模型","OPEN-IN-EDITOR":"可视化编辑器","EDIT-CONFIRM":"保存","DELETE-CONFIRM":"删除case模型","USE-AS-NEW-VERSION":"作为新版本使用",FAVORITE:"喜欢这个模型"},DETAILS:{"HISTORY-TITLE":"历史","LAST-UPDATED-BY":"最后被 {lastUpdatedBy} - {lastUpdated | dateformat}更新","CREATED-BY":"被{createdBy}创建","NO-DESCRIPTION":"这个模型没有描述信息，可以通过修改模型来添加一个描述"},POPUP:{"CREATE-TITLE":"创建一个新的case模型","DUPLICATE-TITLE":"复制这个case模型","CREATE-DESCRIPTION":"您需要为新模型命名，并且您可以在这个操作中添加描述信息。","DUPLICATE-DESCRIPTION":"您可以更改新模型的名称，并且此时您可以更改描述信息。","EDIT-DESCRIPTION":"更改下面的任何模型属性，然后按下保存去更新模型。","DELETE-DESCRIPTION":'确实要删除进程流程吗 "{name}"?',"EDIT-TITLE":"编辑模型详细信","DELETE-TITLE":"删除模型","DELETE-LOADING-RELATIONS":"检查模型使用...","DELETE-RELATIONS-DESCRIPTION-SINGLE":"无法删除此模型，因为另一个模型正在使用它:","DELETE-RELATIONS-DESCRIPTION":"无法删除此模型，因为另一个模型正在使用它:","DELETE-PROCESS-RELATION":"Case模型","DELETE-FORM-RELATION":"表单模型","DELETE-APP-RELATION":"App模型","IMPORT-DESCRIPTION":"请浏览或拖拽.cmmn 或者.cmmn.xml 扩展名的CMMN XML","IMPORT-TITLE":"导入一个case模型","USE-AS-NEW-TITLE":"作为一个新版本使用","USE-AS-NEW-DESCRIPTION":'您确定要使用 {version}版本 去创建一个关于 "{name}"的新版本?',"USE-AS-NEW-UNRESOLVED-MODELS-ERROR":"无法完全恢复app模型到所选择的版本：由于一些引用的模型过去被删除而丢失。请相应地更新app模型。缺失模型:","USE-AS-NEW-UNRESOLVED-MODEL":"模型 '{name}' 内部id {id}, 被 {createdBy}创建","SHARED-WITH":"分享",PERMISSION:"许可",ACTIONS:"动作",IMPORT:{DROPZONE:"拖拽一个 .cmmn or .cmmn.xml CMMN XML文件","CANCEL-UPLOAD":"取消上传",ERROR:"处理CMMN XML文件时出错","NO-DROP":"不支持拖放"}},ALERT:{"EDIT-CONFIRM":"模型被更新"},ERROR:{"NOT-FOUND":"所请求的模型不存在"}},FORM:{NAME:"表单名称",KEY:"表单key",DESCRIPTION:"描述",ACTION:{DETAILS:"显示详细信息",EDIT:"修改模型属性",DELETE:"复制这个表单","CREATE-CONFIRM":"创建新表单",DUPLICATE:"复制这个表单","DUPLICATE-CONFIRM":"复制这个表单","OPEN-IN-EDITOR":"表单编辑器","EDIT-CONFIRM":"保存","DELETE-CONFIRM":"删除表单","USE-AS-NEW-VERSION":"作为新版本使用"},DETAILS:{"HISTORY-TITLE":"历史","LAST-UPDATED-BY":"最后被{lastUpdatedBy} - {lastUpdated | dateformat}更新","CREATED-BY":"被{createdBy}创建"},POPUP:{"CREATE-TITLE":"创建一个新的表单","DUPLICATE-TITLE":"复制这个表单","CREATE-DESCRIPTION":"您需要为新表单命名，并且您可以在这个操作中添加描述信息。","DUPLICATE-DESCRIPTION":"您需要为新表单命名，并且您可以在这个操作中添加描述信息。","SAVE-FORM-TITLE":"保存表单","EDIT-DESCRIPTION":"更改下面的任何模型属性，然后按下保存去更新表单。","DELETE-DESCRIPTION":'确实要删除表单 "{name}"?',"EDIT-TITLE":"编辑表单详细信息","DELETE-TITLE":"删除表单","USE-AS-NEW-TITLE":"作为一个新版本使用","USE-AS-NEW-VERSION":"作为一个新版本使用","USE-AS-NEW-DESCRIPTION":'您确定要使用 {version}版本 去创建一个关于 "{name}"的新版本?',"USE-AS-NEW-UNRESOLVED-MODELS-ERROR":"无法完全恢复app模型到所选择的版本：由于一些引用的模型过去被删除而丢失。请相应地更新app模型。缺失模型:","USE-AS-NEW-UNRESOLVED-MODEL":"模型 '{name}' 内部id {id}, 被 {createdBy}创建"}},"DECISION-TABLE":{NAME:"决策表 名称",KEY:"决策表 key",DESCRIPTION:"描述","VERSION-COMMENT":"版本注释","HIT-POLICY":"命中策略:",ACTION:{DETAILS:"显示详细信息",EDIT:"修改模型属性",SHARE:"分享决策表",DELETE:"删除决策表","ADD-COMMENT":"+ 添加评论","CREATE-CONFIRM":"创建新的决策表","OPEN-IN-EDITOR":"决策表编辑器",EXPORT:"Export 决策表","DELETE-CONFIRM":"删除决策表","USE-AS-NEW-VERSION":"作为新版本使用",FAVORITE:"喜欢这个决策表",DUPLICATE:"复制这个决策表"},DETAILS:{"HISTORY-TITLE":"历史","COMMENTS-TITLE":"评论","LAST-UPDATED-BY":"最后被{lastUpdatedBy} - {lastUpdated | dateformat}更新","CREATED-BY":"被{createdBy}创建"},"HIT-POLICIES":{FIRST:"First",ANY:"Any",UNIQUE:"Unique",PRIORITY:"Priority","RULE ORDER":"Rule Order","OUTPUT ORDER":"Output Order",COLLECT:"Collect"},"COLLECT-OPERATORS":{SUM:"和",MIN:"最小",MAX:"最大",COUNT:"总数"},POPUP:{"CREATE-TITLE":"创建一个新的决策表","CREATE-DESCRIPTION":"您需要为新决策表命名，并且您可以在这个操作中添加描述信息。","SAVE-DESCRIPTION":"您可以更改新决策表的名称，并且此时您可以更改描述信息。","DUPLICATE-TITLE":"复制决策表","DUPLICATE-DESCRIPTION":"您需要为新决策表命名，并且您可以在这个操作中添加描述信息。","DELETE-TITLE":"删除决策表","DELETE-DESCRIPTION":'确实要删除决策表 "{name}"?',"SAVE-DECISION-TABLE-TITLE":"保存决策表","IMPORT-DESCRIPTION":"请浏览或拖拽.dmn or .dmn.xml扩展名的的 DMN XML文件","IMPORT-TITLE":"导入DMN模型",IMPORT:{DROPZONE:"拖拽一个 .dmn or .dmn.xml DMN XML文件","CANCEL-UPLOAD":"取消上传",ERROR:"处理DMN XML文件时出错","NO-DROP":"不支持拖放"},"USE-AS-NEW-TITLE":"作为一个新版本使用","USE-AS-NEW-VERSION":"作为一个新版本使用","USE-AS-NEW-DESCRIPTION":'您确定要使用 {version}版本 去创建一个关于 "{name}"的新版本?',"USE-AS-NEW-UNRESOLVED-MODELS-ERROR":"无法完全恢复app模型到所选择的版本：由于一些引用的模型过去被删除而丢失。请相应地更新app模型。缺失模型:","USE-AS-NEW-UNRESOLVED-MODEL":"模型 '{name}' 内部id {id}, 被 {createdBy}创建"},ALERT:{"FAVORITE-CONFIRM":"喜欢这个决策表","UN-FAVORITE-CONFIRM":"这个决策表不再流行了"}},APP:{NAME:"App 定义名称",KEY:"App定义key",DESCRIPTION:"描述",ICON:"图标",THEME:"主题","GROUPS-ACCESS":"组访问，用逗号分隔","USERS-ACCESS":"用户访问，用逗号分隔",ACTION:{DETAILS:"显示详细信息",EDIT:"修改app定义属性",DUPLICATE:"复制这个应用",SHARE:"分享app定义",DELETE:"删除app定义","CREATE-CONFIRM":"创建新的app定义","DUPLICATE-CONFIRM":"复制这个app定义","DELETE-CONFIRM":"删除app定义","USE-AS-NEW-VERSION":"作为新版本使用","OPEN-IN-EDITOR":"App编辑器",PUBLISH:"发布","PUBLISH-CONFIRM":"发布app定义","SELECT-ICON":"修改图标...","SELECT-THEME":"修改主题...","EDIT-MODELS":"编辑包含的模型","EXPORT-ZIP":"将app定义导出为zip文件","EXPORT-BAR":"将app定义导出为可部署的bar文件"},DETAILS:{TITLE:"App定义详细信息: {name}","HISTORY-TITLE":"历史","MODELS-TITLE":"app定义中包含的模型","LAST-UPDATED-BY":"最后被{lastUpdatedBy} - {lastUpdated | dateformat}更新","CREATED-BY":"被{createdBy}创建","NO-DESCRIPTION":"这个app定义没有描述信息，可以通过修改app定义来添加一个描述","NO-MODELS-SELECTED":"没有为这个app选择模型"},TITLE:{"SELECT-ICON":"选择应用图标","SELECT-THEME":"选择应用主题",PREVIEW:"预览"},POPUP:{"CREATE-TITLE":"创建新的应用程序定义","DUPLICATE-TITLE":"复制一个应用程序定义","SAVE-APP-TITLE":"保存应用程序定义","SAVE-APP-SAVE-SUCCESS":"保存的应用程序定义","CREATE-DESCRIPTION":"您需要为新的应用程序定义命名，并且您可以在这个操作中添加描述信息。","DUPLICATE-DESCRIPTION":"您需要为新的应用程序定义命名，并且您可以在这个操作中添加描述信息。","PUBLISH-TITLE":"发布应用程序定义","PUBLISH-DESCRIPTION":'您确定要发布应用程序定义 "{name}"? 注意这个应用程序定义将版本化，如果已经存在，则将更新工作流应用程序。',"PUBLISH-FIELD":"发布？请注意，如果启用了发布，则将版本化此应用程序定义，如果已经存在，则将更新工作流应用程序。","PUBLISH-ERROR-PROCDEF-KEY-CONFLICT":'你的流程模型 "{modelInAppName}"具有相同的标识符"{processDefinitionKey}"作为已经存在的部署流程"{conflictingModelName}" ，关于这个app "{conflictingAppName}". 请修改这个 "id"流程模型的属性。',"PUBLISH-ERROR-PROCESS-ALREADY-USED":"下面的流程模型已经在另一个应用程序中使用了。这样行吗？","PUBLISH-ERROR-PROCESS-ALREADY-USED-APP":"App","PUBLISH-ERROR-PROCDEF-DUPLICATE-KEYS":'无效的app: 找到重复的流程标识符 (修改这个非法的流程模型  "id"属性):',"DELETE-TITLE":"删除应用程序定义","DELETE-DESCRIPTION":'确实要删除应用程序定义 "{name}"?',"DELETE-DESCRIPTION-WITH-RUNTIME":'确实要删应用程序定义 "{name}"? 注意，这个应用程序定义已经部署到任务landing页面，并且通过确认，该应用程序将从任务应用程序landing页面中删除。',"DELETE-CASCADE-FALSE":"只删除当前版本的应用程序定义 (v{version})","DELETE-CASCADE-TRUE":"也删除所有以前的版本应用程序定义","HAS-CUSTOM-STENCILITEM":'模型 "{modelName}" 使用带有自定义模板项目的模板. 在这个模型中使用这个模型是不可能的.',"HAS-VALIDATIONERROR":'模型 "{modelName}"  有验证错误，不能添加到应用程序定义.在编辑器中打开模型以查看关于验证错误的更多细节。',"IMPORT-DESCRIPTION":"请使用.zip扩展的应用程序定义浏览或拖拽一个","IMPORT-TITLE":"导入应用程序定义模型",IMPORT:{DROPZONE:"扩拽一个.zip 应用程序定义文件","CANCEL-UPLOAD":"取消上传","RENEWIDM-IDS":"Renew the user and group identifiers when importing step and BPMN models. This is often required when importing the 应用程序定义 into a different Flowable environment. It will try to link the human steps and user tasks to the right user and group in this target environment.",ERROR:"处理应用程序定义文件时出错","NO-DROP":"不支持拖放"},"INCLUDE-MODELS-TITLE":"包含在应用程序定义中的模型"},ALERT:{"DELETE-CONFIRM":"应用程序定义删除了","PUBLISH-CONFIRM":"应用程序定义已经被发布了","PUBLISH-ERROR":"不能发布应用程序定义. 请检查引用的流程模型的有效性。"}},"SHARE-INFO":{ACTION:{ADD:"添加另一个人"}},"FORM-BUILDER":{PALLETTE:{TEXT:"Text","MULTILINE-TEXT":"Multiline text",PASSWORD:"Password",NUMBER:"Number",CHECKBOX:"Checkbox",DATE:"Date",DROPDOWN:"Dropdown",RADIO:"Radio buttons",PEOPLE:"People","GROUP-OF-PEOPLE":"Group of people",UPLOAD:"Upload",EXPRESSION:"Expression",DECIMAL:"Decimal",HYPERLINK:"Hyperlink",SPACER:"Spacer","HORIZONTAL-LINE":"Horizontal line",HEADLINE:"Headline","HEADLINE-WITH-LINE":"Headline"},TABS:{GENERAL:"General",OPTIONS:"Options","UPLOAD-OPTIONS":"Upload options","ADVANCED-OPTIONS":"Advanced"},VERSION:"Version {version}","LAST-UPDATED":"Last updated by {lastUpdatedBy}, {lastUpdated | dateformat}",TITLE:{DESIGN:"Design",OUTCOME:"Outcomes"},POPUP:{"EDIT-TITLE":"Edit field '{name}'","EXPRESSION-TITLE":"Edit expression"},MESSAGE:{"EMPTY-EXPRESSION":"(No expression value)","EXPRESSION-HELP":"You can also display values previously submitted in any form, as part of the text, by referencing them using a notation as follows ${myFieldId}.","OPTIONS-EXPRESSION-HELP":"You can use an expression to dynamically populate options for example by referencing a variable like this ${optionsVariable}. The expression needs to result in either a java object (java.util.List with Option objects) or its json representation."},LABEL:{"FUNCTIONAL-GROUP":"Select group..",PERSON:"Select person.."},COMPONENT:{LABEL:"Label:",OVERRIDEID:"Override id?",ID:"Id:",PLACEHOLDER:"Placeholder:",OPTIONS:"Options","RADIO-BUTTON-DEFAULT":"Option 1","DROPDOWN-DEFAULT-EMPTY-SELECTION":"Please choose one...","DROPDOWN-EMPTY-VALUE-HELP":"This is the 'empty value' option. Selecting this at runtime is the taken to mean 'no value' or 'empty'.  This is allowed for optional fields, but not allowed for required fields.","OPTIONS-EXPRESSION":"Options expression:","OPTIONS-EXPRESSION-ENABLED":"Enable options expression",REQUIRED:"Required",READONLY:"Read-only",EXPRESSION:"Expression","ADD-OPTION":"+ Add a new option","UPLOAD-ALLOW-MULTIPLE":"Allow uploading multiple files",SIZE:"Size","MAX-LENGTH":"Maximum length:","MIN-LENGTH":"Minimum length:","PASSWORD-UNMASK-OPTION":"password masking/unmasking option","HYPERLINK-URL":"Hyperlink URL","REGEX-PATTERN":"Regex standard",MASK:{TITLE:"Input mask",EXAMPLES:{TITLE:"Examples:",NUMBER:"Any number",LETTER:"Any letter",NUMBERORLETTER:"Any letter or number",OPTIONAL:"Make mask optional (not valid)",PHONE:"Phone"}}},OUTCOMES:{DESCRIPTION:"You can define multiple outcomes for this task. When completing a task, the users selects one of the available outcomes, which can be used in eg. a condition further on in the process.","NO-OUTCOMES-OPTION":"Don't use custom outcomes, only show a 'Complete' button.","OUTCOMES-OPTION":"Use custom outcomes for this form.","POSSIBLE-OUTCOMES":"Possible outcomes","NEW-OUTCOME-PLACEHOLDER":"Enter new outcome",ADD:"Add outcome",REMOVE:"Remove"}},"DECISION-TABLE-EDITOR":{"EMPTY-MESSAGES":{"NO-VARIABLE-SELECTED":"未定义"},POPUP:{"EXPRESSION-EDITOR":{"INPUT-TITLE":"编辑输入列","INPUT-DESCRIPTION":"选择输入变量作为列的输入","OUTPUT-TITLE":"编辑输出列","OUTPUT-DESCRIPTION":"选择一个现有的输出变量或创建一个新的变量","EXPRESSION-LABEL":"列标签:","EXPRESSION-PLACEHOLDER":"输入可选标签","EXPRESSION-VARIABLE-NAME":"变量名称:","EXPRESSION-VARIABLE-TYPE":"变量类型:","EXPRESSION-VARIABLE-NAME-PLACEHOLDER":"输入变量名","OUTPUT-NEW-VARIABLE-ID":"变量ID:","OUTPUT-NEW-VARIABLE-TYPE":"变量类型:","COMPLEX-EXPRESSION-LABEL":"复杂表达式:","ALLOWED-VALUES":"允许值（可选）:","OUTPUT-VALUES":"输出值","OUTPUT-VALUES-OPTIONAL":"(可选):","OUTPUT-VALUES-NOT-OPTIONAL":"(为优先级/输出顺序拖动行):"}},"BUTTON-ACTIONS-LABEL":"动作","BUTTON-ADD-INPUT-LABEL":"添加输入","BUTTON-ADD-OUTPUT-LABEL":"添加输出","BUTTON-ADD-RULE-LABEL":"添加规则","BUTTON-MOVE-RULE-UPWARDS-LABEL":"向上移动","BUTTON-MOVE-RULE-DOWNWARDS-LABEL":"向下移动","BUTTON-REMOVE-RULE-LABEL":"移除规则",ALERT:{"EXPRESSION-VARIABLE-REQUIRED-ERROR":"所有输入和输出表达式都必须引用表单字段或变量。","SAVE-CONFIRM":"保存决策表'{name}'"}},TOUR:{"WELCOME-TITLE":"欢迎, {userName}","WELCOME-CONTENT":"这是一个短暂的flowable编辑器. 接下来的几个步骤将指导您通过应用程序的不同部分来启动。按ESC键随时停止。","PALETTE-TITLE":"调色板","PALETTE-CONTENT":"在这里可以找到创建业务流程的所有可用构成。它们是按逻辑组排列的。只需点击它就可以打开一组:","CANVAS-TITLE":"画布","CANVAS-CONTENT":"这是创建业务流程的工作空间。从左侧的调色板中拖动元素，并将它们放在画布上以开始建模","DRAGDROP-TITLE":"拖放示例","DRAGDROP-CONTENT":"下面是一个如何开始建模的例子:","PROPERTIES-TITLE":"属性","PROPERTIES-CONTENT":"在这里您可以配置业务流程构造的属性。只需选择画布上的项目，它的属性就会显示出来。如果要编辑该属性，请单击该属性。","TOOLBAR-TITLE":"工具栏","TOOLBAR-CONTENT":"可以在这里找到所有的动作：保存或验证模型, 复制和粘贴一个流程的部分, 等等. 在按钮上悬停以此获得对动作的描述信息.","END-TITLE":"终点","END-CONTENT":"就是这样！现在可以开始建模过程。如果你有任何问题，请联系开发者。"},"FEATURE-TOUR":{BENDPOINT:{TITLE:"教程",DESCRIPTION:"当使用连线流将流程按照步骤彼此连接的时候，您可能会发现，这些连线彼此交叉，或者您希望以不同的方式排列它们。这样做, 可以向连线添加或移除一个弯曲点。<br/><br/>如下图所示，你首先应该点击 '添加弯曲点' 然后单击连线添加它。注意，连线将在绿色中显示一个微妙的指示，以显示可以在那里添加弯曲点。<br/><br/>删除一个弯曲点再次遵循类似的模式: 点击 '移除弯曲点' 按钮 ，然后点击弯曲点再次移除。"}},"ACTION.OK":"Ok","ACTION.SAVE":"保存","ACTION.SAVE-AND-CLOSE":"保存和关闭编辑器","ACTION.SEND":"发送","ACTION.CANCEL":"取消","ACTION.SELECT":"选择","ACTION.ADD":"添加","ACTION.REMOVE":"移除","ACTION.MOVE.UP":"移动入口","ACTION.MOVE.DOWN":"向下移动","TOOLBAR.ACTION.CLOSE":"关闭编辑器并返回到概览页面","TOOLBAR.ACTION.SAVE":"保存模型","TOOLBAR.ACTION.VALIDATE":"验证模型","TOOLBAR.ACTION.CUT":"剪切 (在业务流程中选择一个或多个元素)","TOOLBAR.ACTION.COPY":"拷贝 (在业务流程中选择一个或多个元素)","TOOLBAR.ACTION.PASTE":"粘贴","TOOLBAR.ACTION.DELETE":"删除选定元素","TOOLBAR.ACTION.UNDO":"撤消","TOOLBAR.ACTION.REDO":"重做","TOOLBAR.ACTION.ZOOMIN":"放大","TOOLBAR.ACTION.ZOOMOUT":"缩小","TOOLBAR.ACTION.ZOOMACTUAL":"缩放到实际尺寸","TOOLBAR.ACTION.ZOOMFIT":"缩放到适当大小","TOOLBAR.ACTION.BENDPOINT.ADD":"向选定的连线添加弯曲点","TOOLBAR.ACTION.BENDPOINT.REMOVE":"向选定的连线移除弯曲点","TOOLBAR.ACTION.ALIGNHORIZONTAL":"水平对齐","TOOLBAR.ACTION.ALIGNVERTICAL":"垂直对齐","TOOLBAR.ACTION.SAMESIZE":"相同大小","TOOLBAR.ACTION.HELP":"开始导游","TOOLBAR.ACTION.FEEDBACK":"提供反馈","FORM_TOOLBAR.ACTION.SAVE":"保存模型","APP_DEFINITION_TOOLBAR.ACTION.SAVE":"保存应用程序定义","BUTTON.ACTION.DELETE.TOOLTIP":"从模型中删除元素","BUTTON.ACTION.MORPH.TOOLTIP":"更改元素类型","ELEMENT.AUTHOR":"作者","ELEMENT.DATE_CREATED":"创建日期","PROPERTY.REMOVED":"移除","PROPERTY.EMPTY":"没有值","PROPERTY.PROPERTY.EDIT.TITLE":"更改值为","PROPERTY.FEEDBACK.TITLE":"请填写您的反馈意见","PROPERTY.ASSIGNMENT.TITLE":"分配","PROPERTY.ASSIGNMENT.TYPE":"类型","PROPERTY.ASSIGNMENT.TYPE.IDENTITYSTORE":"身份存储","PROPERTY.ASSIGNMENT.TYPE.STATIC":"固定值","PROPERTY.ASSIGNMENT.ASSIGNEE":"分配","PROPERTY.ASSIGNMENT.MATCHING":"使用 ↑ 和 ↓选择并按Enter确认或使用鼠标","PROPERTY.ASSIGNMENT.ASSIGNEE_PLACEHOLDER":"输入分配人","PROPERTY.ASSIGNMENT.EMPTY":"没有选择分配人","PROPERTY.ASSIGNMENT.NONE":"没有 ...","PROPERTY.ASSIGNMENT.PLACEHOLDER-SEARCHUSER":"搜索用户","PROPERTY.ASSIGNMENT.PLACEHOLDER-SEARCHGROUP":"搜索组","PROPERTY.ASSIGNMENT.SEARCH":"搜索: ","PROPERTY.ASSIGNMENT.ASSIGNEE_DISPLAY":"分配人 {assignee}","PROPERTY.ASSIGNMENT.CANDIDATE_USERS_DISPLAY":"{length} 候选用户","PROPERTY.ASSIGNMENT.CANDIDATE_USERS":"候选用户","PROPERTY.ASSIGNMENT.CANDIDATE_GROUPS_DISPLAY":"{length} 候选组","PROPERTY.ASSIGNMENT.CANDIDATE_GROUPS":"候选组","PROPERTY.ASSIGNMENT.USER_IDM_DISPLAY":"用户 {firstName} {lastName}","PROPERTY.ASSIGNMENT.USER_IDM_EMAIL_DISPLAY":"用户 {email}","PROPERTY.ASSIGNMENT.USER_IDM_FIELD_DISPLAY":"字段 {name}","PROPERTY.ASSIGNMENT.IDM_EMPTY":"流程发起人","PROPERTY.ASSIGNMENT.IDM.TYPE":"分配","PROPERTY.ASSIGNMENT.IDM.NO_CANDIDATE_USERS":"没有选择候选人...","PROPERTY.ASSIGNMENT.IDM.NO_CANDIDATE_GROUPS":"没有选择候选组...","PROPERTY.ASSIGNMENT.IDM.DROPDOWN.INITIATOR":"分配给流程发起人","PROPERTY.ASSIGNMENT.IDM.DROPDOWN.USER":"分配给单个用户","PROPERTY.ASSIGNMENT.IDM.DROPDOWN.USERS":"候选用户","PROPERTY.ASSIGNMENT.IDM.DROPDOWN.GROUPS":"候选组","PROPERTY.ASSIGNMENT.INITIATOR-CAN-COMPLETE":"允许流程发起人完成任务","PROPERTY.EXECUTIONLISTENERS.DISPLAY":"{length} 执行监听器","PROPERTY.EXECUTIONLISTENERS.EMPTY":"没有配置执行监听器","PROPERTY.EXECUTIONLISTENERS.EVENT":"事件","PROPERTY.EXECUTIONLISTENERS.CLASS":"类","PROPERTY.EXECUTIONLISTENERS.CLASS.PLACEHOLDER":"输入一个类名","PROPERTY.EXECUTIONLISTENERS.EXPRESSION":"表达式","PROPERTY.EXECUTIONLISTENERS.EXPRESSION.PLACEHOLDER":"输入一个表达式","PROPERTY.EXECUTIONLISTENERS.DELEGATEEXPRESSION":"委托表达式","PROPERTY.EXECUTIONLISTENERS.DELEGATEEXPRESSION.PLACEHOLDER":"输入一个委托表达式","PROPERTY.EXECUTIONLISTENERS.UNSELECTED":"没有选择执行监听器","PROPERTY.EXECUTIONLISTENERS.FIELDS.NAME":"名称","PROPERTY.EXECUTIONLISTENERS.FIELDS.NAME.PLACEHOLDER":"输入一个名称","PROPERTY.EXECUTIONLISTENERS.FIELDS.EXPRESSION":"表达式","PROPERTY.EXECUTIONLISTENERS.FIELDS.EXPRESSION.PLACEHOLDER":"输入一个表达式","PROPERTY.EXECUTIONLISTENERS.FIELDS.STRINGVALUE":"字符串值","PROPERTY.EXECUTIONLISTENERS.FIELDS.STRINGVALUE.PLACEHOLDER":"输入一个字符串值","PROPERTY.EXECUTIONLISTENERS.FIELDS.STRING":"字符串","PROPERTY.EXECUTIONLISTENERS.FIELDS.STRING.PLACEHOLDER":"输入一个字符串","PROPERTY.EXECUTIONLISTENERS.FIELDS.IMPLEMENTATION":"实现","PROPERTY.EXECUTIONLISTENERS.FIELDS.EMPTY":"未选择字段","PROPERTY.FIELDS":"{length} 字段","PROPERTY.FIELDS.EMPTY":"未选择字段","PROPERTY.FIELDS.NAME":"名称","PROPERTY.FIELDS.NAME.PLACEHOLDER":"输入一个名称","PROPERTY.FIELDS.EXPRESSION":"表达式","PROPERTY.FIELDS.EXPRESSION.PLACEHOLDER":"输入一个表达式","PROPERTY.FIELDS.STRINGVALUE":"字符串值","PROPERTY.FIELDS.STRINGVALUE.PLACEHOLDER":"输入一个字符串值","PROPERTY.FIELDS.STRING":"字符串","PROPERTY.FIELDS.STRING.PLACEHOLDER":"输入一个字符串","PROPERTY.FIELDS.IMPLEMENTATION":"实现","PROPERTY.DATAPROPERTIES.VALUES":"{length} data objects","PROPERTY.DATAPROPERTIES.EMPTY":"没有配置data objects","PROPERTY.DATAPROPERTIES.ID":"Id","PROPERTY.DATAPROPERTIES.ID.PLACEHOLDER":"输入一个id","PROPERTY.DATAPROPERTIES.NAME":"名称","PROPERTY.DATAPROPERTIES.NAME.PLACEHOLDER":"输入一个名称","PROPERTY.DATAPROPERTIES.TYPE":"类型","PROPERTY.DATAPROPERTIES.VALUE.PLACEHOLDER":"输入一个值 (可选)","PROPERTY.DATAPROPERTIES.VALUE":"默认值","PROPERTY.FORMPROPERTIES.VALUE":"{length} 表单属性","PROPERTY.FORMPROPERTIES.EMPTY":"没有选择表单属性","PROPERTY.FORMPROPERTIES.ID":"Id","PROPERTY.FORMPROPERTIES.ID.PLACEHOLDER":"输入一个id","PROPERTY.FORMPROPERTIES.NAME":"名称","PROPERTY.FORMPROPERTIES.NAME.PLACEHOLDER":"输入一个名称","PROPERTY.FORMPROPERTIES.TYPE":"类型","PROPERTY.FORMPROPERTIES.DATEPATTERN":"日期格式","PROPERTY.FORMPROPERTIES.DATEPATTERN.PLACEHOLDER":"输入日期格式","PROPERTY.FORMPROPERTIES.VALUES":"值","PROPERTY.FORMPROPERTIES.ENUMVALUES.EMPTY":"未选择枚举值","PROPERTY.FORMPROPERTIES.VALUES.ID":"Id","PROPERTY.FORMPROPERTIES.VALUES.NAME":"名称","PROPERTY.FORMPROPERTIES.VALUES.ID.PLACEHOLDER":"输入id值","PROPERTY.FORMPROPERTIES.VALUES.NAME.PLACEHOLDER":"输入名称值","PROPERTY.FORMPROPERTIES.EXPRESSION":"表达式","PROPERTY.FORMPROPERTIES.EXPRESSION.PLACEHOLDER":"输入一个表达式","PROPERTY.FORMPROPERTIES.VARIABLE":"变量","PROPERTY.FORMPROPERTIES.VARIABLE.PLACEHOLDER":"输入一个变量","PROPERTY.FORMPROPERTIES.REQUIRED":"必须的","PROPERTY.FORMPROPERTIES.READABLE":"可读的","PROPERTY.FORMPROPERTIES.WRITABLE":"可写的","PROPERTY.INPARAMETERS.VALUE":"{length} in-parameters","PROPERTY.INPARAMETERS.EMPTY":"没有配置in-parameters ","PROPERTY.OUTPARAMETERS.VALUE":"{length} out-parameters","PROPERTY.OUTPARAMETERS.EMPTY":"没有配置out-parameters","PROPERTY.PARAMETER.SOURCE":"源","PROPERTY.PARAMETER.SOURCE.PLACEHOLDER":"输入一个源","PROPERTY.PARAMETER.SOURCEEXPRESSION":"源表达式","PROPERTY.PARAMETER.SOURCEEXPRESSION.PLACEHOLDER":"输入一个源表达式","PROPERTY.PARAMETER.TARGET":"目标","PROPERTY.PARAMETER.TARGET.PLACEHOLDER":"输入一个目标","PROPERTY.PARAMETER.EMPTY":"没有选择参数","PROPERTY.PROCESSREFERENCE.EMPTY":"没有选择引用","PROPERTY.PROCESSREFERENCE.TITLE":"流程参考","PROPERTY.PROCESSREFERENCE.ERROR.PROCESS":"加载流程出错。稍后再试一次","PROPERTY.PROCESSREFERENCE.PROCESS.LOADING":"加载流程...","PROPERTY.PROCESSREFERENCE.PROCESS.EMPTY":"此文件夹不包含流程","PROPERTY.FORMREFERENCE.EMPTY":"没有选择参考","PROPERTY.FORMREFERENCE.TITLE":"表单引用","PROPERTY.FORMREFERENCE.DESCRIPTION":"引用表单","PROPERTY.FORMREFERENCE.ERROR.FORM":"加载表单出错。稍后再试一次","PROPERTY.FORMREFERENCE.FORM.LOADING":"加载表单...","PROPERTY.FORMREFERENCE.FORM.EMPTY":"此文件夹不包含表单","PROPERTY.TASKLISTENERS.VALUE":"{length}任务监听器","PROPERTY.TASKLISTENERS.EMPTY":"没有配置任务监听器","PROPERTY.TASKLISTENERS.EVENT":"事件","PROPERTY.TASKLISTENERS.CLASS":"类","PROPERTY.TASKLISTENERS.CLASS.PLACEHOLDER":"输入一个类名","PROPERTY.TASKLISTENERS.EXPRESSION":"表达式","PROPERTY.TASKLISTENERS.EXPRESSION.PLACEHOLDER":"输入一个表达式","PROPERTY.TASKLISTENERS.DELEGATEEXPRESSION":"委托表达式","PROPERTY.TASKLISTENERS.DELEGATEEXPRESSION.PLACEHOLDER":"输入一个委托表达式","PROPERTY.TASKLISTENERS.UNSELECTED":"没有选择任务监听器","PROPERTY.TASKLISTENERS.FIELDS.NAME":"名称","PROPERTY.TASKLISTENERS.FIELDS.NAME.PLACEHOLDER":"输入一个名称","PROPERTY.TASKLISTENERS.FIELDS.EXPRESSION":"表达式","PROPERTY.TASKLISTENERS.FIELDS.EXPRESSION.PLACEHOLDER":"输入一个表达式","PROPERTY.TASKLISTENERS.FIELDS.STRINGVALUE":"字符串值","PROPERTY.TASKLISTENERS.FIELDS.STRINGVALUE.PLACEHOLDER":"输入一个字符串值","PROPERTY.TASKLISTENERS.FIELDS.STRING":"字符串","PROPERTY.TASKLISTENERS.FIELDS.STRING.PLACEHOLDER":"输入一个字符串","PROPERTY.TASKLISTENERS.FIELDS.IMPLEMENTATION":"实现","PROPERTY.TASKLISTENERS.FIELDS.EMPTY":"没有选择字段","PROPERTY.EVENTLISTENERS.DISPLAY":"{length} 事件监听器","PROPERTY.EVENTLISTENERS.EMPTY":"没有配置事件监听器","PROPERTY.EVENTLISTENERS.EVENTS":"事件","PROPERTY.EVENTLISTENERS.RETHROW":"Rethrow event?","PROPERTY.EVENTLISTENERS.CLASS":"类","PROPERTY.EVENTLISTENERS.CLASS.PLACEHOLDER":"输入一个类名","PROPERTY.EVENTLISTENERS.DELEGATEEXPRESSION":"委托表达式","PROPERTY.EVENTLISTENERS.DELEGATEEXPRESSION.PLACEHOLDER":"输入一个委托表达式","PROPERTY.EVENTLISTENERS.ENTITYTYPE":"实体类型","PROPERTY.EVENTLISTENERS.ENTITYTYPE.PLACEHOLDER":"输入一个实体类型","PROPERTY.EVENTLISTENERS.RETHROWTYPE":"Rethrow event type","PROPERTY.EVENTLISTENERS.ERRORCODE":"错误码","PROPERTY.EVENTLISTENERS.ERRORCODE.PLACEHOLDER":"输入一个错误码","PROPERTY.EVENTLISTENERS.MESSAGENAME":"消息名称","PROPERTY.EVENTLISTENERS.MESSAGENAME.PLACEHOLDER":"输入一个消息名称","PROPERTY.EVENTLISTENERS.SIGNALNAME":"信号名称","PROPERTY.EVENTLISTENERS.SIGNALNAME.PLACEHOLDER":"输入信号名称","PROPERTY.EVENTLISTENERS.UNSELECTED":"没有选择事件监听器","PROPERTY.SIGNALDEFINITIONS.DISPLAY":"{length} 信号定义","PROPERTY.SIGNALDEFINITIONS.EMPTY":"没有配置信号定义","PROPERTY.SIGNALDEFINITIONS.SCOPE-GLOBAL":"全局","PROPERTY.SIGNALDEFINITIONS.SCOPE-PROCESSINSTANCE":"流程实例","PROPERTY.SIGNALDEFINITIONS.ID":"Id","PROPERTY.SIGNALDEFINITIONS.NAME":"名称","PROPERTY.SIGNALDEFINITIONS.SCOPE":"Scope","PROPERTY.MESSAGEDEFINITIONS.DISPLAY":"{length} 消息定义","PROPERTY.MESSAGEDEFINITIONS.EMPTY":"没有配置消息定义","PROPERTY.MESSAGEDEFINITIONS.ID":"Id","PROPERTY.MESSAGEDEFINITIONS.NAME":"名称","PROPERTY.SEQUENCEFLOW.ORDER.EMPTY":"没有确定连线的顺序","PROPERTY.SEQUENCEFLOW.ORDER.NOT.EMPTY":"设置连线的顺序","PROPERTY.SEQUENCEFLOW.ORDER.NO.OUTGOING.SEQUENCEFLOW.FOUND":"没有发现流出连线.","PROPERTY.SEQUENCEFLOW.ORDER.DESCRIPTION":"设置需要评估连线的顺序:","PROPERTY.SEQUENCEFLOW.ORDER.SEQUENCEFLOW.VALUE":"连线到 {targetType} {targetTitle}","PROPERTY.SEQUENCEFLOW.CONDITION.TITLE":"连线条件","PROPERTY.SEQUENCEFLOW.CONDITION.STATIC":"条件表达式","PROPERTY.SEQUENCEFLOW.CONDITION.NO-CONDITION-DISPLAY":"没有设置条件","PROPERTY.DUEDATE.EMPTY":"没有到期","PROPERTY.DUEDATE.DEFINED":"定义到期日","PROPERTY.DUEDATE.TITLE":"到期日","PROPERTY.DUEDATE.EXPRESSION-LABEL":"到期日表达式","PROPERTY.DUEDATE.TASK-DUE-DATE-OPTIONS.NO-DUEDATE":"没有到期日","PROPERTY.DUEDATE.TASK-DUE-DATE-OPTIONS.EXPRESSION":"表达式定义","PROPERTY.DUEDATE.TASK-DUE-DATE-OPTIONS.STATIC":"任务创建后的固定持续时间","PROPERTY.DUEDATE.TASK-DUE-DATE-OPTIONS.FIELD":"基于字段","MODEL.SAVE.TITLE":"保存模型","MODEL.VALIDATE.TITLE":"验证结果","MODEL.NAME":"名称","MODEL.KEY":"Key","MODEL.DESCRIPTION":"描述","MODEL.SAVE.NEWVERSION":"将此保存为新版本？这意味着你可以回到以前的版本。","MODEL.SAVE.COMMENT":"评论","MODEL.SAVE.SAVING":"正在保存模型","MODEL.LASTMODIFIEDDATE":"最后保存","MODEL.SAVE.ERROR":"Unexpected error: 不能保存模型","MODEL.VALIDATIONERRORS":" 注意，模型包含验证错误。这意味着该模型在当前状态下不能部署在Flowable引擎上。","MODEL.CONFLICT.WRITE":"不能保存模型: '{userFullName}'对该模型进行了更改","MODEL.CONFLICT.WRITE.OPTIONS":"选择一个选项来解决此冲突:","MODEL.CONFLICT.WRITE.OPTION.OVERWRITE":"覆盖其他模型","MODEL.CONFLICT.WRITE.OPTION.DISCARDCHANGES":"放弃我的改变","MODEL.CONFLICT.WRITE.OPTION.SAVEAS":"保存为新模型","MODEL.CONFLICT.WRITE.OPTION.NEWVERSION":"创建新版本","MODEL.CONFLICT.SAVEAS":"另存为:","EVENT_TYPE.ACTIVITY.COMPENSATE.TOOLTIP":"一项活动将作为对另一活动的补偿而被执行。事件针对即将执行的活动进行补偿。","EVENT_TYPE.ACTIVITY.COMPLETED.TOOLTIP":"一项活动已圆满完成。","EVENT_TYPE.ACTIVITY.ERROR.RECEIVED.TOOLTIP":"活动已接收到错误事件。在活动接收到实际错误之前发送","EVENT_TYPE.MEMBERSHIP.CREATED.TOOLTIP":"创建了新的membership","EVENT_TYPE.MEMBERSHIP.DELETED.TOOLTIP":"单个membership已被删除","EVENT_TYPE.MEMBERSHIPS.DELETED.TOOLTIP":"相关组中的所有成员已被删除。由于可能的原因，个别事件不会被派遣。","EVENT_TYPE.TASK.ASSIGNED.TOOLTIP":"一个任务已经被分配人了。这将抛出一个 ENTITY_UPDATED 事件","EVENT_TYPE.TASK.COMPLETED.TOOLTIP":"一个任务已经被完成。在删除任务实体之前调度","EVENT_TYPE.UNCAUGHT.BPMNERROR.TOOLTIP":"当BPMN错误被抛出，但未在流程中捕获时","EVENT_TYPE.VARIABLE.CREATED.TOOLTIP":"已经创建了一个新的变量","EVENT_TYPE.VARIABLE.DELETED.TOOLTIP":"已删除现有变量","EVENT_TYPE.VARIABLE.UPDATED.TOOLTIP":"已更新现有变量","PROPERTY.DECISIONTABLEREFERENCE.EMPTY":"没有选择引用","PROPERTY.DECISIONTABLEREFERENCE.TITLE":"决策表引用","PROPERTY.DECISIONTABLEREFERENCE.ERROR.FORM":"加载决策表出现错误. 稍后再试一次","PROPERTY.DECISIONTABLEREFERENCE.DECISIONTABLE.LOADING":"加载决策表...","PROPERTY.DECISIONTABLEREFERENCE.DECISIONTABLE.EMPTY":"此文件夹不包含任何决策表","PROPERTY.CASEREFERENCE.EMPTY":"没有选择引用","PROPERTY.CASEREFERENCE.TITLE":"Case模型引用","PROPERTY.CASEREFERENCE.ERROR.FORM":"加载case模型时出错。稍后再试一次","PROPERTY.CASEREFERENCE.CASE.LOADING":"加载case模型...","PROPERTY.CASEREFERENCE.CASE.EMPTY":"此文件夹不包含任何case模型","PROPERTY.PACKAGEA":{}},ne=i("02ac"),se=i.n(ne),ae=(i("a481"),i("7618")),oe=(i("c5f6"),i("a745"),Object.prototype.hasOwnProperty);function re(e,t){return oe.call(e,t)}var ce=/(%|)\{([0-9a-zA-Z_]+)\}/g,he=function(e){function t(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return e?(1===i.length&&"object"===Object(ae["a"])(i[0])&&(i=i[0]),i&&i.hasOwnProperty||(i={}),console.log(11,e,i),e.replace(ce,function(t,n,s,a){var o;return"{"===e[a-1]&&"}"===e[a+t.length]?s:(o=re(i,s)?i[s]:null,null===o||void 0===o?"":o)})):""}return t},le=he(n["default"]),de=ie,ue=!1,ge=function(){var e=te()(this||n["default"]).$t;if("function"===typeof e&&n["default"].locale)return ue||(ue=!0,n["default"].locale(n["default"].config.lang,se()(de,n["default"].locale(n["default"].config.lang)||{},{clone:!0}))),e.apply(this,arguments)},Ae=function(e,t){var i=ge.apply(this,arguments);if(null!==i&&void 0!==i)return i;for(var n=e.split("."),s=de,a=0,o=n.length;a<o;a++){var r=n[a];if(i=s[r],a===o-1)return le(i,t);if(!i)return"";s=i}return""},pe=function(e){de=e||de},fe=function(e){ge=e||ge},Ee={use:pe,t:Ae,i18n:fe},ve={methods:{t:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Ae.apply(this,t)}}},_e={name:"toolbar",data:function(){return{undoStack:[],redoStack:[],saveVisible:!1,description:"",saveLoading:!1,saveDialog:{name:"",key:"",errorMessage:[]},account:{},error:null}},mixins:[ve],props:{editor:{},editorManager:{}},computed:{items:function(){return this.editorManager?this.editorManager.getToolbarItems():[]},secondaryItems:function(){return this.editorManager?this.editorManager.getSecondaryItems():[]}},mounted:function(){this.MousetrapBind()},methods:{executeFunctionByName:function(e,t){var i=e.split("."),n=i.pop();return this.editorManager.TOOLBAR_ACTIONS[n](t)},toolbarButtonClicked:function(e){if(0!==e){var t=this.items[e],i={$scope:this,$rootScope:this.$parent,editorManager:this.editorManager};this.executeFunctionByName(t.action,i);var n={type:$["a"].EVENT_TYPE_TOOLBAR_BUTTON_CLICKED,toolbarItem:t};this.editorManager.dispatchFlowEvent(n.type,n)}else this.saveVisible=!0},toolbarSecondaryButtonClicked:function(e){var t=this.secondaryItems[e],i={this:this,editorManager:this.editorManager};this.executeFunctionByName(t.action,i)},MousetrapBind:function(){var e=this;J.a.bind("mod+z",function(){var t={$scope:e,editorManager:e.editorManager};return e.editorManager.TOOLBAR_ACTIONS.undo(t),!1}),J.a.bind("mod+y",function(){var t={$scope:e,editorManager:e.editorManager};return e.editorManager.TOOLBAR_ACTIONS.redo(t),!1}),J.a.bind("mod+c",function(){var t={$scope:e,editorManager:e.editorManager};return e.editorManager.TOOLBAR_ACTIONS.copy(t),!1}),J.a.bind("mod+v",function(){var t={$scope:e,editorManager:e.editorManager};return e.editorManager.TOOLBAR_ACTIONS.paste(t),!1}),J.a.bind(["del"],function(){var t={$scope:e,editorManager:e.editorManager};return e.editorManager.TOOLBAR_ACTIONS.deleteItem(t),!1})},registerOnEvent:function(){var e=this;this.editorManager.registerOnEvent($["a"].EVENT_EXECUTE_COMMANDS,function(t){if(t.commands){e.undoStack.push(t.commands),e.redoStack=[];for(var i=0;i<e.items.length;i++){var n=e.items[i];"FLOWABLE.TOOLBAR.ACTIONS.undo"===n.action?n.enabled=!0:"FLOWABLE.TOOLBAR.ACTIONS.redo"===n.action&&(n.enabled=!1)}e.editorManager.getCanvas().update(),e.editorManager.updateSelection()}})},saveAndClose:function(){var e=this;this.save(function(){if(e.editorManager.getStencilData()){var t=e.editorManager.getStencilData().namespace;if(void 0!==t&&null!==t&&-1!==t.indexOf("cmmn1.1"))return void console.log("/casemodels")}console.log("/processes")})},save:function(e){if(this.saveDialog.name&&0!==this.saveDialog.name.length&&this.saveDialog.key&&0!==this.saveDialog.key.length){this.saveLoading=!0,this.modelMetaData.name=this.saveDialog.name,this.modelMetaData.key=this.saveDialog.key,this.modelMetaData.description=this.saveDialog.description;var t=this.editorManager.getModel(),i={modeltype:this.modelMetaData.model.modelType,json_xml:Z()(t),name:this.saveDialog.name,key:this.saveDialog.key,description:this.saveDialog.description,newversion:this.saveDialog.newVersion,comment:this.saveDialog.comment,lastUpdated:this.modelMetaData.lastUpdated};this.error&&this.error.isConflict&&(i.conflictResolveAction=this.error.conflictResolveAction,"saveAs"===this.error.conflictResolveAction&&(i.saveAs=this.error.saveAs)),console.log("$http",i)}},isOkButtonDisabled:function(){return!this.saveLoading&&(!this.error||!this.error.conflictResolveAction||"saveAs"===this.error.conflictResolveAction&&(!this.error.saveAs||0===this.error.saveAs.length))},okClicked:function(){var e=this;this.error&&("discardChanges"===this.error.conflictResolveAction?(this.close(),window.location.reload()):"overwrite"===this.error.conflictResolveAction||"newVersion"===this.error.conflictResolveAction?this.save():"saveAs"===this.error.conflictResolveAction&&this.save(function(){if(e.ignoreChanges=!0,e.editorManager.getStencilData()){var t=e.editorManager.getStencilData().namespace;if(void 0!==t&&null!==t&&-1!==t.indexOf("cmmn1.1"))return void console.log("/casemodels2")}console.log("/processes2")}))},close:function(){this.saveVisible=!1},safeApply:function(e){if(this.$root){var t=this.$root.$$phase;"$apply"!==t&&"$digest"!==t||e&&"function"===typeof e&&e()}}},watch:{editorManager:function(e,t){t||(this.registerOnEvent(),this.modelMetaData=this.editorManager.getBaseModelData(),this.modelMetaData.description&&(this.description=this.modelMetaData.description),this.saveDialog={name:this.modelMetaData.name,key:this.modelMetaData.key,description:this.description,newVersion:!1,comment:""})}}},me=_e,Se=Object(c["a"])(me,X,K,!1,null,"156c84ba",null),be=Se.exports;be.install=function(e){e.component(be.name,be)};var Oe=be,ye=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"paletteHelpWrapper",attrs:{id:"paletteHelpWrapper"}},[n("div",{staticClass:"stencils",attrs:{id:"paletteSection"}},[e.stencilItemGroups.length>1?n("div",e._l(e.stencilItemGroups,function(t,i){return n("div",{key:t.name},[t.visible&&t.items?n("ul",{staticClass:"stencil-group",class:{collapsed:!t.expanded,first:0==i}},[n("li",[n("stencil-item-template",{attrs:{group:t,editorManager:e.editorManager},on:{expandedToggle:function(i){return e.expandedToggle(t)}}})],1)]):e._e(),t.items?e._e():n("div",[n("root-stencil-item-template",{attrs:{group:t}})],1)])}),0):e._e(),1==e.stencilItemGroups.length?n("div",[n("ul",{staticClass:"stencil-group"},e._l(e.stencilItemGroups[0].paletteItems,function(t){return n("li",{key:t.id,staticClass:"stencil-item",attrs:{id:t.id,title:t.description,"data-drag":"true","jqyoui-draggable":"{onStart:'startDragCallback', onDrag:'dragCallback'}","data-jqyoui-options":"{revert: 'invalid', helper: 'clone', opacity : 0.5}"}},[n("img",{attrs:{src:i("6386")("./"+t.icon),width:"16px;",height:"16px;"}}),t.customIcon?e._e():n("img",{attrs:{width:"16px;",height:"16px;",src:i("6386")("./"+t.icon)}}),e._v("\n          "+e._s(e._f("translate")(t.name))+"\n        ")])}),0)]):e._e()]),n("div",{attrs:{id:"process-treeview-wrapper"}},[n("div",{staticClass:"process-treeview-header"},[e._v("\n      Process Navigator\n    ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isEditorReady,expression:"isEditorReady"}],staticClass:"process-treeview-body"},[n("div",{staticClass:"process-treeview-process-title",class:{"current-process":e.treeview.current},attrs:{title:e.treeview.id}},[e._v("\n        Process: "+e._s(e.treeview.name)+"\n        "),n("img",{directives:[{name:"show",rawName:"v-show",value:!e.treeview.current,expression:"!treeview.current"}],staticClass:"pull-right",attrs:{src:i("2935")},on:{click:function(t){return e.edit(e.treeview.id)}}})]),e.treeview.children?n("ul",{staticClass:"process-treeview-list"},e._l(e.treeview.children,function(t){return n("li",{key:t.id},[n("process-tree-list",{attrs:{editorManager:e.editorManager},on:{edit:e.edit}})],1)}),0):e._e(),e.treeview.children&&0!=e.treeview.children.length?e._e():n("div",{staticStyle:{"padding-left":"5px"}},[e._v("\n        No structural elements used.\n      ")])])])])},Te=[],Ce=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("span",{on:{click:e.expandedToggle}},[i("i",{staticClass:"glyphicon",class:{"glyphicon-chevron-right":!e.group.expanded,"glyphicon-chevron-down":e.group.expanded}}),e._v("\n     "+e._s(e.group.name)+"\n  ")]),e._l(e.group.groups,function(t){return i("ul",{key:t.id,staticClass:"stencil-group stencil-group-non-root",class:{collapsed:!t.expanded,first:e.$first}},[i("stencil-item-template")],1)}),i("ul",e._l(e.group.paletteItems,function(t){return i("li",{key:t.id,staticClass:"stencil-item"},[i("stencil-drag-item",{attrs:{item:t,editorManager:e.editorManager}})],1)}),0)],2)},Ne=[],Ie={name:"stencil-item-template",data:function(){return{}},props:{editorManager:{},group:{type:Object,default:function(){return{name:"",items:[],groups:[]}}}},computed:{stencilItemGroups:function(){return this.editorManager?this.editorManager.getShowStencilData():[]}},methods:{expandedToggle:function(){this.$emit("expandedToggle")}}},Re=Ie,Pe=Object(c["a"])(Re,Ce,Ne,!1,null,"a3dec4be",null),ke=Pe.exports;ke.install=function(e){e.component(ke.name,ke)};var Le=ke,De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"process-treeview-list-item",class:{"current-process":e.child.current},on:{click:function(t){return e.showSubProcess(e.child)}}},[n("img",{attrs:{src:i("b9de")("./"+e.child.icon),width:"16px;",height:"16px;"}}),e._v("\n    "+e._s(e.child.name)+"\n    "),n("img",{directives:[{name:"show",rawName:"v-show",value:!e.child.current&&"CollapsedSubProcess"===e.child.type,expression:"!child.current && child.type === 'CollapsedSubProcess'"}],staticClass:"pull-right",attrs:{src:i("2935")},on:{click:function(t){return e.$emit("edit",e.child.id)}}})]),e.child.children?n("ul",{staticClass:"process-treeview-list"},e._l(e.child.children,function(e){return n("li",{key:e.id},[n("process-tree-list")],1)}),0):e._e()])},xe=[],we={name:"process-tree-list",data:function(){return{}},props:{editorManager:{}},methods:{showSubProcess:function(e){var t=this.editorManager.getChildShapeByResourceId(e.resourceId);this.editorManager.setSelection([t],[],!0)}}},Me=we,Be=Object(c["a"])(Me,De,xe,!1,null,"097dd824",null),Ue=Be.exports;Ue.install=function(e){e.component(Ue.name,Ue)};var Ve=Ue,He=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"stencil-item root-stencil-item",attrs:{id:e.group.id,title:e.group.description,"data-drag":"true","jqyoui-draggable":"{onStart:'startDragCallback', onDrag:'dragCallback'}","data-jqyoui-options":"{revert: 'invalid', helper: 'clone', opacity : 0.5}"}},[e.group.customIcon?e._e():n("img",{attrs:{width:"16px;",height:"16px;",src:i("6386")("./"+e.group.icon)}}),e._v("\n        "+e._s(e.group.name)+"\n")])},je=[],Ye={name:"root-stencil-item-template",props:{group:{type:Object,default:function(){return{name:"",items:[],groups:[]}}}}},Fe=Ye,ze=Object(c["a"])(Fe,He,je,!1,null,"78f86284",null),Ge=ze.exports;Ge.install=function(e){e.component(Ge.name,Ge)};var We=Ge,Xe={name:"paletteHelpWrapper",data:function(){return{treeview:{},isEditorReady:!1,diyStencilItem:[{groups:[],items:[],name:"自定义节点",paletteItems:[],visible:!0}]}},components:{stencilItemTemplate:Le,processTreeList:Ve,rootStencilItemTemplate:We},props:{editorManager:{}},mounted:function(){},computed:{stencilItemGroups:function(){if(!this.editorManager)return[];var e=this.editorManager.getShowStencilData();return e}},methods:{showSubProcess:function(e){var t=this.editorManager.getChildShapeByResourceId(e.resourceId);this.editorManager.setSelection([t],[],!0)},edit:function(e){this.editorManager.edit(e)},expandedToggle:function(e){var t=!e.expanded;this.$set(e,"expanded",t)}}},Ke=Xe,Qe=Object(c["a"])(Ke,ye,Te,!1,null,"25ad003e",null),Ze=Qe.exports;Ze.install=function(e){e.component(Ze.name,Ze)};var qe=Ze,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"canvasHelpWrapper",attrs:{id:"canvasHelpWrapper"}},[n("div",{directives:[{name:"droppable",rawName:"v-droppable",value:{onDrop:"dropCallback",onOver:"overCallback",onOut:"outCallback"},expression:"{onDrop:'dropCallback',onOver: 'overCallback', onOut: 'outCallback'}"}],staticClass:"canvas-wrapper canvasSection",attrs:{id:"canvasSection","data-model":"droppedElement","data-drop":"true"},on:{"&scroll":function(t){return e.fnScroll(t)}}},[n("div",{staticClass:"canvas-message",attrs:{id:"model-modified-date"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.btn_visibile.hide_shape_buttons,expression:"!btn_visibile.hide_shape_buttons"}],attrs:{id:"flow_op_btns"}},[n("div",{staticClass:"Oryx_button",attrs:{id:"delete-button",title:e.t("BUTTON.ACTION.DELETE.TOOLTIP")},on:{click:e.deleteShape}},[n("img",{attrs:{src:i("1e60")}})]),e.btn_visibile.hide_morph_buttons?e._e():n("div",{staticClass:"Oryx_button",attrs:{id:"morph-button",title:e.t("BUTTON.ACTION.MORPH.TOOLTIP")},on:{click:e.morphShape}},[n("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[n("img",{attrs:{src:i("64fa")}})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.morphShapes,function(t){return n("el-dropdown-item",{key:t.id,attrs:{command:t}},[n("img",{attrs:{width:"16px;",height:"16px;",src:i("6386")("./"+t.icon)}}),e._v("\n              "+e._s(t.name)+"\n            ")])}),1)],1)],1),e.btn_visibile.hide_edit_buttons?e._e():n("div",{staticClass:"Oryx_button",attrs:{id:"edit-button"},on:{click:e.editShape}},[n("img",{attrs:{src:i("2935")}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!(e.btn_visibile.hide_shape_buttons||e.btn_visibile.hide_flow_add_btns),expression:"!(btn_visibile.hide_shape_buttons || btn_visibile.hide_flow_add_btns)"}],attrs:{id:"flow_add_btns"}},e._l(e.quickMenuItems,function(t){return n("div",{directives:[{name:"draggable",rawName:"v-draggable",value:{onStart:"startDragCallbackQuickMenu",onDrag:"dragCallbackQuickMenu",revert:"invalid",helper:"clone",opacity:.5},expression:"{onStart:'startDragCallbackQuickMenu', onDrag:'dragCallbackQuickMenu',\n         revert: 'invalid', helper: 'clone', opacity : 0.5}"}],key:t.id,staticClass:"Oryx_button",attrs:{id:t.id,title:t.description,"data-model":"draggedElement","data-drag":"true"},on:{click:function(i){return e.quickAddItem(t.id)}}},[n("img",{attrs:{src:i("6386")("./"+t.icon)}})])}),0)])])},$e=[],et=(i("7514"),i("aafb")),tt=new n["default"];function it(e,t){for(var i=0;i<t.length;i++)if(t[i].name===e)return t[i];return null}function nt(e,t){var i={name:e,items:[],paletteItems:[],groups:[],visible:!0};return t.push(i),i}function st(){var e=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var t=navigator.userAgent;if(t.indexOf("MSIE")>=0){var i=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==i&&(e=i/100)}}return e}function at(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return function(){var n=this,s=arguments;t&&clearTimeout(t),t=setTimeout(function(){t=null,e.apply(n,s)},i)}}i("4917");var ot={draggableScope:null,droppableScope:null,extract:function(e,t){var i=-1!==t.indexOf("(")?t.indexOf("("):t.length,n=-1!==t.lastIndexOf(")")?t.lastIndexOf(")"):t.length,s=t.substring(i+1,n),a=t.match(/^[^.]+.\s*/)[0].slice(0,-1);a=e.context[a]&&"function"===typeof e.context[a].constructor?a:null;var o=s&&s.split(",")||[];return o.map(function(e){console.log("item",e)}),{callback:t.substring(a&&a.length+1||0,i),args:(s&&s.split(",")||[]).map(function(t){return[$parse(t)(e)]}),constructor:a}},callEventCallback:function(e,t,i,n){if(t){var s=this.extract(e,t),a=s.callback,o=s.constructor,r=[i,n].concat(s.args);return(e.context[a]||e.context[o][a]).apply(e,r)}}};function rt(e,t,i){var n,s,a;if(e.dataset.drag){s={revert:t.value.revert,helper:t.value.helper,opacity:t.value.opacity};var o=jQuery(e);o.draggable({disabled:!1}).draggable(s).draggable({start:function(e,r){n={onStart:t.value.onStart,onDrag:t.value.onDrag},ot.draggableScope=i,a=o.css("z-index");var c=s.helper?r.helper:o;c.css("z-index",9999),ot.callEventCallback(i,n.onStart,e,r)},stop:function(e,t){var r=s.helper?t.helper:o;r.css("z-index",a),ot.callEventCallback(i,n.onStop,e,t)},drag:function(e,t){ot.callEventCallback(i,n.onDrag,e,t)}})}else e.draggable({disabled:!0})}function ct(e,t,i){var n;if(e.dataset.drop){n={onDrop:t.value.onDrop,onOver:t.value.onOver,onOut:t.value.onOut};var s=jQuery(e);s.droppable({disabled:!1}).droppable({over:function(e,t){ot.callEventCallback(i,n.onOver,e,t)},out:function(e,t){ot.callEventCallback(i,n.onOut,e,t)},drop:function(e,t){n.beforeDrop?ot.callEventCallback(i,n.beforeDrop,e,t):ot.callEventCallback(i,n.onDrop,e,t)}})}else e.droppable({disabled:!0})}var ht={name:"canvasWrapper",data:function(){return{morphShapes:[],currentSelectedMorph:null,newShape:null,btn_visibile:{hide_shape_buttons:!0,hide_flow_add_btns:!0,hide_morph_buttons:!0,hide_edit_buttons:!0},dragCanContain:!1,dragModeOver:!1,quickMenu:void 0}},mixins:[ve],directives:{draggable:rt,droppable:ct},props:{editorManager:{}},mounted:function(){var e=this;et["a"].addListener($["a"].EVENT_TYPE_HIDE_SHAPE_BUTTONS,function(t){t.map(function(t){e.btn_visibile[t.type]=t.status})}),tt.$on("UPDATE_dragModeOver",function(t){e.dragModeOver=t,tt.$emit("UPDATE_dragModeOver_forDragItem",t)}),tt.$on("UPDATE_dragCanContain",function(t){e.dragCanContain=t}),tt.$on("UPDATE_quickMenu",function(t){e.quickMenu=t})},computed:{modelData:function(){return this.editorManager?this.editorManager.getBaseModelData():[]},quickMenuItems:function(){return this.editorManager?this.editorManager.quickMenuItems:[]}},methods:{editShape:function(){this.editorManager.edit(this.selectedShape.resourceId)},fnScroll:function(){var e=this.editorManager.getSelection(),t=this.editorManager.getSubSelection();this.selectedElements=e,this.subSelectionElements=t,e&&e.length>0&&(this.selectedElementBeforeScrolling=e[0]),this.btn_visibile.hide_shape_buttons=!0,jQuery(".resizer_southeast").each(function(e,t){this.orginalResizerSEStyle=t.style.display,t.style.display="none"}),jQuery(".resizer_northwest").each(function(e,t){this.orginalResizerNWStyle=t.style.display,t.style.display="none"}),jQuery(".resizer_south").each(function(e,t){this.orginalResizerNWStyle=t.style.display,t.style.display="none"}),jQuery(".resizer_north").each(function(e,t){this.orginalResizerNWStyle=t.style.display,t.style.display="none"}),this.editorManager.handleEvents({type:$["a"].EVENT_CANVAS_SCROLL}),this.fnHandleScrollDebounce()},fnHandleScrollDebounce:at(function(e,t,i){function n(e){jQuery(e).position().top>0?e.style.display="block":e.style.display="none"}this.editorManager.updateOryxButtonPosition(this.selectedElements),this.selectedElements=void 0,this.subSelectionElements=void 0,jQuery(".resizer_southeast").each(function(e,t){n(t)}),jQuery(".resizer_northwest").each(function(e,t){n(t)}),jQuery(".resizer_south").each(function(e,t){n(t)}),jQuery(".resizer_north").each(function(e,t){n(t)})},200),deleteShape:function(){this.editorManager.flowToolbarEvent({$scope:this,editorManager:this.editorManager})},morphShape:function(){var e=this.editorManager.getSelection();if(e&&1==e.length){this.currentSelectedShape=e.first();for(var t=this.currentSelectedShape.getStencil().idWithoutNs(),i=this.editorManager.getStencilItemById(t),n=[],s=this.editorManager.morphRoles,a=0;a<s.length;a++)if(s[a].role===i.morphRole)for(var o=s[a].morphOptions.slice(),r=0;r<o.length;r++)o[r].id!=t&&n.push(o[r]);this.morphShapes=n}},handleCommand:function(e){for(var t=void 0,i=this.editorManager.getStencilSets().values(),n=e.genericTaskId||e.id,s=0;s<i.length;s++)for(var a=i[s],o=a.nodes(),r=0;r<o.length;r++)if(o[r].idWithoutNs()===n){t=o[r];break}t&&this.editorManager.assignCommand("MorphTo",this.currentSelectedShape,t,this.editorManager.getEditor())},dropCallback:function(e,t){if(this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.attached"}),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.added"}),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeMenu"}),this.editorManager.dispatchFlowEvent($["a"].EVENT_TYPE_HIDE_SHAPE_BUTTONS,[{type:"hide_shape_buttons",status:!0},{type:"hide_flow_add_btns",status:!0},{type:"hide_morph_buttons",status:!0},{type:"hide_edit_buttons",status:!0}]),this.dragCanContain){var i=this.editorManager.getStencilItemById(t.draggable[0].id),n={x:e.pageX,y:e.pageY},s=st(),a=this.editorManager.getCanvas().node.getScreenCTM();n.x-=a.e/s,n.y-=a.f/s,n.x/=a.a,n.y/=a.d,n.x-=document.documentElement.scrollLeft,n.y-=document.documentElement.scrollTop;var o=this.editorManager.dragCurrentParent.absoluteXY();n.x-=o.x,n.y-=o.y;for(var r=void 0,c=this.editorManager.getStencilSets().values(),h=0;h<c.length;h++){for(var l=c[h],d=l.nodes(),u=0;u<d.length;u++)if(d[u].idWithoutNs()===t.draggable[0].id){r=d[u];break}if(!r)for(var g=l.edges(),A=0;A<g.length;A++)if(g[A].idWithoutNs()===t.draggable[0].id){r=g[A];break}}if(!r)return;if(this.quickMenu){var p=this.editorManager.getSelection();if(p&&1==p.length){var f=p.first(),E={};if(E.type=f.getStencil().namespace()+t.draggable[0].id,E.namespace=f.getStencil().namespace(),E.connectedShape=f,E.parent=this.editorManager.dragCurrentParent,E.containedStencil=r,!e.ctrlKey){var v=f.bounds.center();20>Math.abs(v.x-n.x)&&(n.x=v.x),20>Math.abs(v.y-n.y)&&(n.y=v.y)}if(E.position=n,"SequenceFlow"!==r.idWithoutNs()&&"Association"!==r.idWithoutNs()&&"MessageFlow"!==r.idWithoutNs()&&"DataAssociation"!==r.idWithoutNs()){var _={sourceShape:f,targetStencil:r},m=this.editorManager.getRules().connectMorph(_);if(!m)return;E.connectingType=m.id()}this.editorManager.assignCommand("CreateCommand",E,this.editorManager.dropTargetElement,n,this.editorManager.getEditor())}}else{var S=!1;"BoundaryErrorEvent"!==r.idWithoutNs()&&"BoundaryTimerEvent"!==r.idWithoutNs()&&"BoundarySignalEvent"!==r.idWithoutNs()&&"BoundaryMessageEvent"!==r.idWithoutNs()&&"BoundaryCancelEvent"!==r.idWithoutNs()&&"BoundaryCompensationEvent"!==r.idWithoutNs()||(n=this.editorManager.eventCoordinates(e),S=!0);var b={};b["type"]=this.modelData.model.stencilset.namespace+i.id,b["namespace"]=this.modelData.model.stencilset.namespace,b["position"]=n,b["parent"]=this.editorManager.dragCurrentParent,this.editorManager.assignCommand("CommandClass",b,this.editorManager.dragCurrentParent,S,n,this.editorManager.getEditor());var O={type:$["a"].EVENT_TYPE_ITEM_DROPPED,droppedItem:i,position:n};this.editorManager.dispatchFlowEvent(O.type,O)}}this.editorManager.dragCurrentParent=void 0,this.editorManager.dragCurrentParentId=void 0,this.editorManager.dragCurrentParentStencil=void 0,tt.$emit("UPDATE_dragCanContain",void 0),tt.$emit("UPDATE_quickMenu",void 0),this.editorManager.dropTargetElement=void 0},overCallback:function(e,t){tt.$emit("UPDATE_dragModeOver",!0)},outCallback:function(e,t){tt.$emit("UPDATE_dragModeOver",!1),console.log("out==============")},startDragCallbackQuickMenu:function(e,t){tt.$emit("UPDATE_dragModeOver",!1),tt.$emit("UPDATE_quickMenu",!0)},dragCallbackQuickMenu:function(e,t){if(console.log("dragCallbackQuickMenu=============="),0!=this.dragModeOver){var i=this.editorManager.eventCoordinatesXY(e.pageX,e.pageY),n=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var s=navigator.userAgent;if(s.indexOf("MSIE")>=0){var a=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==a&&(n=a/100)}}1!==n&&(i.x=i.x/n,i.y=i.y/n);var o=this.editorManager.getCanvas().getAbstractShapesAtPosition(i);if(o.length<=0&&e.helper)return tt.$emit("UPDATE_dragCanContain",!1),!1;this.editorManager.instanceofCanvas(o[0])&&this.editorManager.getCanvas().setHightlightStateBasedOnX(i.x);for(var r=void 0,c=this.editorManager.getStencilSets().values(),h=0;h<c.length;h++){for(var l=c[h],d=l.nodes(),u=0;u<d.length;u++)if(d[u].idWithoutNs()===e.target.id){r=d[u];break}if(!r)for(var g=l.edges(),A=0;A<g.length;A++)if(g[A].idWithoutNs()===e.target.id){r=g[A];break}}var p=o.last(),f=!1;if("node"===r.type()){var E=this.editorManager.getRules().canContain({containingShape:p,containedStencil:r}),v=o.reverse().find(function(e){return this.editorManager.instanceofCanvas(e)||this.editorManager.instanceofNode(e)||this.editorManager.instanceofEdge(e)});if(!v)return tt.$emit("UPDATE_dragCanContain",!1),!1;this.editorManager.dragCurrentParent=v,this.editorManager.dragCurrentParentId=v.id,this.editorManager.dragCurrentParentStencil=v.getStencil().id(),tt.$emit("UPDATE_dragCanContain",E),this.editorManager.dropTargetElement=v,f=E}else{var _=this.editorManager.getSelection();if(_&&1===_.length){var m=_.first(),S=p,b=!1,O=this.editorManager.getStencilItemById(S.getStencil().idWithoutNs());if(O){var y=!1;if("Association"!==r.idWithoutNs()||"TextAnnotation"!==S.getStencil().idWithoutNs()&&"BoundaryCompensationEvent"!==S.getStencil().idWithoutNs()?"DataAssociation"===r.idWithoutNs()&&"DataStore"===S.getStencil().idWithoutNs()&&(y=!0):y=!0,O.canConnectTo||y)while(!b&&S&&!this.editorManager.instanceofCanvas(S))p=S,b=this.editorManager.getRules().canConnect({sourceShape:m,edgeStencil:r,targetShape:S}),S=S.parent}var T=this.editorManager.getCanvas();f=b,this.editorManager.dragCurrentParent=T,this.editorManager.dragCurrentParentId=T.id,this.editorManager.dragCurrentParentStencil=T.getStencil().id(),tt.$emit("canContain",b),this.editorManager.dropTargetElement=p}}this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"shapeMenu",elements:[p],color:f?$["a"].SELECTION_VALID_COLOR:$["a"].SELECTION_INVALID_COLOR})}},quickAddItem:function(e){console.log("Oryx_button:",e);var t=this.editorManager.getSelection();if(t&&1===t.length){this.currentSelectedShape=t.first();for(var i=void 0,n=this.editorManager.getStencilSets().values(),s=0;s<n.length;s++)for(var a=n[s],o=a.nodes(),r=0;r<o.length;r++)if(o[r].idWithoutNs()===e){i=o[r];break}if(!i)return;var c={type:this.currentSelectedShape.getStencil().namespace()+e,namespace:this.currentSelectedShape.getStencil().namespace()};c["connectedShape"]=this.currentSelectedShape,c["parent"]=this.currentSelectedShape.parent,c["containedStencil"]=i;var h={sourceShape:this.currentSelectedShape,targetStencil:i},l=this.editorManager.getRules().connectMorph(h);if(!l)return;c["connectingType"]=l.id(),this.editorManager.assignCommand("CreateCommand",c,void 0,void 0,this.editorManager.getEditor())}}}},lt=ht,dt=Object(c["a"])(lt,Je,$e,!1,null,"7d0d16c4",null),ut=dt.exports;ut.install=function(e){e.component(ut.name,ut)};var gt=ut,At=i("8903"),pt=i("0a0d"),ft=i.n(pt),Et=(i("3b2b"),i("aef6"),i("9a04")),vt=i("d225"),_t=i("b0b4"),mt=i("bd86"),St={UI_CONFIG:{showRemovedProperties:!1},HEADER_CONFIG:{showAppTitle:!0,showHeaderMenu:!0,showMainNavigation:!0,showPageHeader:!0},TOOLBAR_CONFIG:{items:[{type:"button",title:"TOOLBAR.ACTION.SAVE",cssClass:"editor-icon editor-icon-save",action:"FLOWABLE.TOOLBAR.ACTIONS.saveModel"},{type:"button",title:"TOOLBAR.ACTION.VALIDATE",cssClass:"glyphicon glyphicon-ok",action:"FLOWABLE.TOOLBAR.ACTIONS.validate"},{type:"separator",title:"",cssClass:"toolbar-separator"},{type:"button",title:"TOOLBAR.ACTION.CUT",cssClass:"editor-icon editor-icon-cut",action:"FLOWABLE.TOOLBAR.ACTIONS.cut",enabled:!1,enabledAction:"element"},{type:"button",title:"TOOLBAR.ACTION.COPY",cssClass:"editor-icon editor-icon-copy",action:"FLOWABLE.TOOLBAR.ACTIONS.copy",enabled:!1,enabledAction:"element"},{type:"button",title:"TOOLBAR.ACTION.PASTE",cssClass:"editor-icon editor-icon-paste",action:"FLOWABLE.TOOLBAR.ACTIONS.paste",enabled:!1},{type:"button",title:"TOOLBAR.ACTION.DELETE",cssClass:"editor-icon editor-icon-delete",action:"FLOWABLE.TOOLBAR.ACTIONS.deleteItem",enabled:!1,enabledAction:"element"},{type:"separator",title:"TOOLBAR.ACTION.SAVE",cssClass:"toolbar-separator"},{type:"button",title:"TOOLBAR.ACTION.REDO",cssClass:"editor-icon editor-icon-redo",action:"FLOWABLE.TOOLBAR.ACTIONS.redo",enabled:!1},{type:"button",title:"TOOLBAR.ACTION.UNDO",cssClass:"editor-icon editor-icon-undo",action:"FLOWABLE.TOOLBAR.ACTIONS.undo",enabled:!1},{type:"separator",title:"TOOLBAR.ACTION.SAVE",cssClass:"toolbar-separator"},{type:"button",title:"TOOLBAR.ACTION.ALIGNVERTICAL",cssClass:"editor-icon editor-icon-align-vertical",action:"FLOWABLE.TOOLBAR.ACTIONS.alignVertical",enabled:!1,enabledAction:"element",disableInForm:!0,minSelectionCount:2},{type:"button",title:"TOOLBAR.ACTION.ALIGNHORIZONTAL",cssClass:"editor-icon editor-icon-align-horizontal",action:"FLOWABLE.TOOLBAR.ACTIONS.alignHorizontal",enabledAction:"element",enabled:!1,disableInForm:!0,minSelectionCount:2},{type:"button",title:"TOOLBAR.ACTION.SAMESIZE",cssClass:"editor-icon editor-icon-same-size",action:"FLOWABLE.TOOLBAR.ACTIONS.sameSize",enabledAction:"element",enabled:!1,disableInForm:!0,minSelectionCount:2},{type:"separator",title:"TOOLBAR.ACTION.SAVE",cssClass:"toolbar-separator",disableInForm:!0},{type:"button",title:"TOOLBAR.ACTION.ZOOMIN",cssClass:"editor-icon editor-icon-zoom-in",action:"FLOWABLE.TOOLBAR.ACTIONS.zoomIn"},{type:"button",title:"TOOLBAR.ACTION.ZOOMOUT",cssClass:"editor-icon editor-icon-zoom-out",action:"FLOWABLE.TOOLBAR.ACTIONS.zoomOut"},{type:"button",title:"TOOLBAR.ACTION.ZOOMACTUAL",cssClass:"editor-icon editor-icon-zoom-actual",action:"FLOWABLE.TOOLBAR.ACTIONS.zoomActual"},{type:"button",title:"TOOLBAR.ACTION.ZOOMFIT",cssClass:"editor-icon editor-icon-zoom-fit",action:"FLOWABLE.TOOLBAR.ACTIONS.zoomFit"},{type:"separator",title:"TOOLBAR.ACTION.SAVE",cssClass:"toolbar-separator",disableInForm:!0},{type:"button",title:"TOOLBAR.ACTION.BENDPOINT.ADD",cssClass:"editor-icon editor-icon-bendpoint-add",action:"FLOWABLE.TOOLBAR.ACTIONS.addBendPoint",id:"add-bendpoint-button",disableInForm:!0},{type:"button",title:"TOOLBAR.ACTION.BENDPOINT.REMOVE",cssClass:"editor-icon editor-icon-bendpoint-remove",action:"FLOWABLE.TOOLBAR.ACTIONS.removeBendPoint",id:"remove-bendpoint-button",disableInForm:!0},{type:"separator",title:"",cssClass:"toolbar-separator",disableInForm:!0},{type:"button",title:"TOOLBAR.ACTION.HELP",cssClass:"glyphicon glyphicon-question-sign",action:"FLOWABLE.TOOLBAR.ACTIONS.help"}],secondaryItems:[{type:"button",title:"Close",cssClass:"glyphicon glyphicon-remove",action:"FLOWABLE.TOOLBAR.ACTIONS.closeEditor"}]}},bt=St,Ot=(i("386d"),i("59ad")),yt=i.n(Ot),Tt=i("ffea"),Ct=i("f5b6"),Nt=i("4346"),It=i("d5b2"),Rt=i("c19a"),Pt=i("6908"),kt=i("19ce"),Lt=i("aca4"),Dt=i("9059"),xt=i("b14e"),wt=i("c5e4"),Mt=i("4883"),Bt=i("0f48"),Ut=i("abda"),Vt=i("f8cc"),Ht=i("075e"),jt=i("40dd"),Yt=i("0130"),Ft=i("a791"),zt={PATH:"editor/",URLS:[],alreadyLoaded:[],configrationRetries:0,Version:"0.1.1",load:function(){if(zt.Log.debug("Oryx begins loading procedure."),"undefined"==typeof Prototype||"undefined"==typeof Element||"undefined"==typeof Element.Methods||yt()(Prototype.Version.split(".")[0]+"."+Prototype.Version.split(".")[1])<1.5)throw"Application requires the Prototype JavaScript framework >= 1.5.3";zt.Log.debug("Prototype > 1.5 found."),zt._load()},_load:function(){zt.loadPlugins()},loadPlugins:function(){zt.CONFIG.PLUGINS_ENABLED?Yt["a"]._loadPlugins():zt.Log.warn("Ignoring plugins, loading Core only."),Gt()},_loadPluginsOnFails:function(e){zt.Log.error("Plugin configuration file not available.")}};function Gt(){if(zt.Log.debug("Querying editor instances"),zt.Utils.setMissingClasses(),window.onOryxResourcesLoaded)window.onOryxResourcesLoaded();else{var e=window.location.search.substring(4),t="./service/model/"+e+"/json";zt.Editor.createByUrl(t)}}zt.CONFIG=$["a"],zt.Log=Ft["a"],zt.Core={},zt.Core.Command=Tt["a"],zt.Core.Bounds=Ct["a"],zt.Core.UIObject=Nt["a"],zt.Core.AbstractShape=It["a"],zt.Core.Canvas=Rt["a"],zt.Core.MoveDockersCommand=Pt["a"],zt.Core.Shape=kt["a"],zt.Core.Node=Lt["a"],zt.Core.Edge=Dt["a"],zt.Core.Move=xt["a"],zt.Core.UIDragFunction=Vt["a"],zt.Core.Controls=wt["a"],zt.Core.Math=Mt["a"],zt.Core.StencilSet=Bt["a"],zt.Core.SVG=Ut["a"],zt.Editor=Ht["a"],zt.Plugins=jt["a"],zt.Utils=Yt["a"];var Wt=zt,Xt={gettingStarted:function(e,t){var i,n=this;i=e.account?e.account.firstName?e.account.firstName:e.account.fullname:"开发者";var s=[Ae("TOUR.WELCOME-TITLE",{userName:i}),Ae("TOUR.WELCOME-CONTENT"),Ae("TOUR.PALETTE-TITLE"),Ae("TOUR.PALETTE-CONTENT"),Ae("TOUR.CANVAS-TITLE"),Ae("TOUR.CANVAS-CONTENT"),Ae("TOUR.DRAGDROP-TITLE"),Ae("TOUR.DRAGDROP-CONTENT"),Ae("TOUR.PROPERTIES-TITLE"),Ae("TOUR.PROPERTIES-CONTENT"),Ae("TOUR.TOOLBAR-TITLE"),Ae("TOUR.TOOLBAR-CONTENT"),Ae("TOUR.END-TITLE"),Ae("TOUR.END-CONTENT")],a=["body","#paletteHelpWrapper","#canvasHelpWrapper","#propertiesHelpWrapper","#editor-header"],o=new Tour({name:"activitiEditorTour",storage:!!t&&window.localStorage,container:"body",backdrop:!0,keyboard:!0,steps:[{orphan:!0,title:s[0],content:s[1],template:n._buildStepTemplate(!1,!0,!1,300),onNext:n._buildOnNextFunction(a[0])},{element:a[1],title:s[2],content:s[3],template:n._buildStepTemplate(!1,!0,!1,400,"flowable/images/tour/open-group.gif"),onNext:n._buildOnNextFunction(a[1])},{element:a[2],title:s[4],content:s[5],placement:"left",template:n._buildStepTemplate(!1,!0,!1),onNext:n._buildOnNextFunction(a[2])},{orphan:!0,title:s[6],content:s[7],template:n._buildStepTemplate(!1,!0,!1,720,"flowable/images/tour/tour-dnd.gif"),onNext:n._buildOnNextFunction(a[0])},{element:a[3],title:s[8],content:s[9],placement:"top",template:n._buildStepTemplate(!1,!0,!1,400),onNext:n._buildOnNextFunction(a[3])},{element:a[4],title:s[10],content:s[11],placement:"bottom",template:n._buildStepTemplate(!1,!0,!1,400),onNext:n._buildOnNextFunction(a[4])},{orphan:!0,title:s[12],content:s[13],template:n._buildStepTemplate(!1,!1,!0,400),onNext:n._buildOnNextFunction(a[0])}],onEnd:n._buildOnEndFunction(a)});o.init(),o.start()},sequenceFlowBendpoint:function(e,t){var i=this,n=[Ae("FEATURE-TOUR.BENDPOINT.TITLE"),Ae("FEATURE-TOUR.BENDPOINT.DESCRIPTION")],s=["body"],a=new Tour({name:"bendpointTour",storage:!!t&&window.localStorage,container:"body",backdrop:!0,keyboard:!0,steps:[{orphan:!0,title:n[0],content:n[1],template:i._buildStepTemplate(!1,!1,!0,500,"flowable/images/tour/sequenceflow-bendpoint.gif"),onNext:i._buildOnNextFunction(s[0])}],onEnd:i._buildOnEndFunction(s)});a.init(),a.start()},_buildStepTemplate:function(e,t,i,n,s){var a=200;n&&(a=n);var o="<div class='popover tour' style='max-width:"+a+"px'><div class='arrow'></div><h3 class='popover-title'></h3><div class='popover-content'></div><div class='popover-navigation'>";return s&&(o=o+"<div><img src='"+s+"' style='border 1px solid black;margin:5px 0 5px 0;'></img></div>"),e&&(o+="<button class='btn btn-sm btn-default ' data-role='prev'>« Prev</button>"),t&&(o+="<button class='btn btn-sm btn-default' data-role='next' style='float:right'\">Next »</button>"),i&&(o+="<button class='btn btn-warning btn-sm' data-role='end' style='float:right'\">Got it!</button>"),o+="</div></nav></div>",o},_buildOnNextFunction:function(e){return function(){jQuery(e).each(function(e,t){t.style.display="block"})}},_buildOnEndFunction:function(e){return function(){for(var t=0;t<e.length;t++)jQuery(e[t]).each(function(e,t){t.style.display="block"})}}},Kt={closeEditor:function(e){if(e.editorManager&&e.editorManager.getStencilData()){var t=e.editorManager.getStencilData().namespace;if(void 0!==t&&null!==t&&-1!==t.indexOf("cmmn1.1"))return void e.$location.path("/casemodels")}e.$location.path("/processes")},validate:function(e){},undo:function(e){var t=e.$scope.undoStack.pop();if(t){e.$scope.redoStack.push(t),e.$rootScope&&e.$rootScope.forceSelectionRefresh&&(e.$rootScope.forceSelectionRefresh=!0);for(var i=t.length-1;i>=0;--i)t[i].rollback();e.editorManager.handleEvents({type:Wt.CONFIG.EVENT_UNDO_ROLLBACK,commands:t}),e.editorManager.getCanvas().update(),e.editorManager.updateSelection()}var n=!1;0===e.$scope.undoStack.length&&(n=!0);var s=!1;if(e.$scope.redoStack.length>0&&(s=!0),n||s)for(var a=0;a<e.$scope.items.length;a++){var o=e.$scope.items[a];n&&"FLOWABLE.TOOLBAR.ACTIONS.undo"===o.action?o.enabled=!1:s&&"FLOWABLE.TOOLBAR.ACTIONS.redo"===o.action&&(o.enabled=!0)}},redo:function(e){var t=e.$scope.redoStack.pop();t&&(e.$scope.undoStack.push(t),e.$rootScope&&e.$rootScope.forceSelectionRefresh&&(e.$rootScope.forceSelectionRefresh=!0),t.each(function(e){e.execute()}),e.editorManager.handleEvents({type:Wt.CONFIG.EVENT_UNDO_EXECUTE,commands:t}),e.editorManager.getCanvas().update(),e.editorManager.updateSelection());var i=!1;e.$scope.undoStack.length>0&&(i=!0);var n=!1;if(0==e.$scope.redoStack.length&&(n=!0),i||n)for(var s=function(t){var s=e.$scope.items[t];i&&"FLOWABLE.TOOLBAR.ACTIONS.undo"===s.action?e.$scope.safeApply(function(){s.enabled=!0}):n&&"FLOWABLE.TOOLBAR.ACTIONS.redo"===s.action&&e.$scope.safeApply(function(){s.enabled=!1})},a=0;a<e.$scope.items.length;a++)s(a)},cut:function(e){this._getOryxEditPlugin(e).editCut();for(var t=0;t<e.$scope.items.length;t++){var i=e.$scope.items[t];"FLOWABLE.TOOLBAR.ACTIONS.paste"===i.action&&(i.enabled=!0)}},copy:function(e){this._getOryxEditPlugin(e).editCopy();for(var t=0;t<e.$scope.items.length;t++){var i=e.$scope.items[t];"FLOWABLE.TOOLBAR.ACTIONS.paste"===i.action&&(i.enabled=!0)}},paste:function(e){this._getOryxEditPlugin(e).editPaste()},deleteItem:function(e){this._getOryxEditPlugin(e).editDelete()},addBendPoint:function(e){Xt.sequenceFlowBendpoint(e.$scope,!0);var t=this._getOryxDockerPlugin(e),i=!t.enabledAdd();t.setEnableAdd(i),i?(t.setEnableRemove(!1),document.body.style.cursor="pointer"):document.body.style.cursor="default"},removeBendPoint:function(e){Xt.sequenceFlowBendpoint(e.$scope,!0);var t=this._getOryxDockerPlugin(e),i=!t.enabledRemove();t.setEnableRemove(i),i?(t.setEnableAdd(!1),document.body.style.cursor="pointer"):document.body.style.cursor="default"},_getOryxEditPlugin:function(e){var t=e.$scope,i=e.editorManager;return void 0!==t.oryxEditPlugin&&null!==t.oryxEditPlugin||(t.oryxEditPlugin=new Wt.Plugins.Edit(i.getEditor())),t.oryxEditPlugin},zoomIn:function(e){this._getOryxViewPlugin(e).zoom([1+Wt.CONFIG.CustomConfigs.ZOOM_OFFSET])},zoomOut:function(e){this._getOryxViewPlugin(e).zoom([1-Wt.CONFIG.CustomConfigs.ZOOM_OFFSET])},zoomActual:function(e){this._getOryxViewPlugin(e).setAFixZoomLevel(1)},zoomFit:function(e){this._getOryxViewPlugin(e).zoomFitToModel()},alignVertical:function(e){this._getOryxArrangmentPlugin(e).alignShapes([Wt.CONFIG.EDITOR_ALIGN_CENTER])},alignHorizontal:function(e){this._getOryxArrangmentPlugin(e).alignShapes([Wt.CONFIG.EDITOR_ALIGN_MIDDLE])},sameSize:function(e){this._getOryxArrangmentPlugin(e).alignShapes([Wt.CONFIG.EDITOR_ALIGN_SIZE])},help:function(e){Xt.gettingStarted(e.$scope)},_getOryxViewPlugin:function(e){var t=e.$scope,i=e.editorManager;return void 0!==t.oryxViewPlugin&&null!==t.oryxViewPlugin||(t.oryxViewPlugin=new Wt.Plugins.View(i.getEditor())),t.oryxViewPlugin},_getOryxArrangmentPlugin:function(e){var t=e.$scope,i=e.editorManager;return void 0!==t.oryxArrangmentPlugin&&null!==t.oryxArrangmentPlugin||(t.oryxArrangmentPlugin=new Wt.Plugins.Arrangement(i.getEditor())),t.oryxArrangmentPlugin},_getOryxDockerPlugin:function(e){var t=e.$scope,i=e.editorManager;return void 0!==t.oryxDockerPlugin&&null!==t.oryxDockerPlugin||(t.oryxDockerPlugin=new Wt.Plugins.AddDocker(i.getEditor())),t.oryxDockerPlugin}},Qt=Kt,Zt=i("308d"),qt=i("6bb5"),Jt=i("4e2b"),$t=function(e){function t(e,i,n,s){var a;return Object(vt["a"])(this,t),a=Object(Zt["a"])(this,Object(qt["a"])(t).call(this)),a.option=e,a.currentReference=i,a.position=n,a.facade=s,a.shape,a.edge,a.targetRefPos,a.sourceRefPos,a.connectedShape=e.connectedShape,a.connectingType=e.connectingType,a.namespace=e.namespace,a.type=e.type,a.containedStencil=e.containedStencil,a.parent=e.parent,a.currentReference=i,a.shapeOptions=e.shapeOptions,a}return Object(Jt["a"])(t,e),Object(_t["a"])(t,[{key:"execute",value:function(){if(this.shape?this.shape instanceof Wt.Core.Node?(this.parent.add(this.shape),this.edge&&(this.facade.getCanvas().add(this.edge),this.edge.dockers.first().setDockedShape(this.connectedShape),this.edge.dockers.first().setReferencePoint(this.sourceRefPos),this.edge.dockers.last().setDockedShape(this.shape),this.edge.dockers.last().setReferencePoint(this.targetRefPos)),this.facade.setSelection([this.shape])):this.shape instanceof Wt.Core.Edge&&(this.facade.getCanvas().add(this.shape),this.shape.dockers.first().setDockedShape(this.connectedShape),this.shape.dockers.first().setReferencePoint(this.sourceRefPos)):(this.shape=this.facade.createShape(this.option),this.edge=this.shape instanceof Wt.Core.Edge?void 0:this.shape.getIncomingShapes().first()),this.currentReference&&this.position)if(this.shape instanceof Wt.Core.Edge){if(this.currentReference instanceof Wt.Core.Canvas)this.shape.dockers.last().bounds.centerMoveTo(this.position);else if(this.shape.dockers.last().setDockedShape(this.currentReference),"TextAnnotation"===this.currentReference.getStencil().idWithoutNs()){var e={x:0};e.y=this.currentReference.bounds.height()/2,this.shape.dockers.last().setReferencePoint(e)}else this.shape.dockers.last().setReferencePoint(this.currentReference.bounds.midPoint());this.sourceRefPos=this.shape.dockers.first().referencePoint,this.targetRefPos=this.shape.dockers.last().referencePoint}else this.edge&&(this.sourceRefPos=this.edge.dockers.first().referencePoint,this.targetRefPos=this.edge.dockers.last().referencePoint);else{var t=this.containedStencil,i=this.connectedShape,n=i.bounds,s=this.shape.bounds,a=n.center();"north"===t.defaultAlign()?a.y-=n.height()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET+s.height()/2:"northeast"===t.defaultAlign()?(a.x+=n.width()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.width()/2,a.y-=n.height()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.height()/2):"southeast"===t.defaultAlign()?(a.x+=n.width()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.width()/2,a.y+=n.height()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.height()/2):"south"===t.defaultAlign()?a.y+=n.height()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET+s.height()/2:"southwest"===t.defaultAlign()?(a.x-=n.width()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.width()/2,a.y+=n.height()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.height()/2):"west"===t.defaultAlign()?a.x-=n.width()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET+s.width()/2:"northwest"===t.defaultAlign()?(a.x-=n.width()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.width()/2,a.y-=n.height()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET_CORNER+s.height()/2):a.x+=n.width()/2+Wt.CONFIG.CustomConfigs.SHAPEMENU_CREATE_OFFSET+s.width()/2,this.shape.bounds.centerMoveTo(a),this.shape instanceof Wt.Core.Node&&(this.shape.dockers||[]).each(function(e){e.bounds.centerMoveTo(a)}),this.position=a,this.edge&&(this.sourceRefPos=this.edge.dockers.first().referencePoint,this.targetRefPos=this.edge.dockers.last().referencePoint)}this.facade.getCanvas().update(),this.facade.handleEvents({type:"newshape_addin_canvas",shape:this.shape}),this.facade.updateSelection()}},{key:"rollback",value:function(){this.facade.deleteShape(this.shape),this.edge&&this.facade.deleteShape(this.edge),this.facade.setSelection(this.facade.getSelection().without(this.shape,this.edge))}}]),t}(Wt.Core.Command),ei=i("e814"),ti=i.n(ei),ii=function(e){function t(e,i,n){var s;return Object(vt["a"])(this,t),s=Object(Zt["a"])(this,Object(qt["a"])(t).call(this)),s.shape=e,s.stencil=i,s.facade=n,s}return Object(Jt["a"])(t,e),Object(_t["a"])(t,[{key:"execute",value:function(){var e=this.shape,t=this.stencil,i=e.resourceId,n=e.serialize();t.properties().each(function(e){e.readonly()&&(n=n.reject(function(t){return t.name===e.id()}))}.bind(this)),this.newShape?this.facade.getCanvas().add(this.newShape):this.newShape=this.facade.createShape({type:t.id(),namespace:t.namespace(),resourceId:i});var s=n.find(function(e){return"oryx"===e.prefix&&"bounds"===e.name}),a=null;if(this.facade.getRules().preserveBounds(e.getStencil())){var o=e.bounds.height(),r=e.bounds.width();this.newShape.minimumSize&&(e.bounds.height()<this.newShape.minimumSize.height&&(o=this.newShape.minimumSize.height),e.bounds.width()<this.newShape.minimumSize.width&&(r=this.newShape.minimumSize.width)),this.newShape.maximumSize&&(e.bounds.height()>this.newShape.maximumSize.height&&(o=this.newShape.maximumSize.height),e.bounds.width()>this.newShape.maximumSize.width&&(r=this.newShape.maximumSize.width)),a={a:{x:e.bounds.a.x,y:e.bounds.a.y},b:{x:e.bounds.a.x+r,y:e.bounds.a.y+o}}}else{var c=s.value.split(",");if(ti()(c[0],10)>ti()(c[2],10)){var h=c[0];c[0]=c[2],c[2]=h,h=c[1],c[1]=c[3],c[3]=h}c[2]=ti()(c[0],10)+this.newShape.bounds.width(),c[3]=ti()(c[1],10)+this.newShape.bounds.height(),s.value=c.join(",")}var l=e.bounds.center();null!==a&&this.newShape.bounds.set(a),this.setRelatedDockers(e,this.newShape);var d=e.node.parentNode,u=e.node.nextSibling;this.facade.deleteShape(e),this.newShape.deserialize(n),e.getStencil().property("oryx-bgcolor")&&e.properties["oryx-bgcolor"]&&e.getStencil().property("oryx-bgcolor").value().toUpperCase()===e.properties["oryx-bgcolor"].toUpperCase()&&this.newShape.getStencil().property("oryx-bgcolor")&&this.newShape.setProperty("oryx-bgcolor",this.newShape.getStencil().property("oryx-bgcolor").value()),null!==a&&this.newShape.bounds.set(a),"edge"!==this.newShape.getStencil().type()&&0!==this.newShape.dockers.length&&this.newShape.dockers[0].getDockedShape()||this.newShape.bounds.centerMoveTo(l),"node"!==this.newShape.getStencil().type()||0!==this.newShape.dockers.length&&this.newShape.dockers[0].getDockedShape()||this.setRelatedDockers(this.newShape,this.newShape),u?d.insertBefore(this.newShape.node,u):d.appendChild(this.newShape.node),this.facade.setSelection([this.newShape]),this.facade.getCanvas().update(),this.facade.updateSelection()}},{key:"rollback",value:function(){this.shape&&this.newShape&&this.newShape.parent&&(this.newShape.parent.add(this.shape),this.setRelatedDockers(this.newShape,this.shape),this.facade.deleteShape(this.newShape),this.facade.setSelection([this.shape]),this.facade.getCanvas().update(),this.facade.updateSelection())}},{key:"setRelatedDockers",value:function(e,t){"node"===e.getStencil().type()?((e.incoming||[]).concat(e.outgoing||[]).each(function(i){i.dockers.each(function(n){if(n.getDockedShape()==e){var s=Object.clone(n.referencePoint),a={x:s.x*t.bounds.width()/e.bounds.width(),y:s.y*t.bounds.height()/e.bounds.height()};if(n.setDockedShape(t),n.setReferencePoint(a),i instanceof Wt.Core.Edge)n.bounds.centerMoveTo(a);else{var o=e.absoluteXY();n.bounds.centerMoveTo({x:a.x+o.x,y:a.y+o.y})}}})}),e.dockers.length>0&&e.dockers.first().getDockedShape()&&(t.dockers.first().setDockedShape(e.dockers.first().getDockedShape()),t.dockers.first().setReferencePoint(Object.clone(e.dockers.first().referencePoint)))):(t.dockers.first().setDockedShape(e.dockers.first().getDockedShape()),t.dockers.first().setReferencePoint(e.dockers.first().referencePoint),t.dockers.last().setDockedShape(e.dockers.last().getDockedShape()),t.dockers.last().setReferencePoint(e.dockers.last().referencePoint))}}]),t}(Wt.Core.Command),ni=function(e){function t(e,i,n,s,a){var o;return Object(vt["a"])(this,t),o=Object(Zt["a"])(this,Object(qt["a"])(t).call(this)),o.key=e,o.oldValue=i,o.newValue=n,o.shape=s,o.facade=a,o}return Object(Jt["a"])(t,e),Object(_t["a"])(t,[{key:"execute",value:function(){this.shape.setProperty(this.key,this.newValue),this.facade.getCanvas().update(),this.facade.updateSelection()}},{key:"rollback",value:function(){this.shape.setProperty(this.key,this.oldValue),this.facade.getCanvas().update(),this.facade.updateSelection()}}]),t}(Wt.Core.Command),si=function(e){function t(e,i,n,s,a){var o;return Object(vt["a"])(this,t),o=Object(Zt["a"])(this,Object(qt["a"])(t).call(this)),o.option=e,o.docker=null,o.dockedShape=i,o.dockedShapeParent=i.parent||a.getCanvas(),o.position=s,o.facade=a,o.selection=o.facade.getSelection(),o.shape=null,o.parent=null,o.canAttach=n,o}return Object(Jt["a"])(t,e),Object(_t["a"])(t,[{key:"execute",value:function(){this.shape?this.parent&&this.parent.add(this.shape):(this.shape=this.facade.createShape(this.option),this.parent=this.shape.parent),this.canAttach&&this.shape.dockers&&this.shape.dockers.length&&(this.docker=this.shape.dockers[0],this.dockedShapeParent.add(this.docker.parent),this.docker.setDockedShape(void 0),this.docker.bounds.centerMoveTo(this.position),this.dockedShape!==this.facade.getCanvas()&&this.docker.setDockedShape(this.dockedShape),this.facade.setSelection([this.docker.parent])),this.facade.getCanvas().update(),this.facade.updateSelection()}},{key:"rollback",value:function(){this.shape&&(this.facade.setSelection(this.selection.without(this.shape)),this.facade.deleteShape(this.shape)),this.canAttach&&this.docker&&this.docker.setDockedShape(void 0),this.facade.getCanvas().update(),this.facade.updateSelection()}}]),t}(Wt.Core.Command),ai=jQuery.extend(!0,{},bt),oi=function(){function e(t){Object(vt["a"])(this,e),Object(mt["a"])(this,"Commands",{CreateCommand:$t,MorphTo:ii,SetProperty:ni,CommandClass:si}),Object(mt["a"])(this,"TOOLBAR_ACTIONS",Qt),this.listeners={},t=jQuery.extend(!0,{},t),t.editorConfigs&&Wt.CONFIG.setCustomConfigs(t.editorConfigs),this.property_config=t.editorConfigs.PROPERTY_CONFIG,this.treeFilteredElements=["SubProcess","CollapsedSubProcess"],this.canvasTracker=new Hash,this.structualIcons={SubProcess:"expanded.subprocess.png",CollapsedSubProcess:"subprocess.png",EventSubProcess:"event.subprocess.png"},this.elementsWithoutRenameAction=t.elementsWithoutRenameAction,this.setModelId(t.modelData.modelId),this.current=this.modelId,this.loading=!0,this.setModelData(t.modelData),this.setStencilData(t.stencilData),this.setShowStencilData(),this.setToolbarItems();var i="http://b3mn.org/stencilset/",n=new Wt.Core.StencilSet.StencilSet(i,t.stencilData);Wt.Core.StencilSet.loadStencilSet(i,n,t.modelData.modelId),t.pluginConfig&&Wt.Plugins._loadPlugins(t.pluginConfig),this.dragCurrentParent=void 0,this.dragCurrentParentId=void 0,this.dragCurrentParentStencil=void 0,this.dropTargetElement=void 0,this.selectedItem={},this.bootEditor()}return Object(_t["a"])(e,[{key:"assignCommand",value:function(e){if(e){for(var t=this.Commands,i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];var a=Object(Et["a"])(t[e],n);this.executeCommands([a])}}},{key:"instanceofCanvas",value:function(e){return e instanceof Wt.Core.Canvas}},{key:"instanceofNode",value:function(e){return e instanceof Wt.Core.Node}},{key:"instanceofEdge",value:function(e){return e instanceof Wt.Core.Edge}},{key:"getSelectedItem",value:function(){return this.selectedItem}},{key:"getSelectedShape",value:function(){return this.selectedShape}},{key:"getContainmentRules",value:function(){return this.containmentRules}},{key:"getToolbarItems",value:function(){return this.toolbarItems}},{key:"setToolbarItems",value:function(){for(var e=[],t=ai.TOOLBAR_CONFIG.items,i=0;i<t.length;i++)"form"===this.modelData.model.modelType&&t[i].disableInForm||e.push(t[i]);this.toolbarItems=e}},{key:"getSecondaryItems",value:function(){return ai.TOOLBAR_CONFIG.secondaryItems}},{key:"getModelId",value:function(){return this.modelId}},{key:"setModelId",value:function(e){this.modelId=e}},{key:"getModel",value:function(){this.syncCanvasTracker();var e=this.getBaseModelData(),t=void 0,i=void 0,n=void 0;"http://b3mn.org/stencilset/cmmn1.1#"==e.model.stencilset.namespace?(t="CMMNDiagram",i="http://b3mn.org/stencilset/cmmn1.1#",n="../editor/stencilsets/cmmn1.1/cmmn1.1.json"):(t="BPMNDiagram",i="http://b3mn.org/stencilset/bpmn2.0#",n="../editor/stencilsets/bpmn2.0/bpmn2.0.json");var s=this.editor.getJSON();console.log(222,this.modelId);var a={modelId:this.modelId,bounds:s.bounds,properties:s.properties,childShapes:JSON.parse(this.canvasTracker.get(this.modelId)),stencil:{id:t},stencilset:{namespace:i,url:n}};return this._mergeCanvasToChild(a),a}},{key:"setModelData",value:function(e){this.modelData=e}},{key:"getBaseModelData",value:function(){return this.modelData}},{key:"getCurrentModelId",value:function(){return this.current}},{key:"getStencilData",value:function(){return this.stencilData}},{key:"setStencilData",value:function(e){this.stencilData=jQuery.extend(!0,{},e)}},{key:"getShowStencilData",value:function(){return this.showStencilData}},{key:"setShowStencilData",value:function(){var e=void 0,t=void 0,i=this.stencilData;"http://b3mn.org/stencilset/cmmn1.1#"==i.namespace?(e=["HumanTask","Association"],t=["CasePlanModel"]):(e=["UserTask","EndNoneEvent","ExclusiveGateway","CatchTimerEvent","ThrowNoneEvent","TextAnnotation","SequenceFlow","Association"],t=["SequenceFlow","MessageFlow","Association","DataAssociation","DataStore","SendTask"]);for(var n=[],s=[],a=0;a<i.rules.morphingRules.length;a++){var o=i.rules.morphingRules[a].role,r={role:o,morphOptions:[]};s.push(r)}for(var c=[],h=0;h<i.stencils.length;h++){var l=i.stencils[h].groups[0];if("Diagram"!==l&&"Form"!==l){var d=!1;i.stencils[h].removed&&(d=!0);var u=void 0;if(!d&&null!==l&&void 0!==l&&l.length>0){u=it(l,c),null===u&&(u=nt(l,c));for(var g=1;g<i.stencils[h].groups.length;g++){var A=i.stencils[h].groups[g],p=it(A,u.groups);null===p&&(p=nt(A,u.groups)),u=p}}var f={id:i.stencils[h].id,name:i.stencils[h].title,description:i.stencils[h].description,icon:i.stencils[h].icon,type:i.stencils[h].type,roles:i.stencils[h].roles,removed:d,customIcon:!1,canConnect:!1,canConnectTo:!1,canConnectAssociation:!1};i.stencils[h].customIconId&&i.stencils[h].customIconId>0&&(f.customIcon=!0,f.icon=i.stencils[h].customIconId),d||e.indexOf(f.id)>=0&&(n[e.indexOf(f.id)]=f),"TextAnnotation"!==f.id&&"BoundaryCompensationEvent"!==f.id||(f.canConnectAssociation=!0);for(var E=0;E<i.stencils[h].roles.length;E++){var v=i.stencils[h].roles[E];"http://b3mn.org/stencilset/cmmn1.1#"==i.namespace?"association_start"===v?f.canConnect=!0:"association_end"===v&&(f.canConnectTo=!0):"sequence_start"===v?f.canConnect=!0:"sequence_end"===v&&(f.canConnectTo=!0);for(var _=0;_<s.length;_++)if(v===s[_].role){d||s[_].morphOptions.push(f),f.morphRole=s[_].role;break}}u?(u.items.push(f),t.indexOf(f.id)<0&&u.paletteItems.push(f)):d||c.push(f)}}for(var m=0;m<c.length;m++)c[m].paletteItems&&0==c[m].paletteItems.length&&(c[m].visible=!1);this.showStencilData=c;for(var S=[],b=0;b<i.rules.containmentRules.length;b++){var O=i.rules.containmentRules[b];S.push(O)}this.containmentRules=S;for(var y=[],T=0;T<n.length;T++)n[T]&&(y[y.length]=n[T]);this.quickMenuItems=y,this.morphRoles=s}},{key:"getSelection",value:function(){return this.editor.selection}},{key:"setSelection",value:function(e){this.editor.setSelection(e)}},{key:"updateSelection",value:function(){this.editor.updateSelection()}},{key:"getSubSelection",value:function(){return this.editor._subSelection}},{key:"bootEditor",value:function(){var e=this;this.canvasTracker=new Hash;var t=jQuery.extend(!0,{},this.modelData);t.model.childShapes||(t.model.childShapes=[]),this.findAndRegisterCanvas(t.model.childShapes),this.canvasTracker.set(t.modelId,Z()(t.model.childShapes)),this.editor=new Wt.Editor(t),this.current=this.editor.id,this.loading=!1,et["a"].dispatch("ORYX-EDITOR-LOADED",{}),et["a"].dispatch(Wt.CONFIG.EVENT_TYPE_EDITOR_BOOTED,{});var i=[{oryxType:Wt.CONFIG.EVENT_SELECTION_CHANGED,flowableType:Wt.CONFIG.EVENT_TYPE_SELECTION_CHANGE},{oryxType:Wt.CONFIG.EVENT_DBLCLICK,flowableType:Wt.CONFIG.EVENT_TYPE_DOUBLE_CLICK},{oryxType:Wt.CONFIG.EVENT_MOUSEOUT,flowableType:Wt.CONFIG.EVENT_TYPE_MOUSE_OUT},{oryxType:Wt.CONFIG.EVENT_MOUSEOVER,flowableType:Wt.CONFIG.EVENT_TYPE_MOUSE_OVER},{oryxType:Wt.CONFIG.EVENT_EDITOR_INIT_COMPLETED,flowableType:Wt.CONFIG.EVENT_TYPE_EDITOR_READY},{oryxType:Wt.CONFIG.EVENT_PROPERTY_CHANGED,flowableType:Wt.CONFIG.EVENT_TYPE_PROPERTY_VALUE_CHANGED}];i.forEach(function(t){e.registerOnEvent(t.oryxType,function(e,i){et["a"].dispatch(t.flowableType,e,i)})}),et["a"].addListener(Wt.CONFIG.EVENT_TYPE_PROPERTY_VALUE_CHANGED,this.filterEvent.bind(this)),et["a"].addListener(Wt.CONFIG.EVENT_TYPE_ITEM_DROPPED,this.filterEvent.bind(this)),et["a"].addListener("EDITORMANAGER-EDIT-ACTION",function(){this.renderProcessHierarchy()}),this.initAddListener(),this.initRegisterOnEvent()}},{key:"renderProcessHierarchy",value:function(){if(!this.isEditorReady)return!1;this.isLoading()||(this.treeview=this.getTree())}},{key:"filterEvent",value:function(e){"event-type-property-value-changed"===e.type?"oryx-overrideid"!==e.property.key&&"oryx-name"!==e.property.key||this.renderProcessHierarchy():"propertyChanged"===e.type?"oryx-overrideid"!==e.name&&"oryx-name"!==e.name||this.renderProcessHierarchy():e.type===Wt.CONFIG.ACTION_DELETE_COMPLETED?this.renderProcessHierarchy():"event-type-item-dropped"===e.type&&this.renderProcessHierarchy()}},{key:"getStencilItemById",value:function(e){for(var t=0;t<this.showStencilData.length;t++){var i=this.showStencilData[t];if(null!==i.items&&void 0!==i.items){var n=this.findStencilItemInGroup(e,i);if(n)return n}else if(i.id===e)return i}}},{key:"findStencilItemInGroup",value:function(e,t){for(var i,n=0;n<t.items.length;n++)if(i=t.items[n],i.id===e)return i;if(t.groups&&t.groups.length>0)for(var s=0;s<t.groups.length;s++)if(i=this.findStencilItemInGroup(e,t.groups[s]),i)return i}},{key:"handleEvents",value:function(e){this.editor.handleEvents(e)}},{key:"registerOnEvent",value:function(e,t){this.editor.registerOnEvent(e,t)}},{key:"getChildShapeByResourceId",value:function(e){return this.editor.getCanvas().getChildShapeByResourceId(e)}},{key:"getJSON",value:function(){return this.editor.getJSON()}},{key:"getStencilSets",value:function(){return this.editor.getStencilSets()}},{key:"getCanvas",value:function(){return this.editor.getCanvas()}},{key:"getRules",value:function(){return this.editor.getRules()}},{key:"getEditor",value:function(){return this.editor}},{key:"getTree",value:function(){var e=new Hash,t=this.getModel();e.set("name",t.properties["name"]||"No name provided"),e.set("id",this.modelId),e.set("type","root"),e.set("current",this.current===this.modelId);var i=t.childShapes,n=this._buildTreeChildren(i);return e.set("children",n),e.toObject()}},{key:"executeCommands",value:function(e){this.editor.executeCommands(e)}},{key:"eventCoordinates",value:function(e){return this.editor.eventCoordinates(e)}},{key:"eventCoordinatesXY",value:function(e,t){return this.editor.eventCoordinatesXY(e,t)}},{key:"edit",value:function(e){this.syncCanvasTracker(),this.loading=!0;var t=this.getCanvas().getChildren();t.each(function(e){this.editor.deleteShape(e)}.bind(this)),t=this.canvasTracker.get(e),t||(t=Z()([])),this.editor.loadSerialized({childShapes:t}),this.getCanvas().update(),this.current=e,this.loading=!1,et["a"].dispatch("EDITORMANAGER-EDIT-ACTION",{}),et["a"].dispatch(Wt.CONFIG.EVENT_TYPE_UNDO_REDO_RESET,{})}},{key:"_buildTreeChildren",value:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i],s=n.stencil.id;if(s&&this.treeFilteredElements.indexOf(s)>-1){var a=new Hash;a.set("name",n.properties.name||"No name provided"),a.set("id",n.resourceId),a.set("type",s),a.set("current",n.resourceId===this.current),"CollapsedSubProcess"===s?(0===n.childShapes.length?a.set("children",[]):a.set("children",this._buildTreeChildren(n.childShapes)),a.set("editable",!0)):(a.set("children",this._buildTreeChildren(n.childShapes)),a.set("editable",!1)),a.set("icon",this.structualIcons[s]),t.push(a.toObject())}}return t}},{key:"syncCanvasTracker",value:function(){var e=this.getCanvas().getChildren(),t=[];e.each(function(e){t.push(e.toJSON())}),this.canvasTracker.set(this.current,Z()(t))}},{key:"findAndRegisterCanvas",value:function(e){for(var t=0;t<e.length;t++){var i=e[t];"CollapsedSubProcess"===i.stencil.id&&(i.childShapes.length>0?(this.findAndRegisterCanvas(i.childShapes),this.canvasTracker.set(i.resourceId,Z()(i.childShapes)),i.childShapes=[]):this.canvasTracker.set(i.resourceId,"[]"))}}},{key:"_mergeCanvasToChild",value:function(e){for(var t=0;t<e.childShapes.length;t++){var i=e.childShapes[t];if("CollapsedSubProcess"===i.stencil.id){var n=this.canvasTracker.get(i.resourceId);n=n?JSON.parse(n):[],i.childShapes=n,this._mergeCanvasToChild(i)}else"SubProcess"===i.stencil.id&&this._mergeCanvasToChild(i)}}},{key:"isLoading",value:function(){return this.loading}},{key:"navigateTo",value:function(e){this.syncCanvasTracker();var t=!1;this.canvasTracker.each(function(i){var n=i.key,s=JSON.parse(i.value),a=this._findTarget(s,e);if(!t&&a){this.edit(n);var o=this.getCanvas().getChildShapeByResourceId(a);this.setSelection([o],[],!0),t=!0}},this)}},{key:"_findTarget",value:function(e,t){for(var i=0;i<e.length;i++){var n=e[i];if(n.resourceId===t)return n.resourceId;if(n.properties&&n.properties["overrideid"]===t)return n.resourceId;var s=this._findTarget(n.childShapes,t);if(s)return s}return!1}},{key:"dispatchFlowEvent",value:function(e,t){et["a"].dispatch(e,t)}},{key:"flowToolbarEvent",value:function(e){this.TOOLBAR_ACTIONS.deleteItem(e)}},{key:"initRegisterOnEvent",value:function(){var e=this;this.registerOnEvent(Wt.CONFIG.EVENT_SELECTION_CHANGED,function(t){var i=t.elements;e.showShapeProperties(i),e.updateOryxButtonPosition(i),e.updateToolbarButtonStatus(i)})}},{key:"showShapeProperties",value:function(e){var t=!1;if(e&&0===e.length&&(e=[this.getCanvas()],t=!0),e&&e.length>0){var i=e.first(),n=i.getStencil();if(this.selectedElementBeforeScrolling&&-1!==n.id().indexOf("BPMNDiagram")&&-1!==n.id().indexOf("CMMNDiagram"))return;if(this.selectedElementBeforeScrolling&&this.selectedElementBeforeScrolling.getId()===i.getId())return void(this.selectedElementBeforeScrolling=null);if(this.previousSelectedShape=this.selectedShape,void 0!==this.previousSelectedShape&&this.previousSelectedShape.getId()===i.getId()&&"UserTask"!=i.getStencil().idWithoutNs()){if(!this.forceSelectionRefresh)return;this.forceSelectionRefresh=!1}var s={title:"",properties:[]};t&&(s.auditData={author:this.modelData.createdByUser,createDate:this.modelData.createDate});for(var a=n.properties(),o=0;o<a.length;o++){var r=a[o];if(r.popular()){var c=r.prefix()+"-"+r.id();"oryx-name"===c&&(s.title=i.properties.get(c));var h=this.property_config[c+"-"+r.type()];if(void 0!==h&&null!==h||(h=this.property_config[r.type()]),void 0===h||null===h)console.log("WARNING: no property configuration defined for "+c+" of type "+r.type()),console.warn("警告: 找不到 "+c+" of type "+r.type()+"属性所对应的组件");else{if("true"===i.properties.get(c)&&i.properties.set(c,!0),!1===ai.UI_CONFIG.showRemovedProperties&&r.isHidden())continue;var l={key:c,title:r.title(),description:r.description(),type:r.type(),mode:"read",hidden:r.isHidden(),value:i.properties.get(c)};if(("complex"===l.type||"multiplecomplex"===l.type)&&l.value&&l.value.length>0)try{l.value=JSON.parse(l.value)}catch(d){}void 0!==h.readModeTemplateUrl&&null!==h.readModeTemplateUrl&&(l.readModeTemplateUrl=h.readModeTemplateUrl),null!==h.writeModeTemplateUrl&&null!==h.writeModeTemplateUrl&&(l.writeModeTemplateUrl=h.writeModeTemplateUrl),void 0!==h.templateUrl&&null!==h.templateUrl?(l.templateUrl=h.templateUrl,l.hasReadWriteMode=!1):l.hasReadWriteMode=!0,void 0!==l.value&&null!==l.value&&0!=l.value.length||(l.noValue=!0),s.properties.push(l)}}}this.selectedItem=s,this.selectedShape=i,et["a"].dispatch(Wt.CONFIG.EVENT_TYPE_SELECTION_CHANGED,{selectedItem:s,selectedShape:i})}else this.selectedItem={},this.selectedShape=null}},{key:"updateOryxButtonPosition",value:function(e){et["a"].dispatch(Wt.CONFIG.EVENT_TYPE_HIDE_SHAPE_BUTTONS,[{type:"hide_shape_buttons",status:!0}]);var t=!0,i=!0,n=!0,s=e;if(s&&1===s.length){var a=s.first(),o=this.getCanvas().node.getScreenCTM(),r=a.absoluteXY();r.x*=o.a,r.y*=o.d;var c=1;c=Wt.Utils.IEZoomBelow10(c);var h=jQuery("#canvasSection");if(1===c)r.y=r.y-h.offset().top+5,r.x=r.x-h.offset().left;else{var l=h.offset().left,d=h.scrollLeft(),u=h.scrollTop(),g=o.e-l*c,A=0;g>10&&(A=g/c-g),r.y=r.y-h.offset().top*c+5+(u*c-u),r.x=r.x-l*c+A+(d*c-d)}var p=new Wt.Core.Bounds(o.e+r.x,o.f+r.y,o.e+r.x+o.a*a.bounds.width(),o.f+r.y+o.d*a.bounds.height()),f=p.upperLeft(),E=this.getStencilItemById(a.getStencil().idWithoutNs()),v=[];if(E&&E.morphRole)for(var _=0;_<this.morphRoles.length;_++)this.morphRoles[_].role===E.morphRole&&(v=this.morphRoles[_].morphOptions);var m=f.x;p.width()<48&&(m-=24),v&&v.length>0&&(i=!1);var S=document.getElementById("flow_op_btns");S.style.left=m+"px",S.style.top=f.y+p.height()+2+"px";var b=a._stencil._jsonStencil.id.endsWith("CollapsedSubProcess");if(n=!b,E&&(E.canConnect||E.canConnectAssociation)){var O=f.x+p.width()+5,y=f.y,T=document.getElementById("flow_add_btns");T.style.left=O+"px",T.style.top=y+"px",t=!1}et["a"].dispatch(Wt.CONFIG.EVENT_TYPE_HIDE_SHAPE_BUTTONS,[{type:"hide_shape_buttons",status:!1},{type:"hide_flow_add_btns",status:t},{type:"hide_morph_buttons",status:i},{type:"hide_edit_buttons",status:n}])}}},{key:"updateToolbarButtonStatus",value:function(e){for(var t=0;t<this.toolbarItems.length;t++){var i=this.toolbarItems[t];if(i.enabledAction&&"element"===i.enabledAction){var n=1;i.minSelectionCount&&(n=i.minSelectionCount),e.length>=n&&!i.enabled?i.enabled=!0:0==e.length&&i.enabled&&(i.enabled=!1)}}}},{key:"initAddListener",value:function(e){et["a"].addListener(Wt.CONFIG.EVENT_TYPE_EDITOR_READY,function(){var t=window.location.href,i=new RegExp("[?&]subProcessId(=([^&#]*)|&|#|$)"),n=i.exec(t);n&&n[2]&&e.edit(decodeURIComponent(n[2].replace(/\+/g," ")))}),et["a"].addListener(Wt.CONFIG.EVENT_TYPE_UNDO_REDO_RESET,function(){if(this.items)for(var e=0;e<this.items.length;e++){var t=this.items[e];"FLOWABLE.TOOLBAR.ACTIONS.undo"!==t.action&&"FLOWABLE.TOOLBAR.ACTIONS.redo"!==t.action||(t.enabled=!1)}},this),et["a"].addListener(Wt.CONFIG.EVENT_TYPE_SHOW_VALIDATION_POPUP,function(e){var t=function(){this.currentValidationId=e.validationId,this.isOnProcessLevel=e.onProcessLevel,_internalCreateModal({template:"editor-app/popups/validation-errors.html?version="+ft()()},$modal,this)};t()}),et["a"].addListener(Wt.CONFIG.EVENT_TYPE_NAVIGATE_TO_PROCESS,function(t){var i=e.getBaseModelData();this.editorHistory.push({id:i.modelId,name:i.name,type:"bpmnmodel"}),$window.location.href="../editor/#/editor/"+t.processId})}}]),e}(),ri={name:"flowEditor",data:function(){return{wrapperHeight:"700px",editorManager:null,editor:null,editorHistory:[],undoStack:[],redoStack:[],forceSelectionRefresh:!1}},mixins:[ve],props:{config:{type:Object}},components:{toolbar:Oe,paletteWrapper:qe,canvasWrapper:gt,propertySection:At["a"]},created:function(){},computed:{},mounted:function(){this.editorManager=new oi(Object(W["a"])({},this.config,{elementsWithoutRenameAction:["Lane","V-Lane"]}))},methods:{}},ci=ri,hi=Object(c["a"])(ci,z,G,!1,null,null,null),li=hi.exports;li.install=function(e){e.component(li.name,li)};var di=li,ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"draggable",rawName:"v-draggable",value:{onStart:"startDragCallback",onDrag:"dragCallback",revert:"invalid",helper:"clone",opacity:.5},expression:"{onStart:'startDragCallback', onDrag:'dragCallback', revert: 'invalid', helper: 'clone', opacity : 0.5}"}],attrs:{id:e.item.id,title:e.item.description,"data-drag":"true","data-model":"draggedElement"}},[e.item.customIcon?e._e():n("img",{attrs:{width:"16px;",height:"16px;",src:i("6386")("./"+e.item.icon)}}),n("span",[e._v(e._s(e.item.name))])])},gi=[],Ai={name:"stencilDragItem",data:function(){return{dragModeOver_drag:!1}},directives:{draggable:rt},props:{editorManager:{},item:{type:Object}},mounted:function(){var e=this;tt.$on("UPDATE_dragModeOver_forDragItem",function(t){console.log(9999,t),e.dragModeOver_drag=t})},methods:{startDragCallback:function(e,t){console.log("startDragCallback"),tt.$emit("UPDATE_dragModeOver",!1),tt.$emit("UPDATE_quickMenu",!1),t.helper.hasClass("stencil-item-dragged")||t.helper.addClass("stencil-item-dragged")},dragCallback:function(e,t){var i=this;if(!1!==this.dragModeOver_drag){var n=this.editorManager.eventCoordinatesXY(e.pageX,e.pageY),s=1;if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){var a=navigator.userAgent;if(a.indexOf("MSIE")>=0){var o=Math.round(screen.deviceXDPI/screen.logicalXDPI*100);100!==o&&(s=o/100)}}1!==s&&(n.x=n.x/s,n.y=n.y/s);var r=this.editorManager.getCanvas().getAbstractShapesAtPosition(n);if(r.length<=0&&e.helper)return tt.$emit("UPDATE_dragCanContain",!1),!1;this.editorManager.instanceofCanvas(r[0])&&this.editorManager.getCanvas().setHightlightStateBasedOnX(n.x);var c=this.editorManager.getStencilItemById(e.target.id);if(1==r.length&&this.editorManager.instanceofCanvas(r[0])){var h=r[0];return"Lane"===c.id||"V-Lane"===c.id||"BoundaryErrorEvent"===c.id||"BoundaryMessageEvent"===c.id||"BoundarySignalEvent"===c.id||"BoundaryTimerEvent"===c.id||"BoundaryCancelEvent"===c.id||"BoundaryCompensationEvent"===c.id||"EntryCriterion"===c.id?(tt.$emit("UPDATE_dragCanContain",!1),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"shapeRepo.added",elements:[h],style:$["a"].SELECTION_HIGHLIGHT_STYLE_RECTANGLE,color:$["a"].SELECTION_INVALID_COLOR})):(tt.$emit("UPDATE_dragCanContain",!0),this.editorManager.dragCurrentParent=h,this.editorManager.dragCurrentParentId=h.id,this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.added"})),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.attached"}),!1}var l=r.reverse().find(function(e){return i.editorManager.instanceofCanvas(e)||(c.id.endsWith("Lane")?i.editorManager.instanceofNode(e):i.editorManager.instanceofNode(e)&&!(e.getStencil().id().endsWith("Lane")||e.getStencil().id().endsWith("Pool")))||i.editorManager.instanceofEdge(e)});if(this.editorManager.instanceofCanvas(l))return"Lane"===c.id||"V-Lane"===c.id||"BoundaryErrorEvent"===c.id||"BoundaryMessageEvent"===c.id||"BoundarySignalEvent"===c.id||"BoundaryTimerEvent"===c.id||"BoundaryCancelEvent"===c.id||"BoundaryCompensationEvent"===c.id||"EntryCriterion"===c.id?(tt.$emit("UPDATE_dragCanContain",!1),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"shapeRepo.added",elements:[l],style:$["a"].SELECTION_HIGHLIGHT_STYLE_RECTANGLE,color:$["a"].SELECTION_INVALID_COLOR})):(tt.$emit("UPDATE_dragCanContain",!0),this.editorManager.dragCurrentParent=l,this.editorManager.dragCurrentParentId=l.id,this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.added"})),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.attached"}),!1;if(!l)return tt.$emit("UPDATE_dragCanContain",!1),!1;if("node"===c.type){var d=!1,u=l.getStencil().id();if(this.editorManager.dragCurrentParentId&&this.editorManager.dragCurrentParentId===l.id)return!1;var g=this.editorManager.getStencilItemById(l.getStencil().idWithoutNs());if(g.roles.indexOf("Activity")>-1?(c.roles.indexOf("IntermediateEventOnActivityBoundary")>-1||c.roles.indexOf("EntryCriterionOnItemBoundary")>-1||c.roles.indexOf("ExitCriterionOnItemBoundary")>-1)&&(d=!0):g.roles.indexOf("StageActivity")>-1?(c.roles.indexOf("EntryCriterionOnItemBoundary")>-1||c.roles.indexOf("ExitCriterionOnItemBoundary")>-1)&&(d=!0):g.roles.indexOf("StageModelActivity")>-1?c.roles.indexOf("ExitCriterionOnItemBoundary")>-1&&(d=!0):"Pool"===l.getStencil().idWithoutNs()?"Lane"===c.id&&(d=!0):"V-Pool"===l.getStencil().idWithoutNs()&&"V-Lane"===c.id&&(d=!0),d)this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"shapeRepo.attached",elements:[l],style:$["a"].SELECTION_HIGHLIGHT_STYLE_RECTANGLE,color:$["a"].SELECTION_VALID_COLOR}),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.added"});else{for(var A=this.editorManager.containmentRules,p=0;p<A.length;p++){var f=A[p];if(f.role===g.id){for(var E=0;E<f.contains.length;E++)if(c.roles.indexOf(f.contains[E])>-1){d=!0;break}if(d)break}}this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"shapeRepo.added",elements:[l],color:d?$["a"].SELECTION_VALID_COLOR:$["a"].SELECTION_INVALID_COLOR}),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.attached"})}this.editorManager.dragCurrentParent=l,this.editorManager.dragCurrentParentId=l.id,this.editorManager.dragCurrentParentStencil=u,tt.$emit("UPDATE_dragCanContain",d)}else{var v=this.editorManager.getCanvas(),_=!1,m=this.editorManager.getStencilItemById(l.getStencil().idWithoutNs());if(m){var S=!1;"Association"!==stencil.idWithoutNs()||"TextAnnotation"!==curCan.getStencil().idWithoutNs()&&"BoundaryCompensationEvent"!==curCan.getStencil().idWithoutNs()?"DataAssociation"===stencil.idWithoutNs()&&"DataStore"===curCan.getStencil().idWithoutNs()&&(S=!0):S=!0,(m.canConnectTo||S)&&(_=!0)}this.editorManager.dragCurrentParent=v,this.editorManager.dragCurrentParentId=v.id,this.editorManager.dragCurrentParentStencil=v.getStencil().id(),tt.$emit("UPDATE_dragCanContain",_),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_SHOW,highlightId:"shapeRepo.added",elements:[v],color:$["a"].SELECTION_VALID_COLOR}),this.editorManager.handleEvents({type:$["a"].EVENT_HIGHLIGHT_HIDE,highlightId:"shapeRepo.attached"})}}}}},pi=Ai,fi=Object(c["a"])(pi,ui,gi,!1,null,"272dd1c8",null),Ei=fi.exports;Ei.install=function(e){e.component(Ei.name,Ei)};var vi=Ei,_i=[di,gt,At["a"],qe,Oe,Ve,We,Le,vi],mi=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ee.use(i.locale),Ee.i18n(i.i18n),e.installed||_i.forEach(function(e){return t.component(e.name,e)})};"undefined"!==typeof window&&window.Vue&&mi(window.Vue);var Si={locale:Ee.use,i18n:Ee.i18n,install:mi,flowEditor:di,canvasWrapper:gt,propertySection:At["a"],paletteWrapper:qe,editorToolbar:Oe,processTreeList:Ve,rootStencilTtem:We,stencilItem:Le,stencilDragItem:vi},bi=(i("61cc"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"docs-demo-wrapper"},[i("div",{staticClass:"demo-container",style:{height:e.isExpand?"auto":"0"}},[i("div",{attrs:{span:"14"}},[i("div",{staticClass:"docs-demo docs-demo--expand"},[i("div",{staticClass:"highlight-wrapper"},[e._t("highlight")],2)])])]),i("span",{staticClass:"docs-trans docs-demo__triangle",on:{click:e.toggle}},[e._v(e._s(e.isExpand?"隐藏代码":"显示代码"))])])}),Oi=[],yi={data:function(){return{isExpand:!1}},methods:{toggle:function(){this.isExpand=!this.isExpand}}},Ti=yi,Ci=(i("96ac"),Object(c["a"])(Ti,bi,Oi,!1,null,null,null)),Ni=Ci.exports;n["default"].use(Si),n["default"].component("demo-block",Ni),n["default"].config.productionTip=!1,n["default"].filter("limitLength",function(e,t){return e?e.length<=t?e:e.slice(0,t):""}),n["default"].filter("dateformat",function(e,t){return e||""}),new n["default"]({router:d["a"],render:function(e){return e(l)}}).$mount("#app")},c4c0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAA6SURBVDiNY/z//z8DJYCJIt3UMIAxIiKCMj9ERET8////PwMMo/Px4YiIiP8DHwajBgyGhMQ49DMTAImWNxGXuc7EAAAAAElFTkSuQmCC"},c5e4:function(e,t,i){"use strict";var n=i("6fef"),s=i("eb23"),a=i("d225"),o=i("b0b4"),r=i("308d"),c=i("6bb5"),h=i("2a88"),l=i("4e2b"),d=i("0130"),u=function(e){function t(){var e;return Object(a["a"])(this,t),e=Object(r["a"])(this,Object(c["a"])(t).call(this)),e.anchorLeft=null,e.anchorRight=null,e.anchorTop=null,e.anchorBottom=null,e.bounds.set(0,0,16,16),e.node=d["a"].graft("http://www.w3.org/2000/svg",null,["g",{"pointer-events":"all"},["circle",{cx:"8",cy:"8",r:"4",stroke:"none",fill:"red","fill-opacity":"0.3"}]]),e.hide(),e}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"update",value:function(){Object(h["a"])(Object(c["a"])(t.prototype),"update",this).call(this)}},{key:"_update",value:function(){Object(h["a"])(Object(c["a"])(t.prototype),"update",this).call(this)}},{key:"refresh",value:function(){Object(h["a"])(Object(c["a"])(t.prototype),"refresh",this).call(this);var e=this.bounds.upperLeft();this.node.setAttributeNS(null,"transform","translate("+e.x+", "+e.y+")")}},{key:"show",value:function(){Object(h["a"])(Object(c["a"])(t.prototype),"show",this).call(this)}},{key:"toString",value:function(){return"Magnet "+this.id}},{key:"getInstanceofType",value:function(){return"Magent"}}]),t}(n["a"]),g={Control:n["a"],Docker:s["a"],Magnet:u};t["a"]=g},cc46:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJySURBVDiNZZNPaFVXEMZ/37n3EUiE6OY1CroKfcTYuonUunuLWvzTdiF5nCtEbBGEgoIuIyQUpHQXQt1EcFFIbuDGhaBk011aqmAiRMUkRHCVBrowpA8q0nvPuPC89pWe1Zz5Zr6Z+ZiRmdH9Wq3WYJqmg8BnZpYBmNkysBxCyIuieNkd7zqGJGVZdjVJklXgUAjhOfABsF/SF5K+S5JkNcuyq5L0HwJJ8t7fB6aBv4GDkq5JugzckfQCMKAXmPbez3dIHID3/gpwJpLeN7PPgY/MzObn5y/leT5sZh8Dm5I2enp6xr333wJodHR0MLbdC2ymaXq2LMt1QMAfVVV9WBTFbtSnv1arNauqqkuaqqrqqHPOnY/JJunLqqo+jckA9TRNJzrzLiws/BlCuC5pH9DrnDvvgJGIb+R5vm5mp7tVNrMrrVarEUe9DOwBhiM84iR1CH5rNpupmZ0E/pJ0MfprSZJMjY2N7Qd+kLQk6XUUf8T9W4s39Xr9hKS9Zjae5/lPwIOInSrL8megP4SwZGY9HXIHPIlshyWdAX4dGhr6ESBJknEgxOBhgBDCL8DR6Ft3klbi53dJTefcN5OTkwFgdnb2GZB3dbnmnDsAHItFH7qyLG9LapvZYzO71263t7pFrKpqgvfLhZktSZoBUuBtWZbTriiKLWAihLAqqdHX17five+0SFEUr4CZWHEN+CTaU0VRbKUA29vbtwYGBs4BFyL4JMuyNeCRmbWdcytm9kYS8fjuNhqNGwDqvkbv/deSbvF+sbrfFnATOALs7O7u3lxcXHz7PwL455y/MrPjwHGgBqxK+l7S07m5uZ3u+Hdrd/sMyAAzeQAAAABJRU5ErkJggg=="},ce61:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAESSURBVDiNxZOxSsVAEEXvHQXzCgNWWvsF/sFTsLK0SUIs/Qet7CysRBBrQUjCdlZa2Pg6P8FSsLNQeYUISa6NCWsgUUjhwDZ3mbMzd2coCWPCRmUDWOy7SNN0RdKepH0Al3men/4KIMkkSba+k3YBLAGApOW+h9h4EMdxTPIYwLoHnEs6l3RlZq1ZZVk+Oec+WkAURdtmdjPUUqfSWZZl07YFM8sHkitJd75gZq0fzS/09ghggeSmf+q6vk6S5KKt4A8xB1B1tDcfMDhNkp5JfnrSS1VVJz7gAcC0D0ByoyO9AlgD8N54cDZUAckZgHuSB0EQTMIwXHXOPQI/5+CQ5BGAyQDrtiiKHXkLxH9fptGAL210ZLUSXdD0AAAAAElFTkSuQmCC"},d5b2:function(e,t,i){"use strict";i.d(t,"a",function(){return p});i("f559");var n=i("f499"),s=i.n(n),a=(i("6b54"),i("7f7f"),i("c5f6"),i("a481"),i("ac6a"),i("55dd"),i("6762"),i("2fdb"),i("7514"),i("d225")),o=i("b0b4"),r=i("308d"),c=i("6bb5"),h=i("013f"),l=i("4e2b"),d=i("4346"),u=i("6f1d"),g=i("af70"),A=i("0130"),p=function(e){function t(e,i,n){var s;if(Object(a["a"])(this,t),s=Object(r["a"])(this,Object(c["a"])(t).call(this,e)),s.resourceId=A["a"].provideId(),s._stencil=i,s._stencil._jsonStencil.superId){var o=s._stencil.id(),l=o.substring(0,o.indexOf("#")+1)+i._jsonStencil.superId,d=s._stencil.stencilSet();s._stencil=d.stencil(l)}return s.properties=new Hash,s.propertiesChanged=new Hash,s.hiddenProperties=new Hash,s._stencil.properties().each(function(e){var t=e.prefix()+"-"+e.id();this.properties.set(t,e.value()),this.propertiesChanged.set(t,!0)}.bind(Object(h["a"])(s))),i._jsonStencil.superId&&i.properties().each(function(e){var t=e.prefix()+"-"+e.id(),i=e.value(),n=this.properties.get(t);this.properties.set(t,i),this.propertiesChanged.set(t,!0),this._delegateEvent({type:g["a"].EVENT_PROPERTY_CHANGED,name:t,value:i,oldValue:n})}.bind(Object(h["a"])(s))),s}return Object(l["a"])(t,e),Object(o["a"])(t,[{key:"layout",value:function(){}},{key:"getStencil",value:function(){return this._stencil}},{key:"getChildShapeByResourceId",value:function(e){return e=u["a"].__stripHashes(e),this.getChildShapes(!0).find(function(t){return t.resourceId==e})}},{key:"getChildShapes",value:function(e,t){var i=[];return this.children.each(function(n){var s=n.getInstanceofType();s.includes("Shape")&&n.isVisible&&(t&&t(n),i.push(n),e&&(i=i.concat(n.getChildShapes(e,t))))}),i}},{key:"hasChildShape",value:function(e){return this.getChildShapes().any(function(t){return t===e||t.hasChildShape(e)})}},{key:"getChildNodes",value:function(e,t){var i=[];return this.children.each(function(n){var s=n.getInstanceofType();s.includes("Node")&&n.isVisible&&(t&&t(n),i.push(n)),s.includes("Shape")&&e&&(i=i.concat(n.getChildNodes(e,t)))}),i}},{key:"getChildEdges",value:function(e,t){var i=[];return this.children.each(function(n){var s=n.getInstanceofType();s.includes("Edge")&&n.isVisible&&(t&&t(n),i.push(n)),s.includes("Shape")&&e&&(i=i.concat(n.getChildEdges(e,t)))}),i}},{key:"getAbstractShapesAtPosition",value:function(){var e,t;switch(arguments.length){case 1:e=arguments[0].x,t=arguments[0].y;break;case 2:e=arguments[0],t=arguments[1];break;default:throw"getAbstractShapesAtPosition needs 1 or 2 arguments!"}if(this.isPointIncluded(e,t)){var i=[];i.push(this);var n=this.getChildNodes(),s=this.getChildEdges(),a=[n,s];return a.each(function(n){var s=new Hash;n.each(function(i){if(i.isVisible){var n=i.getAbstractShapesAtPosition(e,t);if(n.length>0){var a=$A(i.node.parentNode.childNodes),o=a.indexOf(i.node);s.set(o,n)}}}),s.keys().sort().each(function(e){i=i.concat(s.get(e))})}),i}return[]}},{key:"setProperty",value:function(e,t,i){var n=this.properties.get(e);n===t&&!0!==i||(this.properties.set(e,t),this.propertiesChanged.set(e,!0),this._changed(),this._isInSetProperty||(this._isInSetProperty=!0,this._delegateEvent({type:g["a"].EVENT_PROPERTY_CHANGED,elements:[this],name:e,value:t,oldValue:n}),delete this._isInSetProperty))}},{key:"isPropertyChanged",value:function(){return this.propertiesChanged.any(function(e){return e.value})}},{key:"setHiddenProperty",value:function(e,t){if(void 0!==t){var i=this.hiddenProperties.get(e);i!==t&&this.hiddenProperties.set(e,t)}else this.hiddenProperties.unset(e)}},{key:"isPointIncluded",value:function(e,t,i){var n=i||this.absoluteBounds();return n.isIncluded(e,t)}},{key:"serialize",value:function(){var e=[];return e.push({name:"type",prefix:"oryx",value:this.getStencil().id(),type:"literal"}),this.hiddenProperties.each(function(t){e.push({name:t.key.replace("oryx-",""),prefix:"oryx",value:t.value,type:"literal"})}.bind(this)),this.getStencil().properties().each(function(t){var i=t.prefix(),n=t.id();e.push({name:n,prefix:i,value:this.properties.get(i+"-"+n),type:"literal"})}.bind(this)),e}},{key:"deserialize",value:function(e){e=e.sort(function(e,t){return e=Number(this.properties.keys().member(e.prefix+"-"+e.name)),t=Number(this.properties.keys().member(t.prefix+"-"+t.name)),e>t?1:e<t?-1:0}.bind(this)),e.each(function(e){var t=e.name,i=e.prefix,n=e.value;switch("Object"===Object.prototype.toString.call(n)&&(n=s()(n)),i+"-"+t){case"raziel-parent":if(!this.parent)break;var a=this.getCanvas().getChildShapeByResourceId(n);a&&a.add(this);break;default:var o=this.getStencil().property(i+"-"+t);o&&o.isList()&&"string"===typeof n&&(!(n||"").strip()||n.startsWith("[")||n.startsWith("]")||(n='["'+n.strip()+'"]'),n=((n||"").strip()||"[]").evalJSON()),this.properties.keys().member(i+"-"+t)?this.setProperty(i+"-"+t,n):"bounds"!==t&&"parent"!==t&&"target"!==t&&"dockers"!==t&&"docker"!==t&&"outgoing"!==t&&"incoming"!==t&&this.setHiddenProperty(i+"-"+t,n)}}.bind(this))}},{key:"toString",value:function(){return"ORYX.Core.AbstractShape "+this.id}},{key:"toJSON",value:function(){var e=this.properties.merge(this.hiddenProperties),t=new Hash;e.each(function(e){var i=e.key,n=e.value;if(this.getStencil().property(i)&&this.getStencil().property(i).type()===g["a"].TYPE_COMPLEX&&"String"===Object.prototype.toString.call(n))try{n=JSON.parse(n)}catch(s){}else if(n instanceof Date&&this.getStencil().property(i))try{n=n.format(this.getStencil().property(i).dateFormat())}catch(a){}i=i.replace(/^[\w_]+-/,""),t.set(i,n)}.bind(this));var i={resourceId:this.resourceId,properties:t.toObject(),stencil:{id:this.getStencil().idWithoutNs()},childShapes:this.getChildShapes().map(function(e){return e.toJSON()})};return this.getOutgoingShapes&&(i.outgoing=this.getOutgoingShapes().map(function(e){return{resourceId:e.resourceId}})),this.bounds&&(i.bounds={lowerRight:this.bounds.lowerRight(),upperLeft:this.bounds.upperLeft()}),this.dockers&&(i.dockers=this.dockers.map(function(e){var t=e.getDockedShape()&&e.referencePoint?e.referencePoint:e.bounds.center();return t.getDocker=function(){return e},t})),jQuery.extend(i,A["a"].JSONHelper),i.getShape=function(){return this}.bind(this),i}}]),t}(d["a"])},d725:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAESSURBVDiNpZMxSsRAGIXfHyZgsFnBJoVgt+ANtllIp54gTKop1gtYWIqwjYUXsEmV3GBZu4CHEGRBtksj2FrI/2wSWXYnjrKvfPP/37yBN0IS+8j4zKIojlT1XkSmAEDyOYqim6qqPrZno21DRERVFwBmJMckxwBmqroQEQkCrLUXACaeYJM8zy+DAJInvmd1Og0CVPVgaFtEDoMAAOshAMm3IMAYszO0AVgFAXEcrwZSrJMkeQ0CyrL8BDD3AObd2e8A59yoL9CmRGTqnBvt+H2VsywzaZpekbwDcOxJAADvInLbtu1j0zRfPwBr7TmAB5JnA4vbaV4AXNd1/WQAgOTyL4u9uouWAMTXg39J9v3O3/tPZDq1OyK2AAAAAElFTkSuQmCC"},de4e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE/SURBVDiNpZMxbhpBGIXfN50LLkFhbQ9WJNL4AOmX2WkiLoD7VFtwgPQWolkz9LkCSFHCBSh8CffzXLBEFE7A8ZNGmuJ9ml9v3o9tnWs6nd4CjaRRfyRpL2lv+ynnfDj3h9MFoGmaB2Br+8b2o6SxpLHtR9s3wLb38IezLYC6rn8AgxDC167rnvWGUkrDUsrK9stms/li20GSYoxzYFBV1f3fYEnquu65qqp7YBBjnEsSdV3fAtsQwqd/wW9M8tP25wA0tpfXwqdJbC+BGHRMenctfKadpHGQNAJ+vZfumVG46LygoGNB7t4L9sw+6NiyyX88PpH0O9h+AmYppeG1ZEppCMxsr0PO+QAsSimrtm0vZtK2bSilrIBFzvnw4Spz2kaAGOPc9jfbS0m70/f2gU2AGbBYr9ff3YN8dJ1fAZZ7wIFK8M93AAAAAElFTkSuQmCC"},e2fd:function(e,t){e.exports="data:image/png;base64,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"},eb23:function(e,t,i){"use strict";i.d(t,"a",function(){return g});i("6762"),i("2fdb");var n=i("d225"),s=i("b0b4"),a=i("308d"),o=i("013f"),r=i("6bb5"),c=i("2a88"),h=i("4e2b"),l=i("6fef"),d=i("af70"),u=i("0130"),g=function(e){function t(){var e;return Object(n["a"])(this,t),e=Object(a["a"])(this,Object(r["a"])(t).apply(this,arguments)),e.isMovable=!0,e.bounds.set(0,0,16,16),e.referencePoint=void 0,e._dockedShapeBounds=void 0,e._dockedShape=void 0,e._oldRefPoint1=void 0,e._oldRefPoint2=void 0,e.anchorLeft=null,e.anchorRight=null,e.anchorTop=null,e.anchorBottom=null,e.node=u["a"].graft("http://www.w3.org/2000/svg",null,["g"]),e._dockerNode=u["a"].graft("http://www.w3.org/2000/svg",e.node,["g",{"pointer-events":"all"},["circle",{cx:"8",cy:"8",r:"8",stroke:"none",fill:"none"}],["circle",{cx:"8",cy:"8",r:"3",stroke:"black",fill:"red","stroke-width":"1"}]]),e._referencePointNode=u["a"].graft("http://www.w3.org/2000/svg",e.node,["g",{"pointer-events":"none"},["circle",{cx:e.bounds.upperLeft().x,cy:e.bounds.upperLeft().y,r:3,fill:"red","fill-opacity":.4}]]),e.hide(),e.addEventHandlers(e._dockerNode),e._updateCallback=e._changed.bind(Object(o["a"])(e)),e}return Object(h["a"])(t,e),Object(s["a"])(t,[{key:"update",value:function(){if(this._dockedShape){var e=this._dockedShape.getInstanceofType();if(this._dockedShapeBounds&&e.includes("Node")){var i=this._dockedShapeBounds.width(),n=this._dockedShapeBounds.height();i||(i=1),n||(n=1);var s=this._dockedShape.bounds.width()/i,a=this._dockedShape.bounds.height()/n;1===s&&1===a||(this.referencePoint.x*=s,this.referencePoint.y*=a),this._dockedShapeBounds=this._dockedShape.bounds.clone()}var o=this.parent.dockers.indexOf(this),h=this,l=this.parent.dockers.length>1?0===o?this.parent.dockers[o+1]:this.parent.dockers[o-1]:void 0,d=h.getDockedShape()?h.getAbsoluteReferencePoint():h.bounds.center(),u=l&&l.getDockedShape()?l.getAbsoluteReferencePoint():l?l.bounds.center():void 0;if(!u){var g=this._dockedShape.absoluteCenterXY(),A=this._dockedShape.bounds.width()*this._dockedShape.bounds.height();u={x:d.x+(g.x-d.x)*-A,y:d.y+(g.y-d.y)*-A}}var p=this._dockedShape.getIntersectionPoint(d,u);if(p||(p=this.getAbsoluteReferencePoint()),this.parent&&this.parent.parent){var f=this.parent.parent.absoluteXY();p.x-=f.x,p.y-=f.y}this.bounds.centerMoveTo(p),this._oldRefPoint1=d,this._oldRefPoint2=u}Object(c["a"])(Object(r["a"])(t.prototype),"update",this).call(this)}},{key:"refresh",value:function(){Object(c["a"])(Object(r["a"])(t.prototype),"refresh",this).call(this);var e=this.bounds.upperLeft();if(this._dockerNode.setAttributeNS(null,"transform","translate("+e.x+", "+e.y+")"),e=Object.clone(this.referencePoint),e&&this._dockedShape){var i,n=this.parent.getInstanceofType();i=n.includes("Edge")?this._dockedShape.absoluteXY():this._dockedShape.bounds.upperLeft(),e.x+=i.x,e.y+=i.y}else e=this.bounds.center();this._referencePointNode.setAttributeNS(null,"transform","translate("+e.x+", "+e.y+")")}},{key:"setReferencePoint",value:function(e){this.referencePoint===e||this.referencePoint&&e&&this.referencePoint.x===e.x&&this.referencePoint.y===e.y||(this.referencePoint=e,this._changed())}},{key:"getAbsoluteReferencePoint",value:function(){if(this.referencePoint&&this._dockedShape){var e=this._dockedShape.absoluteXY();return{x:this.referencePoint.x+e.x,y:this.referencePoint.y+e.y}}}},{key:"setDockedShape",value:function(e){this._dockedShape&&(this._dockedShape.bounds.unregisterCallback(this._updateCallback),this===this.parent.dockers.first()?(this.parent.incoming=this.parent.incoming.without(this._dockedShape),this._dockedShape.outgoing=this._dockedShape.outgoing.without(this.parent)):this===this.parent.dockers.last()&&(this.parent.outgoing=this.parent.outgoing.without(this._dockedShape),this._dockedShape.incoming=this._dockedShape.incoming.without(this.parent))),this._dockedShape=e,this._dockedShapeBounds=void 0;var t=void 0;if(this._dockedShape){this===this.parent.dockers.first()?(this.parent.incoming.push(e),e.outgoing.push(this.parent)):this===this.parent.dockers.last()&&(this.parent.outgoing.push(e),e.incoming.push(this.parent));var i=this.bounds,n=e.absoluteXY();t={x:i.center().x-n.x,y:i.center().y-n.y},this._dockedShapeBounds=this._dockedShape.bounds.clone(),this._dockedShape.bounds.registerCallback(this._updateCallback),this.setDockerColor(d["a"].DOCKER_DOCKED_COLOR)}else this.setDockerColor(d["a"].DOCKER_UNDOCKED_COLOR);this.setReferencePoint(t),this._changed()}},{key:"getDockedShape",value:function(){return this._dockedShape}},{key:"isDocked",value:function(){return!!this._dockedShape}},{key:"setDockerColor",value:function(e){this._dockerNode.lastChild.setAttributeNS(null,"fill",e)}},{key:"preventHiding",value:function(e){this._preventHiding=Math.max(0,(this._preventHiding||0)+(e?1:-1))}},{key:"hide",value:function(){if(this._preventHiding)return!1;this.node.setAttributeNS(null,"visibility","hidden"),this._referencePointNode.setAttributeNS(null,"visibility","hidden"),this.children.each(function(e){e.hide()})}},{key:"show",value:function(){this.node.setAttributeNS(null,"visibility","visible"),this.getDockedShape()&&this.getDockedShape().getInstanceofType().includes("Edge")?this._referencePointNode.setAttributeNS(null,"visibility","hidden"):this._referencePointNode.setAttributeNS(null,"visibility","visible"),this.children.each(function(e){e.show()})}},{key:"toString",value:function(){return"Docker "+this.id}},{key:"getInstanceofType",value:function(){return"Docker"}}]),t}(l["a"])},ebd4:function(e,t,i){"use strict";var n=i("c117"),s=i.n(n);s.a},edba:function(e,t){e.exports="data:image/png;base64,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"},ee95:function(e){e.exports={"开发指南":[{name:"introduce",path:"/introduce",desc:"介绍"},{name:"start",path:"/start",desc:"快速上手"},{name:"logs",path:"/logs",desc:"更新日志"},{name:"contribute",path:"/contribute",desc:"开发指南"},{name:"index",isMobile:"1",path:"/index",type:"pages"}],"组件":[{desc:"基础组件",isMobile:"1",items:[{desc:"Icon 图标",name:"icon",isMobile:"1",path:"/icon"}]},{desc:"卡片组件",isMobile:"1",items:[{desc:"Base 基础卡片",isMobile:"1",name:"base-card",path:"/base-card"}]}],API:[{name:"editorManager",path:"/EditorManager",desc:"EditorManager",items:[{desc:"Icon 图标",name:"icon",isAnchor:"1",path:"/icon"}]},{name:"FLOW_OPTIONS",path:"/FLOW_OPTIONS",desc:"FLOW_OPTIONS",items:[{desc:"Base 基础卡片",isAnchor:"1",name:"base-card",path:"/base-card"}]},{name:"editorManager",path:"/EditorManager",desc:"vue组件里的使用"},{desc:"底层绘图插件oryx api整理",items:[{desc:"Icon 图标",name:"icon",isAnchor:"1",path:"/icon"}]}]}},f3da:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACPSURBVDiN7ZOxDcMwEANJIzOlygAa4flreI6sYa+QAdzISzGN5SoBBDllCLBg8XzgANI2rugGAJn5sP0EcF/XlZLO1i+5kpyXZdlgGxFRJRXb6LGkEhHVNroOPjkifBa0MOJpFF7jMlzQNDWyww1/Br9jsGdm6X2amUVSBY4xkZyPMb06hmQAO8kZAHh1zm9+xhz6mIDAWwAAAABJRU5ErkJggg=="},f4fd:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFQSURBVDiNrZOxTgJBEIa/WXINBU9BR6GBa3wGYwmBbSi3UmuewFqtrqQ5Ltcan4HmJFrY+RRX0BB2LJxLLgaCGv9udv5/dnbmX1FV2phMJn3nnAdSEUkBVLUCqhhjXpblR5svTQERkel0eg3cAV0OYwssiqJ4VBOKqjbiJ+DSiDtgo6qvVvwcGAKJ5Z+LorhSVRVVZTab3QD3lnwRkXme5+/tq733A1VdAiM7ul2tVg8yHo/7nU7nzdp+6fV6F1mW7Q71H0JI6rpeW5Htfr8/czawLrATkfkxMUCWZTsRmdsTu84574DU8pvvbR+CcTYWpq61qtdT4gat4abup6JjcGaSZlU/QsNV1coBlZ0PvfeDU2LjDC2sXIwx58thiaouQwjJMXEIITEvJMA2xpg78/bCOKO6rteHOvHeD1oeAFiUZfnxP1Y20t8/Uxu//c6ffF3G311hlAAAAAAASUVORK5CYII="},f5b6:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("d225"),s=i("b0b4"),a=function(){function e(){Object(n["a"])(this,e),this._changedCallbacks=[],this.a={},this.b={},this.set.apply(this,arguments),this.suspendChange=!1,this.changedWhileSuspend=!1}return Object(s["a"])(e,[{key:"_changed",value:function(e){this.suspendChange?this.changedWhileSuspend=!0:(this._changedCallbacks.each(function(t){t(this,e)}.bind(this)),this.changedWhileSuspend=!1)}},{key:"registerCallback",value:function(e){this._changedCallbacks.member(e)||this._changedCallbacks.push(e)}},{key:"unregisterCallback",value:function(e){this._changedCallbacks=this._changedCallbacks.without(e)}},{key:"set",value:function(){var e,t,i,n,s=!1;switch(arguments.length){case 1:this.a.x!==arguments[0].a.x&&(s=!0,this.a.x=arguments[0].a.x),this.a.y!==arguments[0].a.y&&(s=!0,this.a.y=arguments[0].a.y),this.b.x!==arguments[0].b.x&&(s=!0,this.b.x=arguments[0].b.x),this.b.y!==arguments[0].b.y&&(s=!0,this.b.y=arguments[0].b.y);break;case 2:e=Math.min(arguments[0].x,arguments[1].x),t=Math.min(arguments[0].y,arguments[1].y),i=Math.max(arguments[0].x,arguments[1].x),n=Math.max(arguments[0].y,arguments[1].y),this.a.x!==e&&(s=!0,this.a.x=e),this.a.y!==t&&(s=!0,this.a.y=t),this.b.x!==i&&(s=!0,this.b.x=i),this.b.y!==n&&(s=!0,this.b.y=n);break;case 4:e=Math.min(arguments[0],arguments[2]),t=Math.min(arguments[1],arguments[3]),i=Math.max(arguments[0],arguments[2]),n=Math.max(arguments[1],arguments[3]),this.a.x!==e&&(s=!0,this.a.x=e),this.a.y!==t&&(s=!0,this.a.y=t),this.b.x!==i&&(s=!0,this.b.x=i),this.b.y!==n&&(s=!0,this.b.y=n);break}s&&this._changed(!0)}},{key:"moveTo",value:function(){var e=this.upperLeft();switch(arguments.length){case 1:this.moveBy({x:arguments[0].x-e.x,y:arguments[0].y-e.y});break;case 2:this.moveBy({x:arguments[0]-e.x,y:arguments[1]-e.y});break;default:}}},{key:"moveBy",value:function(){var e=!1;switch(arguments.length){case 1:var t=arguments[0];0===t.x&&0===t.y||(e=!0,this.a.x+=t.x,this.b.x+=t.x,this.a.y+=t.y,this.b.y+=t.y);break;case 2:var i=arguments[0],n=arguments[1];0===i&&0===n||(e=!0,this.a.x+=i,this.b.x+=i,this.a.y+=n,this.b.y+=n);break;default:}e&&this._changed()}},{key:"include",value:function(e){if(void 0===this.a.x&&void 0===this.a.y&&void 0===this.b.x&&void 0===this.b.y)return e;var t=Math.min(this.a.x,e.a.x),i=Math.min(this.a.y,e.a.y),n=Math.max(this.b.x,e.b.x),s=Math.max(this.b.y,e.b.y);this.set(t,i,n,s)}},{key:"extend",value:function(e){0===e.x&&0===e.y||(this.b.x+=e.x,this.b.y+=e.y,this._changed(!0))}},{key:"widen",value:function(e){0!==e&&(this.suspendChange=!0,this.moveBy({x:-e,y:-e}),this.extend({x:2*e,y:2*e}),this.suspendChange=!1,this.changedWhileSuspend&&this._changed(!0))}},{key:"upperLeft",value:function(){var e={};return e.x=this.a.x,e.y=this.a.y,e}},{key:"lowerRight",value:function(){var e={};return e.x=this.b.x,e.y=this.b.y,e}},{key:"width",value:function(){return this.b.x-this.a.x}},{key:"height",value:function(){return this.b.y-this.a.y}},{key:"center",value:function(){var e={};return e.x=(this.a.x+this.b.x)/2,e.y=(this.a.y+this.b.y)/2,e}},{key:"midPoint",value:function(){var e={};return e.x=(this.b.x-this.a.x)/2,e.y=(this.b.y-this.a.y)/2,e}},{key:"centerMoveTo",value:function(){var e=this.center();switch(arguments.length){case 1:this.moveBy(arguments[0].x-e.x,arguments[0].y-e.y);break;case 2:this.moveBy(arguments[0]-e.x,arguments[1]-e.y);break}}},{key:"isIncluded",value:function(){var e,t,i;switch(arguments.length){case 1:e=arguments[0].x,t=arguments[0].y,i=0;break;case 2:arguments[0].x&&arguments[0].y?(e=arguments[0].x,t=arguments[0].y,i=Math.abs(arguments[1])):(e=arguments[0],t=arguments[1],i=0);break;case 3:e=arguments[0],t=arguments[1],i=Math.abs(arguments[2]);break;default:throw"isIncluded needs one, two or three arguments"}var n=this.upperLeft(),s=this.lowerRight();return e>=n.x-i&&e<=s.x+i&&t>=n.y-i&&t<=s.y+i}},{key:"clone",value:function(){return new e(this)}},{key:"toString",value:function(){return"( "+this.a.x+" | "+this.a.y+" )/( "+this.b.x+" | "+this.b.y+" )"}},{key:"serializeForERDF",value:function(){return this.a.x+","+this.a.y+","+this.b.x+","+this.b.y}}]),e}()},f896:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACySURBVDiNpZPBDYMwDEW/ETP11AEygu01MkfXgBU6AJew1O8lRhUigMKXfEjiPDvfipDEE40A4O5vkh8Ar3mexcw2amNdRCRP07SAJFS1mFkiiTthZklVC0ncunAUqsoNEIueGHrNC1+6AaEhnO0FSHWVAfkf2V5Hhca7iXtwFD314KybUNODuHwFGVpJAW0ZHPvxhNXdUytpL3dPZlaAaqKI5PqZvldt17NVRDJQx/hEP6Sk2jmxBXC7AAAAAElFTkSuQmCC"},f8cc:function(e,t,i){"use strict";var n=i("af70"),s={UIDragCallback:function(e){var t={x:Event.pointerX(e)-this.offSetPosition.x,y:Event.pointerY(e)-this.offSetPosition.y};t.x-=this.offsetScroll.x-this.scrollNode.scrollLeft,t.y-=this.offsetScroll.y-this.scrollNode.scrollTop,t.x/=this.faktorXY.x,t.y/=this.faktorXY.y,this.uiObj.bounds.moveTo(t),this.movedCallback&&this.movedCallback(e)},UIDisableDrag:function(e){document.documentElement.removeEventListener(n["a"].EVENT_MOUSEMOVE,this.dragCallback,!1),document.documentElement.removeEventListener(n["a"].EVENT_MOUSEUP,this.disableCallback,!0),this.upCallback&&this.upCallback(e),this.upCallback=void 0,this.movedCallback=void 0,Event.stop(e)},UIEnableDrag:function(e,t,i){console.log(t,this),this.uiObj=t;var s=t.bounds.upperLeft(),a=t.node.getScreenCTM();this.faktorXY={x:a.a,y:a.d},this.scrollNode=t.node.ownerSVGElement.parentNode.parentNode,this.offSetPosition={x:Event.pointerX(e)-s.x*this.faktorXY.x,y:Event.pointerY(e)-s.y*this.faktorXY.y},this.offsetScroll={x:this.scrollNode.scrollLeft,y:this.scrollNode.scrollTop},this.dragCallback=this.UIDragCallback.bind(this),this.disableCallback=this.UIDisableDrag.bind(this),this.movedCallback=i?i.movedCallback:void 0,this.upCallback=i?i.upCallback:void 0,document.documentElement.addEventListener(n["a"].EVENT_MOUSEUP,this.disableCallback,!0),document.documentElement.addEventListener(n["a"].EVENT_MOUSEMOVE,this.dragCallback,!1)}};t["a"]=s},fc71:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAA4SURBVDiNY/z//z8DJYCJIt3UMIAxIiKCIj+wMDAwMCxfvpyRHM2RkZH/Bz4MRg0YDAmJcehnJgD+lA4n8Ti0pwAAAABJRU5ErkJggg=="},ffea:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i("d225"),s=i("b0b4"),a=function(){function e(){Object(n["a"])(this,e)}return Object(s["a"])(e,[{key:"execute",value:function(){throw"Command.execute() has to be implemented!"}},{key:"rollback",value:function(){throw"Command.rollback() has to be implemented!"}}]),e}()}});
//# sourceMappingURL=index.9d426ced.js.map